(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19b30634"],{"00e8":function(e,t,r){var n,i;e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n=r(1);const i=new n["default"];if(t["default"]=i,Object.getOwnPropertyNames(n["default"].prototype).forEach(e=>{const t=i[e];"function"===typeof t&&(i[e]=t.bind(i))}),"undefined"!==typeof window)if("SolidAuthClient"in window)console.warn("Caution: multiple versions of solid-auth-client active.");else{let e=!1;Object.defineProperty(window,"SolidAuthClient",{enumerable:!0,get:()=>(e||(e=!0,console.warn("window.SolidAuthClient has been deprecated."),console.warn("Please use window.solid.auth instead.")),i)})}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return g}));var n=r(2),i=r.n(n),a=r(3),o=r.n(a),s=r(4),u=r(65),c=r(8),l=r(9),d=r(6),f=r(11);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const y=fetch;class g extends o.a{constructor(...e){super(...e),i()(this,"_pendingSession",void 0)}fetch(e,t){return this.emit("request",Object(d["toUrlString"])(e)),Object(s["authnFetch"])(Object(l["defaultStorage"])(),y,e,t)}login(e,t){return t=p(p({},v(Object(d["currentUrlNoParams"])())),t),f["login"](e,t)}async popupLogin(e){e=p(p({},v()),e),/https?:/.test(e.popupUri)||(e.popupUri=new URL(e.popupUri||"/.well-known/solid/login",window.location).toString()),e.callbackUri||(e.callbackUri=e.popupUri);const t=Object(u["openIdpPopup"])(e.popupUri),r=await Object(u["obtainSession"])(e.storage,t,e);return this.emit("login",r),this.emit("session",r),r}async currentSession(e=Object(l["defaultStorage"])()){let t=this._pendingSession||await Object(c["getSession"])(e);if(!t){try{this._pendingSession=f["currentSession"](e),t=await this._pendingSession}catch(r){console.error(r)}t&&(await Object(c["saveSession"])(e)(t),this.emit("login",t),this.emit("session",t)),delete this._pendingSession}return t}async trackSession(e){e(await this.currentSession()),this.on("session",e)}stopTrackSession(e){this.removeListener("session",e)}async logout(e=Object(l["defaultStorage"])()){const t=await Object(c["getSession"])(e);if(t){try{await f["logout"](e,y),this.emit("logout"),this.emit("session",null)}catch(r){console.warn("Error logging out:"),console.error(r)}await Object(c["clearSession"])(e)}}}function v(e){return{callbackUri:e?e.split("#")[0]:"",popupUri:"",storage:Object(l["defaultStorage"])()}}},function(e,t){function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.exports=r},function(e,t,r){"use strict";var n,i="object"===typeof Reflect?Reflect:null,a=i&&"function"===typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};function o(e){console&&console.warn&&console.warn(e)}n=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!==e};function u(){u.init.call(this)}e.exports=u,e.exports.once=w,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function d(e){return void 0===e._maxListeners?u.defaultMaxListeners:e._maxListeners}function f(e,t,r,n){var i,a,s;if(l(r),a=e._events,void 0===a?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]),void 0===s)s=a[t]=r,++e._eventsCount;else if("function"===typeof s?s=a[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=d(e),i>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,o(u)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=h.bind(n);return i.listener=r,n.wrapFn=i,i}function y(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"===typeof i?r?[i.listener||i]:[i]:r?b(i):v(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function v(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function m(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function b(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function w(e,t){return new Promise((function(r,n){function i(){void 0!==a&&e.removeListener("error",a),r([].slice.call(arguments))}var a;"error"!==t&&(a=function(r){e.removeListener(t,i),n(r)},e.once("error",a)),e.once(t,i)}))}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!==typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},u.prototype.getMaxListeners=function(){return d(this)},u.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=i[e];if(void 0===u)return!1;if("function"===typeof u)a(u,this,t);else{var c=u.length,l=v(u,c);for(r=0;r<c;++r)a(l[r],this,t)}return!0},u.prototype.addListener=function(e,t){return f(this,e,t,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(e,t){return f(this,e,t,!0)},u.prototype.once=function(e,t){return l(t),this.on(e,p(this,e,t)),this},u.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,p(this,e,t)),this},u.prototype.removeListener=function(e,t){var r,n,i,a,o;if(l(t),n=this._events,void 0===n)return this;if(r=n[e],void 0===r)return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){o=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():m(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(e){var t,r,n;if(r=this._events,void 0===r)return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,a=Object.keys(r);for(n=0;n<a.length;++n)i=a[n],"removeListener"!==i&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],"function"===typeof t)this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},u.prototype.listeners=function(e){return y(this,e,!0)},u.prototype.rawListeners=function(e){return y(this,e,!1)},u.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},u.prototype.listenerCount=g,u.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){"use strict";r.r(t),r.d(t,"authnFetch",(function(){return d}));var n=r(2),i=r.n(n),a=(r(5),r(6)),o=r(7),s=r(8),u=r(11);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}async function d(e,t,r,n){if(n){const e=h(n.headers);n=l(l({},n),{},{headers:e})}const i=await Object(s["getSession"])(e);if(!i)return t(r,n);if(await f(e,r))return Object(u["fetchWithCredentials"])(i,t,r,n);let a=await t(r,n);return 401===a.status&&(await Object(o["updateHostFromResponse"])(e)(a),await f(e,r)&&(a=Object(u["fetchWithCredentials"])(i,t,r,n))),a}async function f(e,t){const r=await Object(o["getHost"])(e)(Object(a["toUrlString"])(t));return null!=r&&r.requiresAuth}function h(e){const t={};if(e)if("function"===typeof e.forEach)e.forEach((e,r)=>{t[r]=e});else for(const r in e)t[r]=e[r];return t}},function(e,t){(function(){e.exports=window["fetch"]})()},function(e,t,r){"use strict";function n(){return"undefined"!==typeof window?window.location:{href:"https://example.org/",pathname:"/",origin:"example.org"}}r.r(t),r.d(t,"currentUrl",(function(){return i})),r.d(t,"currentUrlNoParams",(function(){return a})),r.d(t,"navigateTo",(function(){return o})),r.d(t,"originOf",(function(){return s})),r.d(t,"toUrlString",(function(){return u}));const i=()=>n().href,a=()=>n().origin+n().pathname,o=e=>{n().href=e},s=e=>new URL(e).origin,u=e=>("string"!==typeof e&&(e="url"in e?e.url:e.toString()),new URL(e,i()).toString())},function(e,t,r){"use strict";r.r(t),r.d(t,"getHost",(function(){return l})),r.d(t,"saveHost",(function(){return d})),r.d(t,"updateHostFromResponse",(function(){return f}));var n=r(2),i=r.n(n),a=r(8),o=r(9),s=r(11);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e){return async t=>{const{host:r}=new URL(t),n=await Object(a["getSession"])(e);if(n&&r===new URL(n.idp).host)return{url:r,requiresAuth:!0};const{hosts:i}=await Object(o["getData"])(e);return i&&i[r]}}function d(e){return async({url:t,requiresAuth:r})=>{await Object(o["updateStorage"])(e,e=>c(c({},e),{},{hosts:c(c({},e.hosts),{},{[t]:{requiresAuth:r}})}))}}function f(e){return async t=>{if(s["requiresAuth"](t)){const{host:r}=new URL(t.url);await d(e)({url:r,requiresAuth:!0})}}}},function(e,t,r){"use strict";r.r(t),r.d(t,"getSession",(function(){return u})),r.d(t,"saveSession",(function(){return c})),r.d(t,"clearSession",(function(){return l}));var n=r(2),i=r.n(n),a=r(9);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}async function u(e){const t=await Object(a["getData"])(e);return t.session||null}function c(e){return async t=>{const r=await Object(a["updateStorage"])(e,e=>s(s({},e),{},{session:t}));return r.session}}async function l(e){await Object(a["updateStorage"])(e,e=>s(s({},e),{},{session:null}))}},function(e,t,r){"use strict";r.r(t),r.d(t,"NAMESPACE",(function(){return n})),r.d(t,"defaultStorage",(function(){return i})),r.d(t,"getData",(function(){return a})),r.d(t,"updateStorage",(function(){return o})),r.d(t,"asyncStorage",(function(){return s})),r.d(t,"memStorage",(function(){return u})),r.d(t,"ipcStorage",(function(){return c}));r(10);const n="solid-auth-client",i=()=>{const e="undefined"!==typeof window&&"localStorage"in window;return s(e?window.localStorage:u())};async function a(e){let t,r;try{t=await e.getItem(n),r=JSON.parse(t||"{}")}catch(i){console.warn("Could not deserialize data:",t),console.error(i),r={}}return r}async function o(e,t){const r=await a(e),i=t(r);return await e.setItem(n,JSON.stringify(i)),i}function s(e){return{getItem:t=>Promise.resolve(e.getItem(t)),setItem:(t,r)=>Promise.resolve(e.setItem(t,r)),removeItem:t=>Promise.resolve(e.removeItem(t))}}const u=()=>{const e={};return{getItem:t=>"undefined"===typeof e[t]?null:e[t],setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}};function c(e){return{getItem:t=>e.request("storage/getItem",t),setItem:(t,r)=>e.request("storage/setItem",t,r),removeItem:t=>e.request("storage/removeItem",t)}}},function(e,t,r){"use strict";r.r(t),r.d(t,"Server",(function(){return o})),r.d(t,"Client",(function(){return s}));var n=r(2),i=r.n(n);const a="solid-auth-client";class o{constructor(e,t,r){i()(this,"_clientWindow",void 0),i()(this,"_clientOrigin",void 0),i()(this,"_handler",void 0),i()(this,"_messageListener",void 0),this._clientWindow=e,this._clientOrigin=t,this._handler=r,this._messageListener=e=>this._handleMessage(e)}async _handleMessage({data:e,origin:t}){if(t!==this._clientOrigin)return void console.warn("solid-auth-client is listening to ".concat(this._clientOrigin," ")+"so ignored a message received from ".concat(t,"."));const r=e&&e[a];if(r&&r.method){const{id:e,method:t,args:n}=r,i=await this._handler(t,...n);this._clientWindow.postMessage({[a]:{id:e,ret:i}},this._clientOrigin)}}start(){window.addEventListener("message",this._messageListener)}stop(){window.removeEventListener("message",this._messageListener)}}class s{constructor(e,t){i()(this,"_serverWindow",void 0),i()(this,"_serverOrigin",void 0),this._serverWindow=e,this._serverOrigin=t}request(e,...t){const r=Math.random();return this._serverWindow.postMessage({[a]:{id:r,method:e,args:t}},this._serverOrigin),new Promise((e,t)=>{window.addEventListener("message",i);const n=setTimeout(()=>{t(new Error("Could not connect to main window.")),window.removeEventListener("message",i)},2e3);function i({data:t}){const o=t&&t[a];o&&o.id===r&&o.hasOwnProperty("ret")&&(e(o.ret),clearTimeout(n),window.removeEventListener("message",i))}})}}},function(e,t,r){"use strict";r.r(t),r.d(t,"login",(function(){return g})),r.d(t,"currentSession",(function(){return v})),r.d(t,"logout",(function(){return m})),r.d(t,"getRegisteredRp",(function(){return b})),r.d(t,"requiresAuth",(function(){return S})),r.d(t,"fetchWithCredentials",(function(){return N}));var n=r(12),i=r.n(n),a=r(2),o=r.n(a),s=r(14),u=r(18),c=r.n(u),l=r(61),d=r.n(l),f=r(6),h=r(9);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}async function g(e,t){try{const r=await b(e,t);return await T(t.storage),E(r,t)}catch(r){return console.warn("Error logging in with WebID-OIDC"),console.error(r),null}}async function v(e=Object(h["defaultStorage"])()){try{const t=await w(e);if(!t)return null;const r=Object(f["currentUrl"])();if(!/#(.*&)?access_token=/.test(r))return null;window.location.hash="",await O(e);const n=await Object(h["getData"])(e),i=await t.validateResponse(r,n);return i?y(y({},i),{},{webId:i.idClaims.sub,idp:i.issuer}):null}catch(t){return console.warn("Error finding a WebID-OIDC session"),console.error(t),null}}async function m(e,t){const r=await w(e);if(r)try{await r.logout();try{await t("/.well-known/solid/logout",{credentials:"include"})}catch(n){console.info("Couldn't find /.well-known/solid/logout, this is harmless.")}}catch(i){console.warn("Error logging out of the WebID-OIDC session"),console.error(i)}}async function b(e,t){let r=await w(t.storage);return r&&r.provider.url===e&&r.registration.redirect_uris.includes(t.callbackUri)||(r=await x(e,t),await _(t.storage,e,r)),r}async function w(e){const t=await Object(h["getData"])(e),{rpConfig:r}=t;return r?(r.store=e,c.a.from(r)):null}async function _(e,t,r){return await Object(h["updateStorage"])(e,e=>y(y({},e),{},{rpConfig:r})),r}function x(e,t){const{storage:r,callbackUri:n}=t,i="id_token token",a={};Object.entries(t).filter(([e,t])=>e.startsWith("clientName#")).forEach(([e,t])=>a[e.replace("clientName#","client_name#")]=t);const o={logo_uri:t.logoUri,contacts:t.contacts,client_name:t.clientName},s=y(y({issuer:e,grant_types:["implicit"],redirect_uris:[n],response_types:[i],scope:"openid profile"},a),o),u={defaults:{authenticate:{redirect_uri:n,response_type:i,display:"page",scope:["openid"]}},store:r};return c.a.register(e,s,u)}async function E(e,{callbackUri:t,storage:r}){const n=await Object(h["getData"])(r),i=await e.createRequest({redirect_uri:t},n);return await Object(h["updateStorage"])(r,()=>n),Object(f["navigateTo"])(i)}async function T(e){await Object(h["updateStorage"])(e,e=>y(y({},e),{},{appHashFragment:window.location.hash}))}async function O(e){await Object(h["updateStorage"])(e,e=>{let{appHashFragment:t=""}=e,r=i()(e,["appHashFragment"]);return window.location.hash=t,r})}function S(e){if(401!==e.status)return!1;const t=e.headers.get("www-authenticate");if(!t)return!1;const r=s["parse"](t);return"Bearer"===r.scheme&&r.params&&"openid webid"===r.params.scope}async function N(e,t,r,n){const i=(n?n.headers:r.headers)||{},a=await d.a.issueFor(Object(f["toUrlString"])(r),e);return i.authorization="Bearer ".concat(a),t(r,y(y({},n),{},{credentials:"include",headers:i}))}},function(e,t,r){var n=r(13);function i(e,t){if(null==e)return{};var r,i,a=n(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}e.exports=i},function(e,t){function r(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"format",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return i.default}});var n=a(r(15)),i=a(r(17));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(16);function i(e){return s(e)||o(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function s(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function u(e,t){return d(e)||l(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function l(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)if(r.push(o.value),t&&r.length===t)break}catch(u){i=!0,a=u}finally{try{n||null==s["return"]||s["return"]()}finally{if(i)throw a}}return r}function d(e){if(Array.isArray(e))return e}var f=function(e){return function(t){return`${e}=${t&&!(0,n.isToken)(t)?(0,n.quote)(t):t}`}},h=function(e){return e.reduce((function(e,t){var r=u(t,2),a=r[0],o=r[1],s=f(a);if(!(0,n.isToken)(a))throw new TypeError;return Array.isArray(o)?i(e).concat(i(o.map(s))):i(e).concat([s(o)])}),[])},p=function e(t,r){if(Array.isArray(t))return h(t);if("object"===typeof t){var n=t;return e(Object.keys(t).map((function(e){return[e,n[e]]})),r)}throw new TypeError},y=function(e,t,r){var a="string"===typeof e?{scheme:e,token:t,params:r}:e;if("object"!==typeof a)throw new TypeError;if(!(0,n.isScheme)(a.scheme))throw new TypeError("Invalid scheme.");return[a.scheme].concat(i("undefined"!==typeof a.token?[a.token]:[]),i("undefined"!==typeof a.params?p(a.params):[])).join(" ")};t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unquote=t.quote=t.isScheme=t.isToken=void 0;var n=/^[^\u0000-\u001F\u007F()<>@,;:\\"/?={}\[\]\u0020\u0009]+$/,i=function(e){return"string"===typeof e&&n.test(e)};t.isToken=i;var a=i;t.isScheme=a;var o=function(e){return`"${e.replace(/"/g,'\\"')}"`};t.quote=o;var s=function(e){return e.substr(1,e.length-2).replace(/\\"/g,'"')};t.unquote=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(16),i=/((?:[a-zA-Z0-9._~+\/-]+=*(?:\s+|$))|[^\u0000-\u001F\u007F()<>@,;:\\"/?={}\[\]\u0020\u0009]+)(?:=([^\\"=\s,]+|"(?:[^"\\]|\\.)*"))?/g,a=function(e,t){var r='"'===t.charAt(0)?(0,n.unquote)(t):t.trim();return Array.isArray(e)?e.concat(r):"string"===typeof e?[e,r]:r},o=function(e,t){var r=null,n={};while(1){var o=i.exec(t);if(null===o)break;o[2]?n[o[1]]=a(n[o[1]],o[2]):r=a(r,o[1])}return{scheme:e,params:n,token:r}},s=function(e){if("string"!==typeof e)throw new TypeError("Header value must be a string.");var t=e.indexOf(" "),r=e.substr(0,t);if(!(0,n.isScheme)(r))throw new TypeError("Invalid scheme "+r);return o(r,e.substr(t))};t.default=s},function(e,t,r){"use strict";e.exports=r(19)},function(e,t,r){(function(t){const n=r(21),i=r(5),{URL:a}=r(27),o=i.Headers?i.Headers:t.Headers,{JWKSet:s}=r(28),u=r(55),c=r(57),l=r(60),d=r(56);class f{constructor({provider:e={},defaults:t,registration:r={},store:n={}}={}){this.provider=e,this.defaults=t||{popToken:!1,authenticate:{response_type:"id_token token",display:"page",scope:["openid"]}},this.registration=r,this.store=n}static async from(e){const t=new f(e),r=t.validate();if(!r.valid)throw r.error;const n=t.provider.jwks;return n?s.importKeys(n).then(e=>(t.provider.jwks=e,t)):t.jwks().then(()=>t)}static register(e,t,r,i,a){const o=new f({provider:{url:e},defaults:Object.assign({},r.defaults),store:r.store});return Promise.resolve().then(()=>o.discover()).then(()=>o.jwks()).then(()=>(n(o.provider.configuration,"OpenID Configuration is not initialized."),o.provider.configuration.registration_endpoint?o.register(t):o.getRegistration(t,i,a))).then(()=>o)}validate(){return this.provider&&this.provider.url?{valid:!0}:{valid:!1,error:new Error("Provider url is required.")}}discover(){try{let e=this.provider.url;n(e,'RelyingParty provider must define "url"');let t=new a(e);return t.pathname=".well-known/openid-configuration",i(t.toString()).then(l("Error fetching openid configuration")).then(e=>e.json().then(e=>this.provider.configuration=e))}catch(e){return Promise.reject(e)}}register(e){try{let t=this.provider.configuration;n(t,"OpenID Configuration is not initialized."),n(t.registration_endpoint,"OpenID Configuration is missing registration_endpoint.");let r=t.registration_endpoint,a="post",s=new o({"Content-Type":"application/json"}),u=this.defaults.register,c=JSON.stringify(Object.assign({},u,e));return i(r,{method:a,headers:s,body:c}).then(l("Error registering client")).then(e=>e.json().then(e=>this.registration=e))}catch(t){return Promise.reject(t)}}serialize(){return JSON.stringify(this)}getRegistration(e,t,r){return Promise.resolve().then(()=>this.registration=r.getRegistration(t)).catch(e=>{throw e})}jwks(){try{let e=this.provider.configuration;n(e,"OpenID Configuration is not initialized."),n(e.jwks_uri,"OpenID Configuration is missing jwks_uri.");let t=e.jwks_uri;return i(t).then(l("Error resolving provider keys")).then(e=>e.json().then(e=>s.importKeys(e)).then(e=>this.provider.jwks=e))}catch(e){return Promise.reject(e)}}createRequest(e,t){return u.create(this,e,t||this.store)}validateResponse(e,t=this.store){let r;r=e.match(/^http(s?):\/\//)?{rp:this,redirect:e,session:t}:{rp:this,body:e,session:t};const n=new c(r);return c.validateResponse(n)}userinfo(e){try{let t=this.provider.configuration;n(t,"OpenID Configuration is not initialized."),n(t.userinfo_endpoint,"OpenID Configuration is missing userinfo_endpoint."),e=e||this.store.access_token,n(e,"Missing access token.");let r=t.userinfo_endpoint,a=new o({"Content-Type":"application/json",Authorization:"Bearer "+e});return i(r,{headers:a}).then(l("Error fetching userinfo")).then(e=>e.json())}catch(t){return Promise.reject(t)}}logoutRequest(e={}){const{id_token_hint:t,post_logout_redirect_uri:r,state:i}=e;let o;if(n(this.provider,"OpenID Configuration is not initialized"),o=this.provider.configuration,n(o,"OpenID Configuration is not initialized"),!o.end_session_endpoint)return console.log("OpenId Configuration for "+o.issuer+" is missing end_session_endpoint"),null;if(r&&!t)throw new Error("id_token_hint is required when using post_logout_redirect_uri");const s={};t&&(s.id_token_hint=t),r&&(s.post_logout_redirect_uri=r),i&&(s.state=i);const u=new a(o.end_session_endpoint);return u.search=d.encode(s),u.href}logout(){let e;try{n(this.provider,"OpenID Configuration is not initialized."),e=this.provider.configuration,n(e,"OpenID Configuration is not initialized.")}catch(a){return Promise.reject(a)}if(!e.end_session_endpoint)return this.clearSession(),Promise.resolve(void 0);let t=e.end_session_endpoint,r="get";return i(t,{method:r,credentials:"include"}).then(l("Error logging out")).then(()=>this.clearSession())}clearSession(){let e=this.store;e&&delete e[h]}popTokenFor(e,t){return PoPToken.issueFor(e,t)}}const h="oidc.session.privateKey";f.SESSION_PRIVATE_KEY=h,e.exports=f}).call(this,r(20))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";(function(t){var n=r(22);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function i(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function a(e){return t.Buffer&&"function"===typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=r(23),s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,c=function(){return"foo"===function(){}.name}();function l(e){return Object.prototype.toString.call(e)}function d(e){return!a(e)&&("function"===typeof t.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var f=e.exports=b,h=/\s*function\s+([^\(\s]*)\s*/;function p(e){if(o.isFunction(e)){if(c)return e.name;var t=e.toString(),r=t.match(h);return r&&r[1]}}function y(e,t){return"string"===typeof e?e.length<t?e:e.slice(0,t):e}function g(e){if(c||!o.isFunction(e))return o.inspect(e);var t=p(e),r=t?": "+t:"";return"[Function"+r+"]"}function v(e){return y(g(e.actual),128)+" "+e.operator+" "+y(g(e.expected),128)}function m(e,t,r,n,i){throw new f.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function b(e,t){e||m(e,!0,t,"==",f.ok)}function w(e,t,r,n){if(e===t)return!0;if(a(e)&&a(t))return 0===i(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===typeof e||null!==t&&"object"===typeof t){if(d(e)&&d(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(a(e)!==a(t))return!1;n=n||{actual:[],expected:[]};var s=n.actual.indexOf(e);return-1!==s&&s===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),x(e,t,r,n))}return r?e===t:e==t}function _(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function x(e,t,r,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=_(e),a=_(t);if(i&&!a||!i&&a)return!1;if(i)return e=u.call(e),t=u.call(t),w(e,t,r);var s,c,l=I(e),d=I(t);if(l.length!==d.length)return!1;for(l.sort(),d.sort(),c=l.length-1;c>=0;c--)if(l[c]!==d[c])return!1;for(c=l.length-1;c>=0;c--)if(s=l[c],!w(e[s],t[s],r,n))return!1;return!0}function E(e,t,r){w(e,t,!0)&&m(e,t,r,"notDeepStrictEqual",E)}function T(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(r){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function O(e){var t;try{e()}catch(r){t=r}return t}function S(e,t,r,n){var i;if("function"!==typeof t)throw new TypeError('"block" argument must be a function');"string"===typeof r&&(n=r,r=null),i=O(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&m(i,r,"Missing expected exception"+n);var a="string"===typeof n,s=!e&&o.isError(i),u=!e&&i&&!r;if((s&&a&&T(i,r)||u)&&m(i,r,"Got unwanted exception"+n),e&&i&&r&&!T(i,r)||!e&&i)throw i}function N(e,t){e||m(e,!0,t,"==",N)}f.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=v(this),this.generatedMessage=!0);var t=e.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=p(t),a=n.indexOf("\n"+i);if(a>=0){var o=n.indexOf("\n",a+1);n=n.substring(o+1)}this.stack=n}}},o.inherits(f.AssertionError,Error),f.fail=m,f.ok=b,f.equal=function(e,t,r){e!=t&&m(e,t,r,"==",f.equal)},f.notEqual=function(e,t,r){e==t&&m(e,t,r,"!=",f.notEqual)},f.deepEqual=function(e,t,r){w(e,t,!1)||m(e,t,r,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(e,t,r){w(e,t,!0)||m(e,t,r,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(e,t,r){w(e,t,!1)&&m(e,t,r,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=E,f.strictEqual=function(e,t,r){e!==t&&m(e,t,r,"===",f.strictEqual)},f.notStrictEqual=function(e,t,r){e===t&&m(e,t,r,"!==",f.notStrictEqual)},f.throws=function(e,t,r){S(!0,e,t,r)},f.doesNotThrow=function(e,t,r){S(!1,e,t,r)},f.ifError=function(e){if(e)throw e},f.strict=n(N,f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var I=Object.keys||function(e){var t=[];for(var r in e)s.call(e,r)&&t.push(r);return t}}).call(this,r(20))},function(e,t,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function s(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==n.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(a){return!1}}e.exports=s()?Object.assign:function(e,t){for(var r,s,u=o(e),c=1;c<arguments.length;c++){for(var l in r=Object(arguments[c]),r)i.call(r,l)&&(u[l]=r[l]);if(n){s=n(r);for(var d=0;d<s.length;d++)a.call(r,s[d])&&(u[s[d]]=r[s[d]])}}return u}},function(e,t,r){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},i=/%[sdj%]/g;t.format=function(e){if(!x(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,a=n.length,o=String(e).replace(i,(function(e){if("%%"===e)return"%";if(r>=a)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return e}})),u=n[r];r<a;u=n[++r])b(u)||!S(u)?o+=" "+u:o+=" "+s(u);return o},t.deprecate=function(r,n){if("undefined"!==typeof e&&!0===e.noDeprecation)return r;if("undefined"===typeof e)return function(){return t.deprecate(r,n).apply(this,arguments)};var i=!1;function a(){if(!i){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),i=!0}return r.apply(this,arguments)}return a};var a,o={};function s(e,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(r)?n.showHidden=r:r&&t._extend(n,r),T(n.showHidden)&&(n.showHidden=!1),T(n.depth)&&(n.depth=2),T(n.colors)&&(n.colors=!1),T(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),d(n,e,n.depth)}function u(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function c(e,t){return e}function l(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}function d(e,r,n){if(e.customInspect&&r&&R(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return x(i)||(i=d(e,i,n)),i}var a=f(e,r);if(a)return a;var o=Object.keys(r),s=l(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),I(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return h(r);if(0===o.length){if(R(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(O(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(N(r))return e.stylize(Date.prototype.toString.call(r),"date");if(I(r))return h(r)}var c,m="",b=!1,w=["{","}"];if(v(r)&&(b=!0,w=["[","]"]),R(r)){var _=r.name?": "+r.name:"";m=" [Function"+_+"]"}return O(r)&&(m=" "+RegExp.prototype.toString.call(r)),N(r)&&(m=" "+Date.prototype.toUTCString.call(r)),I(r)&&(m=" "+h(r)),0!==o.length||b&&0!=r.length?n<0?O(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=b?p(e,r,n,s,o):o.map((function(t){return y(e,r,n,s,t,b)})),e.seen.pop(),g(c,m,w)):w[0]+m+w[1]}function f(e,t){if(T(t))return e.stylize("undefined","undefined");if(x(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return _(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):b(t)?e.stylize("null","null"):void 0}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,i){for(var a=[],o=0,s=t.length;o<s;++o)P(t,String(o))?a.push(y(e,t,r,n,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(y(e,t,r,n,i,!0))})),a}function y(e,t,r,n,i,a){var o,s,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),P(n,i)||(o="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=b(r)?d(e,u.value,null):d(e,u.value,r-1),s.indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n"))):s=e.stylize("[Circular]","special")),T(o)){if(a&&i.match(/^\d+$/))return s;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function g(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return n>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function v(e){return Array.isArray(e)}function m(e){return"boolean"===typeof e}function b(e){return null===e}function w(e){return null==e}function _(e){return"number"===typeof e}function x(e){return"string"===typeof e}function E(e){return"symbol"===typeof e}function T(e){return void 0===e}function O(e){return S(e)&&"[object RegExp]"===j(e)}function S(e){return"object"===typeof e&&null!==e}function N(e){return S(e)&&"[object Date]"===j(e)}function I(e){return S(e)&&("[object Error]"===j(e)||e instanceof Error)}function R(e){return"function"===typeof e}function k(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function j(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(T(a)&&(a=e.env.NODE_DEBUG||""),r=r.toUpperCase(),!o[r])if(new RegExp("\\b"+r+"\\b","i").test(a)){var n=e.pid;o[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else o[r]=function(){};return o[r]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=v,t.isBoolean=m,t.isNull=b,t.isNullOrUndefined=w,t.isNumber=_,t.isString=x,t.isSymbol=E,t.isUndefined=T,t.isRegExp=O,t.isObject=S,t.isDate=N,t.isError=I,t.isFunction=R,t.isPrimitive=k,t.isBuffer=r(25);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function D(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),C[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",D(),t.format.apply(t,arguments))},t.inherits=r(26),t._extend=function(e,t){if(!t||!S(t))return e;var r=Object.keys(t),n=r.length;while(n--)e[r[n]]=t[r[n]];return e};var L="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function F(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function M(t){if("function"!==typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return i.apply(a,arguments)};t.apply(this,r).then((function(t){e.nextTick(o,null,t)}),(function(t){e.nextTick(F,t,o)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,n(t)),r}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(L&&e[L]){var t=e[L];if("function"!==typeof t)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,L,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],a=0;a<arguments.length;a++)i.push(arguments[a]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(o){r(o)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),L&&Object.defineProperty(t,L,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=L,t.callbackify=M}).call(this,r(24))},function(e,t){var r,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function u(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(function(){try{r="function"===typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(e){n=o}})();var c,l=[],d=!1,f=-1;function h(){d&&c&&(d=!1,c.length?l=c.concat(l):f=-1,l.length&&p())}function p(){if(!d){var e=s(h);d=!0;var t=l.length;while(t){c=l,l=[];while(++f<t)c&&c[f].run();f=-1,t=l.length}c=null,d=!1,u(e)}}function y(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new y(e,t)),1!==l.length||d||s(p)},y.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t){(function(){e.exports=window["window"]})()},function(e,t,r){const n=r(29),i=r(32),a=r(50),o=r(51),s=r(52),u=r(53);e.exports={crypto:n,JWA:i,JWK:a,JWKSet:o,JWT:s,JWS:u}},function(e,t,r){const n=r(30);e.exports=n.default?n.default:n},function(e,t,r){"use strict";r.r(t);r(31);t["default"]=window.crypto},function(r,a,o){"use strict";o.r(a),
/**
 * @file Web Cryptography API shim
 * @author Artem S Vybornov <vybornov@gmail.com>
 * @license MIT
 */
function(r,a){n=[],i=function(){return a(r)}.apply(t,n),void 0===i||(e.exports=i)}("undefined"!==typeof self?self:void 0,(function(e){if("function"!==typeof Promise)throw"Promise support required";var t=e.crypto||e.msCrypto;if(t){var r=t.subtle||t.webkitSubtle;if(r){var n=e.Crypto||t.constructor||Object,i=e.SubtleCrypto||r.constructor||Object,a=(e.CryptoKey||e.Key,e.navigator.userAgent.indexOf("Edge/")>-1),o=!!e.msCrypto&&!a,s=!t.subtle&&!!t.webkitSubtle;if(o||s){var u={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},c={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};if(["generateKey","importKey","unwrapKey"].forEach((function(e){var n=r[e];r[e]=function(i,a,u){var c,l,d,p,w=[].slice.call(arguments);switch(e){case"generateKey":c=y(i),l=a,d=u;break;case"importKey":c=y(u),l=w[3],d=w[4],"jwk"===i&&(a=v(a),a.alg||(a.alg=g(c)),a.key_ops||(a.key_ops="oct"!==a.kty?"d"in a?d.filter(O):d.filter(T):d.slice()),w[1]=m(a));break;case"unwrapKey":c=w[4],l=w[5],d=w[6],w[2]=u._key;break}if("generateKey"===e&&"HMAC"===c.name&&c.hash)return c.length=c.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[c.hash.name],r.importKey("raw",t.getRandomValues(new Uint8Array(c.length+7>>3)),c,l,d);if(s&&"generateKey"===e&&"RSASSA-PKCS1-v1_5"===c.name&&(!c.modulusLength||c.modulusLength>=2048))return i=y(i),i.name="RSAES-PKCS1-v1_5",delete i.hash,r.generateKey(i,!0,["encrypt","decrypt"]).then((function(e){return Promise.all([r.exportKey("jwk",e.publicKey),r.exportKey("jwk",e.privateKey)])})).then((function(e){return e[0].alg=e[1].alg=g(c),e[0].key_ops=d.filter(T),e[1].key_ops=d.filter(O),Promise.all([r.importKey("jwk",e[0],c,!0,e[0].key_ops),r.importKey("jwk",e[1],c,l,e[1].key_ops)])})).then((function(e){return{publicKey:e[0],privateKey:e[1]}}));if((s||o&&"SHA-1"===(c.hash||{}).name)&&"importKey"===e&&"jwk"===i&&"HMAC"===c.name&&"oct"===a.kty)return r.importKey("raw",h(f(a.k)),u,w[3],w[4]);if(s&&"importKey"===e&&("spki"===i||"pkcs8"===i))return r.importKey("jwk",b(a),u,w[3],w[4]);if(o&&"unwrapKey"===e)return r.decrypt(w[3],u,a).then((function(e){return r.importKey(i,e,w[4],w[5],w[6])}));try{p=n.apply(r,w)}catch(_){return Promise.reject(_)}return o&&(p=new Promise((function(e,t){p.onabort=p.onerror=function(e){t(e)},p.oncomplete=function(t){e(t.target.result)}}))),p=p.then((function(e){return"HMAC"===c.name&&(c.length||(c.length=8*e.algorithm.length)),0==c.name.search("RSA")&&(c.modulusLength||(c.modulusLength=(e.publicKey||e).algorithm.modulusLength),c.publicExponent||(c.publicExponent=(e.publicKey||e).algorithm.publicExponent)),e=e.publicKey&&e.privateKey?{publicKey:new E(e.publicKey,c,l,d.filter(T)),privateKey:new E(e.privateKey,c,l,d.filter(O))}:new E(e,c,l,d),e})),p}})),["exportKey","wrapKey"].forEach((function(e){var t=r[e];r[e]=function(n,i,a){var u,c=[].slice.call(arguments);switch(e){case"exportKey":c[1]=i._key;break;case"wrapKey":c[1]=i._key,c[2]=a._key;break}if((s||o&&"SHA-1"===(i.algorithm.hash||{}).name)&&"exportKey"===e&&"jwk"===n&&"HMAC"===i.algorithm.name&&(c[0]="raw"),!s||"exportKey"!==e||"spki"!==n&&"pkcs8"!==n||(c[0]="jwk"),o&&"wrapKey"===e)return r.exportKey(n,i).then((function(e){return"jwk"===n&&(e=h(unescape(encodeURIComponent(JSON.stringify(v(e)))))),r.encrypt(c[3],a,e)}));try{u=t.apply(r,c)}catch(l){return Promise.reject(l)}return o&&(u=new Promise((function(e,t){u.onabort=u.onerror=function(e){t(e)},u.oncomplete=function(t){e(t.target.result)}}))),"exportKey"===e&&"jwk"===n&&(u=u.then((function(e){return(s||o&&"SHA-1"===(i.algorithm.hash||{}).name)&&"HMAC"===i.algorithm.name?{kty:"oct",alg:g(i.algorithm),key_ops:i.usages.slice(),ext:!0,k:d(p(e))}:(e=v(e),e.alg||(e["alg"]=g(i.algorithm)),e.key_ops||(e["key_ops"]="public"===i.type?i.usages.filter(T):"private"===i.type?i.usages.filter(O):i.usages.slice()),e)}))),!s||"exportKey"!==e||"spki"!==n&&"pkcs8"!==n||(u=u.then((function(e){return e=w(v(e)),e}))),u}})),["encrypt","decrypt","sign","verify"].forEach((function(e){var t=r[e];r[e]=function(n,i,a,s){if(o&&(!a.byteLength||s&&!s.byteLength))throw new Error("Empy input is not allowed");var u,c=[].slice.call(arguments),l=y(n);if(o&&"decrypt"===e&&"AES-GCM"===l.name){var d=n.tagLength>>3;c[2]=(a.buffer||a).slice(0,a.byteLength-d),n.tag=(a.buffer||a).slice(a.byteLength-d)}c[1]=i._key;try{u=t.apply(r,c)}catch(f){return Promise.reject(f)}return o&&(u=new Promise((function(t,r){u.onabort=u.onerror=function(e){r(e)},u.oncomplete=function(r){r=r.target.result;if("encrypt"===e&&r instanceof AesGcmEncryptResult){var n=r.ciphertext,i=r.tag;r=new Uint8Array(n.byteLength+i.byteLength),r.set(new Uint8Array(n),0),r.set(new Uint8Array(i),n.byteLength),r=r.buffer}t(r)}}))),u}})),o){var l=r.digest;r["digest"]=function(e,t){if(!t.byteLength)throw new Error("Empy input is not allowed");var n;try{n=l.call(r,e,t)}catch(i){return Promise.reject(i)}return n=new Promise((function(e,t){n.onabort=n.onerror=function(e){t(e)},n.oncomplete=function(t){e(t.target.result)}})),n},e.crypto=Object.create(t,{getRandomValues:{value:function(e){return t.getRandomValues(e)}},subtle:{value:r}}),e.CryptoKey=E}s&&(t.subtle=r,e.Crypto=n,e.SubtleCrypto=i,e.CryptoKey=E)}}}function d(e){return btoa(e).replace(/\=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function f(e){return e+="===",e=e.slice(0,-e.length%4),atob(e.replace(/-/g,"+").replace(/_/g,"/"))}function h(e){for(var t=new Uint8Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function p(e){return e instanceof ArrayBuffer&&(e=new Uint8Array(e)),String.fromCharCode.apply(String,e)}function y(e){var t={name:(e.name||e||"").toUpperCase().replace("V","v")};switch(t.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":e.length&&(t["length"]=e.length);break;case"HMAC":e.hash&&(t["hash"]=y(e.hash)),e.length&&(t["length"]=e.length);break;case"RSAES-PKCS1-v1_5":e.publicExponent&&(t["publicExponent"]=new Uint8Array(e.publicExponent)),e.modulusLength&&(t["modulusLength"]=e.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":e.hash&&(t["hash"]=y(e.hash)),e.publicExponent&&(t["publicExponent"]=new Uint8Array(e.publicExponent)),e.modulusLength&&(t["modulusLength"]=e.modulusLength);break;default:throw new SyntaxError("Bad algorithm name")}return t}function g(e){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"}}[e.name][(e.hash||{}).name||e.length||""]}function v(e){(e instanceof ArrayBuffer||e instanceof Uint8Array)&&(e=JSON.parse(decodeURIComponent(escape(p(e)))));var t={kty:e.kty,alg:e.alg,ext:e.ext||e.extractable};switch(t.kty){case"oct":t.k=e.k;case"RSA":["n","e","d","p","q","dp","dq","qi","oth"].forEach((function(r){r in e&&(t[r]=e[r])}));break;default:throw new TypeError("Unsupported key type")}return t}function m(e){var t=v(e);return o&&(t["extractable"]=t.ext,delete t.ext),h(unescape(encodeURIComponent(JSON.stringify(t)))).buffer}function b(e){var t=_(e),r=!1;t.length>2&&(r=!0,t.shift());var n={ext:!0};switch(t[0][0]){case"1.2.840.113549.1.1.1":var i=["n","e","d","p","q","dp","dq","qi"],a=_(t[1]);r&&a.shift();for(var o=0;o<a.length;o++)a[o][0]||(a[o]=a[o].subarray(1)),n[i[o]]=d(p(a[o]));n["kty"]="RSA";break;default:throw new TypeError("Unsupported key type")}return n}function w(e){var t,r=[["",null]],n=!1;switch(e.kty){case"RSA":for(var i=["n","e","d","p","q","dp","dq","qi"],a=[],o=0;o<i.length;o++){if(!(i[o]in e))break;var s=a[o]=h(f(e[i[o]]));128&s[0]&&(a[o]=new Uint8Array(s.length+1),a[o].set(s,1))}a.length>2&&(n=!0,a.unshift(new Uint8Array([0]))),r[0][0]="1.2.840.113549.1.1.1",t=a;break;default:throw new TypeError("Unsupported key type")}return r.push(new Uint8Array(x(t)).buffer),n?r.unshift(new Uint8Array([0])):r[1]={tag:3,value:r[1]},new Uint8Array(x(r)).buffer}function _(e,t){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),t||(t={pos:0,end:e.length}),t.end-t.pos<2||t.end>e.length)throw new RangeError("Malformed DER");var r,n=e[t.pos++],i=e[t.pos++];if(i>=128){if(i&=127,t.end-t.pos<i)throw new RangeError("Malformed DER");for(var a=0;i--;)a<<=8,a|=e[t.pos++];i=a}if(t.end-t.pos<i)throw new RangeError("Malformed DER");switch(n){case 2:r=e.subarray(t.pos,t.pos+=i);break;case 3:if(e[t.pos++])throw new Error("Unsupported bit string");i--;case 4:r=new Uint8Array(e.subarray(t.pos,t.pos+=i)).buffer;break;case 5:r=null;break;case 6:var o=btoa(p(e.subarray(t.pos,t.pos+=i)));if(!(o in u))throw new Error("Unsupported OBJECT ID "+o);r=u[o];break;case 48:r=[];for(var s=t.pos+i;t.pos<s;)r.push(_(e,t));break;default:throw new Error("Unsupported DER tag 0x"+n.toString(16))}return r}function x(e,t){t||(t=[]);var r=0,n=0,i=t.length+2;if(t.push(0,0),e instanceof Uint8Array){r=2,n=e.length;for(var a=0;a<n;a++)t.push(e[a])}else if(e instanceof ArrayBuffer){r=4,n=e.byteLength,e=new Uint8Array(e);for(a=0;a<n;a++)t.push(e[a])}else if(null===e)r=5,n=0;else if("string"===typeof e&&e in c){var o=h(atob(c[e]));r=6,n=o.length;for(a=0;a<n;a++)t.push(o[a])}else if(e instanceof Array){for(a=0;a<e.length;a++)x(e[a],t);r=48,n=t.length-i}else{if(!("object"===typeof e&&3===e.tag&&e.value instanceof ArrayBuffer))throw new Error("Unsupported DER value "+e);e=new Uint8Array(e.value),r=3,n=e.byteLength,t.push(0);for(a=0;a<n;a++)t.push(e[a]);n++}if(n>=128){var s=n;n=4;t.splice(i,0,s>>24&255,s>>16&255,s>>8&255,255&s);while(n>1&&!(s>>24))s<<=8,n--;n<4&&t.splice(i,4-n),n|=128}return t.splice(i-2,2,r,n),t}function E(e,t,r,n){Object.defineProperties(this,{_key:{value:e},type:{value:e.type,enumerable:!0},extractable:{value:void 0===r?e.extractable:r,enumerable:!0},algorithm:{value:void 0===t?e.algorithm:t,enumerable:!0},usages:{value:void 0===n?e.usages:n,enumerable:!0}})}function T(e){return"verify"===e||"encrypt"===e||"wrapKey"===e}function O(e){return"sign"===e||"decrypt"===e||"unwrapKey"===e}})),a["default"]={}},function(e,t,r){const n=r(33),{NotSupportedError:i}=r(48);class a{static async sign(e,t,r){let a=n.normalize("sign",e);return a instanceof Error?Promise.reject(new i(e)):a.sign(t,r)}static async verify(e,t,r,a){let o=n.normalize("verify",e);return o instanceof Error?Promise.reject(new i(e)):o.verify(t,r,a)}static async importKey(e){let t=n.normalize("importKey",e.alg);return t.importKey(e)}}e.exports=a},function(e,t,r){const n=r(34),i=r(35),a=r(45),o=r(46),s=new o;s.define("HS256","sign",new i({name:"HMAC",hash:{name:"SHA-256"}})),s.define("HS384","sign",new i({name:"HMAC",hash:{name:"SHA-384"}})),s.define("HS512","sign",new i({name:"HMAC",hash:{name:"SHA-512"}})),s.define("RS256","sign",new a({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}})),s.define("RS384","sign",new a({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}})),s.define("RS512","sign",new a({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}})),s.define("none","sign",new n({})),s.define("HS256","verify",new i({name:"HMAC",hash:{name:"SHA-256"}})),s.define("HS384","verify",new i({name:"HMAC",hash:{name:"SHA-384"}})),s.define("HS512","verify",new i({name:"HMAC",hash:{name:"SHA-512"}})),s.define("RS256","verify",new a({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}})),s.define("RS384","verify",new a({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}})),s.define("RS512","verify",new a({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}})),s.define("none","verify",new n({})),s.define("RS256","importKey",new a({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}})),s.define("RS384","importKey",new a({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}})),s.define("RS512","importKey",new a({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}})),e.exports=s},function(e,t){class r{sign(){return Promise.resolve("")}verify(){}}e.exports=r},function(e,t,r){"use strict";(function(t){const n=r(40),i=r(30),a=r(43);class o{constructor(e){this.params=e}sign(e,r){let o=this.params;return r=(new a).encode(r),i.subtle.sign(o,e,r).then(e=>n(t.from(e)))}verify(e,t,r){let o=this.params;return"string"===typeof t&&(t=Uint8Array.from(n.toBuffer(t))),"string"===typeof r&&(r=(new a).encode(r)),i.subtle.verify(o,e,t,r)}assertSufficientKeyLength(e){if(e.length<this.bitlength)throw new Error("The key is too short.")}}e.exports=o}).call(this,r(36).Buffer)},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(37),i=r(38),a=r(39);function o(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=c.prototype):(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,r){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(e,t,r);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return l(this,e,t,r)}function l(e,t,r,n){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?g(e,t,r,n):"string"===typeof t?p(e,t,r):v(e,t)}function d(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t,r,n){return d(t),t<=0?u(e,t):void 0!==r?"string"===typeof n?u(e,t).fill(r,n):u(e,t).fill(r):u(e,t)}function h(e,t){if(d(t),e=u(e,t<0?0:0|m(t)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t,r){if("string"===typeof r&&""!==r||(r="utf8"),!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|w(t,r);e=u(e,n);var i=e.write(t,r);return i!==n&&(e=e.slice(0,i)),e}function y(e,t){var r=t.length<0?0:0|m(t.length);e=u(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function g(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),c.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=c.prototype):e=y(e,t),e}function v(e,t){if(c.isBuffer(t)){var r=0|m(t.length);return e=u(e,r),0===e.length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||te(t.length)?u(e,0):y(e,t);if("Buffer"===t.type&&a(t.data))return y(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function b(e){return+e!=e&&(e=0),c.alloc(+e)}function w(e,t){if(c.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(e).length;default:if(n)return X(e).length;t=(""+t).toLowerCase(),n=!0}}function _(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return F(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return P(this,t,r);case"latin1":case"binary":return L(this,t,r);case"base64":return j(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function x(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function E(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:T(e,t,r,n,i);if("number"===typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):T(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function T(e,t,r,n,i){var a,o=1,s=e.length,u=t.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var l=-1;for(a=r;a<s;a++)if(c(e,a)===c(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===u)return l*o}else-1!==l&&(a-=a-l),l=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var d=!0,f=0;f<u;f++)if(c(e,a+f)!==c(t,f)){d=!1;break}if(d)return a}return-1}function O(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var a=t.length;if(a%2!==0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function S(e,t,r,n){return ee(X(t,e.length-r),e,r,n)}function N(e,t,r,n){return ee(K(t),e,r,n)}function I(e,t,r,n){return N(e,t,r,n)}function R(e,t,r,n){return ee(Z(t),e,r,n)}function k(e,t,r,n){return ee(Y(t,e.length-r),e,r,n)}function j(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);var n=[],i=t;while(i<r){var a,o,s,u,c=e[i],l=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=r)switch(d){case 1:c<128&&(l=c);break;case 2:a=e[i+1],128===(192&a)&&(u=(31&c)<<6|63&a,u>127&&(l=u));break;case 3:a=e[i+1],o=e[i+2],128===(192&a)&&128===(192&o)&&(u=(15&c)<<12|(63&a)<<6|63&o,u>2047&&(u<55296||u>57343)&&(l=u));break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128===(192&a)&&128===(192&o)&&128===(192&s)&&(u=(15&c)<<18|(63&a)<<12|(63&o)<<6|63&s,u>65535&&u<1114112&&(l=u))}null===l?(l=65533,d=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=d}return D(n)}t.Buffer=c,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:o(),t.kMaxLength=s(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,r){return l(null,e,t,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,r){return f(null,e,t,r)},c.allocUnsafe=function(e){return h(null,e)},c.allocUnsafeSlow=function(e){return h(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=c.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},c.byteLength=w,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)x(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)x(this,t,t+3),x(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)x(this,t,t+7),x(this,t+1,t+6),x(this,t+2,t+5),x(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):_.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,r,n,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var a=i-n,o=r-t,s=Math.min(a,o),u=this.slice(n,i),l=e.slice(t,r),d=0;d<s;++d)if(u[d]!==l[d]){a=u[d],o=l[d];break}return a<o?-1:o<a?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return E(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return E(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return O(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":return N(this,e,t,r);case"latin1":case"binary":return I(this,e,t,r);case"base64":return R(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function D(e){var t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);var r="",n=0;while(n<t)r+=String.fromCharCode.apply(String,e.slice(n,n+=C));return r}function P(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function L(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function F(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=W(e[a]);return i}function M(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function U(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,r,n,i,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function q(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function V(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function $(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function G(e,t,r,n,a){return a||$(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function H(e,t,r,n,a){return a||$(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=c.prototype;else{var i=t-e;r=new c(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},c.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||U(e,t,this.length);var n=this[e],i=1,a=0;while(++a<t&&(i*=256))n+=this[e+a]*i;return n},c.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||U(e,t,this.length);var n=this[e+--t],i=1;while(t>0&&(i*=256))n+=this[e+--t]*i;return n},c.prototype.readUInt8=function(e,t){return t||U(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||U(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||U(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||U(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||U(e,t,this.length);var n=this[e],i=1,a=0;while(++a<t&&(i*=256))n+=this[e+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||U(e,t,this.length);var n=t,i=1,a=this[e+--n];while(n>0&&(i*=256))a+=this[e+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return t||U(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||U(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){t||U(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||U(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||U(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||U(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||U(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;B(this,e,t,r,i,0)}var a=1,o=0;this[t]=255&e;while(++o<r&&(a*=256))this[t+o]=e/a&255;return t+r},c.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;B(this,e,t,r,i,0)}var a=r-1,o=1;this[t+a]=255&e;while(--a>=0&&(o*=256))this[t+a]=e/o&255;return t+r},c.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):q(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):q(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):V(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):V(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);B(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;this[t]=255&e;while(++a<r&&(o*=256))e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);B(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;this[t+a]=255&e;while(--a>=0&&(o*=256))e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):q(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):q(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):V(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):V(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,r){return G(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return G(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return H(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return H(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},c.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=c.isBuffer(e)?e:X(new c(e,n).toString()),s=o.length;for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function Q(e){if(e=J(e).replace(z,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function J(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function W(e){return e<16?"0"+e.toString(16):e.toString(16)}function X(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function K(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function Y(e,t){for(var r,n,i,a=[],o=0;o<e.length;++o){if((t-=2)<0)break;r=e.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n)}return a}function Z(e){return n.toByteArray(Q(e))}function ee(e,t,r,n){for(var i=0;i<n;++i){if(i+r>=t.length||i>=e.length)break;t[i+r]=e[i]}return i}function te(e){return e!==e}}).call(this,r(20))},function(e,t,r){"use strict";t.byteLength=l,t.toByteArray=f,t.fromByteArray=y;for(var n=[],i=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function l(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n}function d(e,t,r){return 3*(t+r)/4-r}function f(e){var t,r,n=c(e),o=n[0],s=n[1],u=new a(d(e,o,s)),l=0,f=s>0?o-4:o;for(r=0;r<f;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[l++]=255&t),1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u}function h(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function p(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(h(n));return i.join("")}function y(e){for(var t,r=e.length,i=r%3,a=[],o=16383,s=0,u=r-i;s<u;s+=o)a.push(p(e,s,s+o>u?u:s+o));return 1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,d=r?i-1:0,f=r?-1:1,h=e[t+d];for(d+=f,a=h&(1<<-l)-1,h>>=-l,l+=s;l>0;a=256*a+e[t+d],d+=f,l-=8);for(o=a&(1<<-l)-1,a>>=-l,l+=n;l>0;o=256*o+e[t+d],d+=f,l-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),a-=c}return(h?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,u,c=8*a-i-1,l=(1<<c)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:a-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),t+=o+d>=1?f/u:f*Math.pow(2,1-d),t*u>=2&&(o++,u/=2),o+d>=l?(s=0,o=l):o+d>=1?(s=(t*u-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+h]=255&s,h+=p,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+h]=255&o,h+=p,o/=256,c-=8);e[r+h-p]|=128*y}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){e.exports=r(41).default,e.exports.default=e.exports},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=r(42);function i(t,r){return void 0===r&&(r="utf8"),e.isBuffer(t)?s(t.toString("base64")):s(e.from(t,r).toString("base64"))}function a(t,r){return void 0===r&&(r="utf8"),e.from(o(t),"base64").toString(r)}function o(e){return e=e.toString(),n.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function s(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(t){return e.from(o(t),"base64")}var c=i;c.encode=i,c.decode=a,c.toBase64=o,c.fromBase64=s,c.toBuffer=u,t.default=c}).call(this,r(36).Buffer)},function(e,t,r){"use strict";(function(e){function r(t){var r=4,n=t.length,i=n%r;if(!i)return t;var a=n,o=r-i,s=n+o,u=e.alloc(s);u.write(t);while(o--)u.write("=",a++);return u.toString()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r}).call(this,r(36).Buffer)},function(e,t,r){(function(t){const n=t.TextEncoder?t.TextEncoder:r(44).TextEncoder;e.exports=n}).call(this,r(20))},function(e,t){},function(e,t,r){"use strict";(function(t){const n=r(40);let i=r(29);const a=r(43);class o{constructor(e){this.params=e}sign(e,r){let o=this.params;return r=(new a).encode(r),i.subtle.sign(o,e,r).then(e=>n(t.from(e)))}verify(e,t,r){let o=this.params;return"string"===typeof t&&(t=Uint8Array.from(n.toBuffer(t))),"string"===typeof r&&(r=(new a).encode(r)),i.subtle.verify(o,e,t,r)}async importKey(e){let t=Object.assign({},e),r=this.params,n=e["key_ops"]||[];return"sig"===e.use&&n.push("verify"),"enc"===e.use?Promise.resolve(e):(e.key_ops&&(n=e.key_ops),i.subtle.importKey("jwk",t,r,!0,n).then(e=>(Object.defineProperty(t,"cryptoKey",{enumerable:!1,value:e}),t)))}}e.exports=o}).call(this,r(36).Buffer)},function(e,t,r){const n=r(47),i=["sign","verify","encrypt","decrypt","importKey"];class a{constructor(){i.forEach(e=>{this[e]={}})}static get operations(){return i}define(e,t,r){let n=this[t];n[e]=r}normalize(e,t){let r=this[e];if(!r)return new SyntaxError;let i=r[t];return i||new n(t)}}e.exports=a},function(e,t){class r extends Error{constructor(e){super(),this.message=e+" is not a supported algorithm"}}e.exports=r},function(e,t,r){e.exports={DataError:r(49),NotSupportedError:r(47)}},function(e,t){class r extends Error{constructor(e){super(e)}}e.exports=r},function(e,t,r){"use strict";const n=r(32);class i{constructor({kty:e,use:t,key_ops:r,alg:n,kid:i,x5u:a,x5c:o,x5t:s}={}){this.kty=e,this.use=t,this.key_ops=r,this.alg=n,this.kid=i,this.x5u=a,this.x5c=o,this.x5t=s}static async importKey(e){return n.importKey(e)}}e.exports=i},function(e,t,r){"use strict";const n=r(50);class i{constructor({keys:e}={}){this.keys=e}static async importKeys(e){if(!e.keys)return Promise.reject(new Error("Cannot import JWKSet: keys property is empty"));let t,r;try{t=new i(e),r=e.keys.map(e=>n.importKey(e))}catch(a){return Promise.reject(a)}return Promise.all(r).then(e=>(t.keys=e,t))}}e.exports=i},function(e,t,r){const n=r(40),i=r(53),a=r(49),o=r(54);class s{constructor(e={}){this.type=e.type,this.segments=e.segments,this.header=new o(e.header),this.protected=e.protected,this.unprotected=e.unprotected,this.iv=e.iv,this.aad=e.aad,this.ciphertext=e.ciphertext,this.tag=e.tag,this.recipients=e.recipients,this.payload=e.payload,this.signatures=e.signatures,this.signature=e.signature,this.key=e.key,this.serialization=e.serialization||"compact"}static decode(e){let t,r=this;if("string"!==typeof e)throw new a("JWT must be a string");if(e.startsWith("{")){try{e=JSON.parse(e,()=>{})}catch(i){throw new a("Invalid JWT serialization")}e.signatures||e.recipients?e.serialization="json":e.serialization="flattened",t=new r(e,{filter:!1})}else try{let i="compact",a=e.split("."),o=a.length;if(3!==o&&5!==o)throw new Error("Malformed JWT");let s=JSON.parse(n.decode(a[0]));if(3===o){let e="JWS",o=JSON.parse(n.decode(a[1])),u=a[2];t=new r({type:e,segments:a,header:s,payload:o,signature:u,serialization:i},{filter:!1})}}catch(i){throw new a("Invalid JWT compact serialization")}return t}static encode(e,t,r){let n=new s(e,t);return n.encode(r)}static async verify(e,t){let r=s.decode(t);return r.key=e,r.verify().then(e=>r)}isJWE(){return!!this.header.enc}resolveKeys(e){let t,r,n=this.header.kid;if(Array.isArray(e)&&(t=e),e.keys&&(t=e.keys),e.keys||"object"!==typeof e||(t=[e]),!t)throw new a("Invalid JWK argument");return r=n?t.find(e=>e.kid===n):t.find(e=>"sig"===e.use),!!r&&(this.key=r.cryptoKey,!0)}async encode(){let e=this;return this.isJWE()?JWE.encrypt(e):i.sign(e)}async verify(){return i.verify(this)}}e.exports=s},function(e,t,r){const n=r(40),i=r(32),{DataError:a}=r(48),o=r(54);class s{constructor(e={}){this.header=new o(e.header),this.payload=e.payload||{},this.signature=e.signature,this.protected=e.protected,this.signatures=e.signatures,this.verified=!1}static async sign(e){let t=n(JSON.stringify(e.payload));if("compact"===e.serialization){let{key:r,header:{alg:a}}=e,o=n(JSON.stringify(e.header)),s=`${o}.${t}`;return i.sign(a,r,s).then(e=>`${s}.${e}`)}return e.serialization,e.serialization,Promise.reject(new a("Unsupported serialization"))}static async verify(e){e.signatures;let{key:t,signature:r,header:{alg:n}}=e;if(e.signature){let[o,s]=e.segments,u=`${o}.${s}`;return"none"===n?Promise.reject(new a("Signature provided to verify with alg: none")):i.verify(n,t,r,u).then(t=>(e.verified=t,t))}if("none"===n){if(!t&&!r)return e.verified=!0,Promise.resolve(!0);if(t)return Promise.reject(new a("Key provided to verify signature with alg: none"))}return Promise.reject(new a("Missing signature(s)"))}}e.exports=s},function(e,t){class r{constructor({typ:e,cty:t,alg:r,jku:n,kid:i,x5u:a,x5c:o,x5t:s,crit:u,enc:c,zip:l}={}){this.typ=e,this.cty=t,this.alg=r,this.jku=n,this.kid=i,this.x5u=a,this.x5c=o,this.x5t=s,this.crit=u,this.enc=c,this.zip=l}isJWS(){}isJWE(){}}e.exports=r},function(e,t,r){(function(t){const n=r(21),i=r(40),{crypto:a,JWT:o}=r(28),s=r(56),{URL:u}=r(27);class c{static create(e,r,o){const{provider:l,defaults:d,registration:f}=e;let h,p,y,g;return Promise.resolve().then(()=>(n(l.configuration,"RelyingParty provider OpenID Configuration is missing"),n(d.authenticate,"RelyingParty default authentication parameters are missing"),n(f,"RelyingParty client registration is missing"),h=l.configuration.issuer,p=l.configuration.authorization_endpoint,y={client_id:f.client_id},g=Object.assign(d.authenticate,y,r),n(h,"Missing issuer in provider OpenID Configuration"),n(p,"Missing authorization_endpoint in provider OpenID Configuration"),n(g.scope,"Missing scope parameter in authentication request"),n(g.response_type,"Missing response_type parameter in authentication request"),n(g.client_id,"Missing client_id parameter in authentication request"),n(g.redirect_uri,"Missing redirect_uri parameter in authentication request"),g.state=Array.from(a.getRandomValues(new Uint8Array(16))),g.nonce=Array.from(a.getRandomValues(new Uint8Array(16))),Promise.all([a.subtle.digest({name:"SHA-256"},new Uint8Array(g.state)),a.subtle.digest({name:"SHA-256"},new Uint8Array(g.nonce))]))).then(e=>{let r=i(t.from(e[0])),n=i(t.from(e[1])),a=`${h}/requestHistory/${r}`;o[a]=JSON.stringify(g),g.state=r,g.nonce=n}).then(()=>c.generateSessionKeys()).then(e=>{c.storeSessionKeys(e,g,o)}).then(()=>{if(l.configuration.request_parameter_supported)return c.encodeRequestParams(g).then(e=>{g=e})}).then(()=>{let e=new u(p);return e.search=s.encode(g),e.href})}static generateSessionKeys(){return a.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(e=>Promise.all([a.subtle.exportKey("jwk",e.publicKey),a.subtle.exportKey("jwk",e.privateKey)])).then(e=>{let[t,r]=e;return{public:t,private:r}})}static storeSessionKeys(e,t,r){r["oidc.session.privateKey"]=JSON.stringify(e.private),t.key=e.public}static encodeRequestParams(e){const t=["scope","client_id","response_type","state"],r=Object.keys(e).filter(e=>!t.includes(e));let n={};r.forEach(t=>{n[t]=e[t]});let i=new o({header:{alg:"none"},payload:n},{filter:!1});return i.encode().then(t=>{let r={scope:e["scope"],client_id:e["client_id"],response_type:e["response_type"],request:t,state:e["state"]};return r})}}e.exports=c}).call(this,r(36).Buffer)},function(e,t){class r{static encode(e){let t=[];return Object.keys(e).forEach((function(r){t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]))})),t.join("&")}static decode(e){let t={};return e.split("&").forEach((function(e){let r=e.split("="),n=decodeURIComponent(r[0]),i=decodeURIComponent(r[1]);t[n]=i})),t}}e.exports=r},function(e,t,r){(function(t,n){const{URL:i}=r(27),a=r(21),{crypto:o}=r(28),s=r(40),u=r(5),c=u.Headers?u.Headers:t.Headers,l=r(56),d=r(58),f=r(59),h=r(60),p=r(62);class y{constructor({rp:e,redirect:t,body:r,session:n,mode:i,params:a={}}){this.rp=e,this.redirect=t,this.body=r,this.session=n,this.mode=i,this.params=a}static validateResponse(e){return Promise.resolve(e).then(this.parseResponse).then(this.errorResponse).then(this.matchRequest).then(this.validateStateParam).then(this.validateResponseMode).then(this.validateResponseParams).then(this.exchangeAuthorizationCode).then(this.validateIDToken).then(f.fromAuthResponse)}static parseResponse(e){let{redirect:t,body:r}=e;if(t&&r||!t&&!r)throw new p(400,"Invalid response mode");if(t){let r=new i(t),{search:n,hash:a}=r;if(n&&a||!n&&!a)throw new p(400,"Invalid response mode");n&&(e.params=l.decode(n.substring(1)),e.mode="query"),a&&(e.params=l.decode(a.substring(1)),e.mode="fragment")}return r&&(e.params=l.decode(r),e.mode="form_post"),e}static errorResponse(e){const t=e.params.error;if(t){const r={};r["error"]=t,r["error_description"]=e.params["error_description"],r["error_uri"]=e.params["error_uri"],r["state"]=e.params["state"];const n=new Error("AuthenticationResponse error: "+t);throw n.info=r,n}return e}static matchRequest(e){let{rp:t,params:r,session:n}=e,i=r.state,a=t.provider.configuration.issuer;if(!i)throw new Error("Missing state parameter in authentication response");let o=`${a}/requestHistory/${i}`,s=n[o];if(!s)throw new Error("Mismatching state parameter in authentication response");return e.request=JSON.parse(s),e}static validateStateParam(e){let t=new Uint8Array(e.request.state),r=e.params.state;return o.subtle.digest({name:"SHA-256"},t).then(t=>{if(r!==s(n.from(t)))throw new Error("Mismatching state parameter in authentication response");return e})}static validateResponseMode(e){if("code"!==e.request.response_type&&"query"===e.mode)throw new Error("Invalid response mode");return e}static validateResponseParams(e){let{request:t,params:r}=e,n=t.response_type.split(" ");return n.includes("code")&&a(r.code,"Missing authorization code in authentication response"),n.includes("id_token")&&a(r.id_token,"Missing id_token in authentication response"),n.includes("token")&&(a(r.access_token,"Missing access_token in authentication response"),a(r.token_type,"Missing token_type in authentication response")),e}static exchangeAuthorizationCode(e){let{rp:t,params:r,request:i}=e,o=r.code;if(!o||"code"!==i["response_type"])return Promise.resolve(e);let{provider:s,registration:d}=t,f=d["client_id"],p=d["client_secret"];if(!p)return Promise.reject(new Error("Client cannot exchange authorization code because it is not a confidential client"));let y=s.configuration.token_endpoint,g="POST",v=new c({"Content-Type":"application/x-www-form-urlencoded"}),m={grant_type:"authorization_code",code:o,redirect_uri:i["redirect_uri"]},b=d["token_endpoint_auth_method"]||"client_secret_basic";if("client_secret_basic"===b){let e=new n(`${f}:${p}`).toString("base64");v.set("Authorization","Basic "+e)}"client_secret_post"===b&&(m["client_id"]=f,m["client_secret"]=p);let w=l.encode(m);return u(y,{method:g,headers:v,body:w}).then(h("Error exchanging authorization code")).then(e=>e.json()).then(t=>(a(t["access_token"],"Missing access_token in token response"),a(t["token_type"],"Missing token_type in token response"),a(t["id_token"],"Missing id_token in token response"),e.params=Object.assign(e.params,t),e))}static validateIDToken(e){return e.params.id_token?Promise.resolve(e).then(y.decryptIDToken).then(y.decodeIDToken).then(y.validateIssuer).then(y.validateAudience).then(y.resolveKeys).then(y.verifySignature).then(y.validateExpires).then(y.verifyNonce).then(y.validateAcr).then(y.validateAuthTime).then(y.validateAccessTokenHash).then(y.validateAuthorizationCodeHash):Promise.resolve(e)}static decryptIDToken(e){return Promise.resolve(e)}static decodeIDToken(e){let t=e.params.id_token;try{e.decoded=d.decode(t)}catch(r){const e=new p(400,"Error decoding ID Token");throw e.cause=r,e.info={id_token:t},e}return e}static validateIssuer(e){let t=e.rp.provider.configuration,r=e.decoded.payload;if(r.iss!==t.issuer)throw new Error("Mismatching issuer in ID Token");return e}static validateAudience(e){let t=e.rp.registration,{aud:r,azp:n}=e.decoded.payload;if("string"===typeof r&&r!==t["client_id"])throw new Error("Mismatching audience in id_token");if(Array.isArray(r)&&!r.includes(t["client_id"]))throw new Error("Mismatching audience in id_token");if(Array.isArray(r)&&!n)throw new Error("Missing azp claim in id_token");if(n&&n!==t["client_id"])throw new Error("Mismatching azp claim in id_token");return e}static resolveKeys(e){let t=e.rp,r=t.provider,n=e.decoded,i=!1;return Promise.resolve(r.jwks).then(e=>e||(i=!0,t.jwks())).then(r=>{if(n.resolveKeys(r))return Promise.resolve(e);if(!i)return t.jwks().then(t=>{if(n.resolveKeys(t))return Promise.resolve(e);throw new Error("Cannot resolve signing key for ID Token")});throw new Error("Cannot resolve signing key for ID Token")})}static verifySignature(e){let t=e.decoded.header.alg,r=e.rp.registration,n=r["id_token_signed_response_alg"]||"RS256";if(t!==n)throw new Error("Expected ID Token to be signed with "+n);return e.decoded.verify().then(t=>{if(!t)throw new Error("Invalid ID Token signature");return e})}static validateExpires(e){let t=e.decoded.payload.exp;if(t<=Math.floor(Date.now()/1e3))throw new Error("Expired ID Token");return e}static verifyNonce(e){let t=new Uint8Array(e.request.nonce),r=e.decoded.payload.nonce;if(!r)throw new Error("Missing nonce in ID Token");return o.subtle.digest({name:"SHA-256"},t).then(t=>{if(r!==s(n.from(t)))throw new Error("Mismatching nonce in ID Token");return e})}static validateAcr(e){return e}static validateAuthTime(e){return e}static validateAccessTokenHash(e){return e}static validateAuthorizationCodeHash(e){return e}}e.exports=y}).call(this,r(20),r(36).Buffer)},function(e,t,r){const{JWT:n}=r(28),i=["iss","sub","aud","exp","iat"];class a{constructor({iss:e,sub:t,aud:r,exp:n,iat:i,nbf:a,jti:o,auth_time:s,nonce:u,acr:c,amr:l}={}){this.iss=e,this.sub=t,this.aud=r,this.exp=n,this.iat=i,this.nbf=a,this.jti=o,this.auth_time=s,this.nonce=u,this.acr=c,this.amr=l}validate(){let e,t=!0;try{for(const e of i)if(!this[e])throw t=!1,new Error(`Required claim ${e} is missing.`)}catch(r){e=r}return{valid:t,error:e}}}class o extends n{constructor(e={}){super(e),this.payload=new a(e.payload)}validate(){const e=this.payload.validate();if(!e.valid)return e;let t,r=!0;return{valid:r,error:t}}}e.exports=o,e.exports.TokenClaimsSet=a},function(e,t,r){"use strict";const n=r(5),i=r(60),a=r(61);class o{constructor(e){this.credentialType=e.credentialType||"access_token",this.issuer=e.issuer,this.authorization=e.authorization||{},this.sessionKey=e.sessionKey,this.idClaims=e.idClaims,this.accessClaims=e.accessClaims}static from(e){return new o(e)}static fromAuthResponse(e){const t=r(19);let n=e.decoded&&e.decoded.payload||{},{rp:i}=e,a=i.registration,s=i.defaults.authenticate||{},u=s["credential_type"]||i.defaults.popToken?"pop_token":"access_token",c=e.session[t.SESSION_PRIVATE_KEY],l={credentialType:u,sessionKey:c,issuer:n.iss,idClaims:n,authorization:{client_id:a["client_id"],access_token:e.params["access_token"],id_token:e.params["id_token"],refresh_token:e.params["refresh_token"]}};return o.from(l)}get fetch(){return(e,t)=>Promise.resolve().then(()=>this.hasCredentials()?this.fetchWithCredentials(e,t):n(e,t)).then(i("Error while fetching resource"))}bearerTokenFor(e){switch(this.credentialType){case"pop_token":return a.issueFor(e,this);default:return Promise.resolve(this.authorization[this.credentialType])}}hasCredentials(){switch(this.credentialType){case"pop_token":return!!this.authorization["id_token"];default:return!!this.authorization[this.credentialType]}}fetchWithCredentials(e,t={}){return t.headers=t.headers||{},this.bearerTokenFor(e).then(r=>(t.headers.authorization="Bearer "+r,n(e,t)))}}e.exports=o},function(e,t,r){"use strict";function n(e="fetch error"){return t=>{if(t.status>=200&&t.status<300)return t;let r=`${e}: ${t.status} ${t.statusText}`,n=new Error(r);throw n.response=t,n.statusCode=t.status,n}}e.exports=n},function(e,t,r){"use strict";const{URL:n}=r(27),{JWT:i,JWK:a}=r(28),o=3600;class s extends i{static issueFor(e,t){if(!e)throw new Error("Cannot issue PoPToken - missing resource server URI");if(!t.sessionKey)throw new Error("Cannot issue PoPToken - missing session key");if(!t.authorization.id_token)throw new Error("Cannot issue PoPToken - missing id token");let r=JSON.parse(t.sessionKey);return a.importKey(r).then(r=>{let i={aud:new n(e).origin,key:r,iss:t.authorization.client_id,id_token:t.authorization.id_token};return s.issue(i)}).then(e=>e.encode())}static issue(e){let{aud:t,iss:r,key:n}=e,i=n.alg,a=e.iat||Math.floor(Date.now()/1e3),u=e.max||o,c=a+u,l={alg:i},d={iss:r,aud:t,exp:c,iat:a,id_token:e.id_token,token_type:"pop"},f=new s({header:l,payload:d,key:n.cryptoKey},{filter:!1});return f}}e.exports=s},function(e,t,r){t=e.exports=o;var n=r(63),i=r(64),a=t;function o(e,t,r){if("string"==typeof e&&(e=a[e]),"number"!=typeof e)throw new TypeError("Non-numeric HTTP code");"object"==typeof t&&null!=t&&(r=t,t=null),n.call(this,t||i[e],r),this.code=e}for(var s in o.prototype=Object.create(n.prototype,{constructor:{value:o,configurable:!0,writable:!0}}),o.prototype.name="HttpError",Object.defineProperties(o.prototype,{statusCode:c("code"),statusMessage:c("message"),status:{configurable:!0,get:function(){return this.code},set:function(e){Object.defineProperty(this,"status",{value:e,configurable:!0,enumerable:!0,writable:!0})}}}),o.prototype.toString=function(){return this.name+": "+this.code+" "+this.message},i){var u=i[s];t[u.replace("'","").replace(/[- ]/g,"_").toUpperCase()]=+s}function c(e){return{configurable:!0,get:function(){return this[e]},set:function(t){return this[e]=t}}}},function(e,t){var r=Object.hasOwnProperty,n=Object.getPrototypeOf,i=Error.captureStackTrace;function a(e,t){if(e&&"object"==typeof e?(t=e,e=void 0):this.message=e,t)for(var a in t)this[a]=t[a];r.call(this,"name")||(this.name=r.call(n(this),"name")?this.name:this.constructor.name),i&&!("stack"in this)&&i(this,this.constructor)}e.exports=a,a.prototype=Object.create(Error.prototype,{constructor:{value:a,configurable:!0,writable:!0}}),a.prototype.name="StandardError"},function(e){e.exports=JSON.parse('{"100":"Continue","101":"Switching Protocols","102":"Processing","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I\'m a teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Unordered Collection","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}')},function(e,t,r){"use strict";r.r(t),r.d(t,"openIdpPopup",(function(){return a})),r.d(t,"obtainSession",(function(){return o})),r.d(t,"popupHandler",(function(){return s}));var n=r(10),i=r(6);function a(e){const t=650,r=400,n=window.screenX+(window.innerWidth-t)/2,i=window.screenY+(window.innerHeight-r)/2,a="width=".concat(t,",height=").concat(r,",left=").concat(n,",top=").concat(i);return window.open(e,"solid-auth-client",a)}function o(e,t,r){return new Promise((a,o)=>{const u=new n["Server"](t,Object(i["originOf"])(r.popupUri||""),s(e,r,e=>{u.stop(),a(e)}));u.start()})}function s(e,{popupUri:t,callbackUri:r},n){return async(i,...a)=>{switch(i){case"getAppOrigin":return window.location.origin;case"storage/getItem":return e.getItem(...a);case"storage/setItem":return e.setItem(...a);case"storage/removeItem":return e.removeItem(...a);case"getLoginOptions":return{popupUri:t,callbackUri:r};case"foundSession":n(...a)}}}}])["default"]},"037b":function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Feature=void 0,t.Feature=n,function(e){e["collections"]="COLLECTIONS",e["defaultGraphType"]="DEFAULT_GRAPH_TYPE",e["equalsMethod"]="EQUALS_METHOD",e["id"]="ID",e["identity"]="IDENTITY",e["reversibleId"]="REVERSIBLE_ID",e["variableType"]="VARIABLE_TYPE"}(n||(t.Feature=n={}))},"03fd":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.isDefaultGraph=v,t.default=void 0;var i=n(r("970b")),a=n(r("5bc3")),o=n(r("3c96")),s=n(r("ed6d")),u=n(r("6b58")),c=n(r("36c6")),l=n(r("9523")),d=n(r("33e3")),f=r("43f5"),h=r("5c0f");function p(e){var t=y();return function(){var r,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var g=function(e){(0,s.default)(r,e);var t=p(r);function r(){var e;return(0,i.default)(this,r),e=t.call(this,""),(0,l.default)((0,o.default)(e),"value",""),(0,l.default)((0,o.default)(e),"termType",f.DefaultGraphTermType),(0,l.default)((0,o.default)(e),"uri",h.defaultGraphURI),e}return(0,a.default)(r,[{key:"toCanonical",value:function(){return this.value}},{key:"toString",value:function(){return"DefaultGraph"}}]),r}(d.default);function v(e){return!!e&&e.termType===f.DefaultGraphTermType}t.default=g},"057f":function(e,t,r){var n=r("fc6a"),i=r("241c").f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return o.slice()}};e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?s(e):i(n(e))}},"073a":function(e,t,r){"use strict";function n(e){return"string"===typeof e?e:e.value}Object.defineProperty(t,"__esModule",{value:!0}),t.termValue=n},"085a":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("7037")),a=n(r("970b")),o=n(r("5bc3")),s=n(r("3c96")),u=n(r("ed6d")),c=n(r("6b58")),l=n(r("36c6")),d=n(r("9523")),f=n(r("21b4")),h=n(r("606c")),p=n(r("33e3")),y=r("43f5"),g=r("ab32"),v=n(r("4df7"));function m(e){var t=b();return function(){var r,n=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var w=function(e){(0,u.default)(r,e);var t=m(r);function r(e,n,i){var o;return(0,a.default)(this,r),o=t.call(this,e),(0,d.default)((0,s.default)(o),"termType",y.LiteralTermType),(0,d.default)((0,s.default)(o),"classOrder",f.default.Literal),(0,d.default)((0,s.default)(o),"datatype",v.default.string),(0,d.default)((0,s.default)(o),"isVar",0),(0,d.default)((0,s.default)(o),"language",""),n?(o.language=n,o.datatype=v.default.langString):o.datatype=i?h.default.fromValue(i):v.default.string,o}return(0,o.default)(r,[{key:"copy",value:function(){return new r(this.value,this.lang,this.datatype)}},{key:"equals",value:function(e){return!!e&&(this.termType===e.termType&&this.value===e.value&&this.language===e.language&&(!this.datatype&&!e.datatype||this.datatype&&this.datatype.equals(e.datatype)))}},{key:"toNT",value:function(){return r.toNT(this)}},{key:"toString",value:function(){return""+this.value}},{key:"lang",get:function(){return this.language},set:function(e){this.language=e||""}}],[{key:"toNT",value:function(e){if("number"===typeof e.value)return""+e.value;if("string"!==typeof e.value)throw new Error("Value of RDF literal is not string or number: "+e.value);var t=e.value;return t=t.replace(/\\/g,"\\\\"),t=t.replace(/\"/g,'\\"'),t=t.replace(/\n/g,"\\n"),t='"'+t+'"',e.language?t+="@"+e.language:e.datatype.equals(v.default.string)||(t+="^^"+e.datatype.toCanonical()),t}},{key:"fromBoolean",value:function(e){var t=e?"1":"0";return new r(t,null,v.default.boolean)}},{key:"fromDate",value:function(e){if(!(e instanceof Date))throw new TypeError("Invalid argument to Literal.fromDate()");var t=function(e){return(""+(100+e)).slice(1,3)},n=e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"Z";return new r(n,null,v.default.dateTime)}},{key:"fromNumber",value:function(e){if("number"!==typeof e)throw new TypeError("Invalid argument to Literal.fromNumber()");var t,n=e.toString();return t=n.indexOf("e")<0&&Math.abs(e)<=Number.MAX_SAFE_INTEGER?Number.isInteger(e)?v.default.integer:v.default.decimal:v.default.double,new r(n,null,t)}},{key:"fromValue",value:function(e){if((0,g.isLiteral)(e))return e;switch((0,i.default)(e)){case"object":if(e instanceof Date)return r.fromDate(e);case"boolean":return r.fromBoolean(e);case"number":return r.fromNumber(e);case"string":return new r(e)}throw new Error("Can't make literal from "+e+" of type "+(0,i.default)(e))}}]),r}(p.default);t.default=w},"0884":function(e,t,r){"use strict";(function(t){var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=c;var i=r("7f9c"),a=r("406c");r("3fb5")(c,i);for(var o=n(a.prototype),s=0;s<o.length;s++){var u=o[s];c.prototype[u]||(c.prototype[u]=a.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||t.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,r("4362"))},"089a":function(e,t,r){"use strict";var n=r("dbce"),i=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(r("970b")),o=i(r("5bc3")),s=i(r("3c96")),u=i(r("ed6d")),c=i(r("6b58")),l=i(r("36c6")),d=i(r("9523")),f=i(r("21b4")),h=i(r("33e3")),p=r("43f5"),y=n(r("3897"));function g(e){var t=v();return function(){var r,n=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var m=function(e){(0,u.default)(r,e);var t=g(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,a.default)(this,r),e=t.call(this,n),(0,d.default)((0,s.default)(e),"termType",p.VariableTermType),(0,d.default)((0,s.default)(e),"base","varid:"),(0,d.default)((0,s.default)(e),"classOrder",f.default.Variable),(0,d.default)((0,s.default)(e),"isVar",1),(0,d.default)((0,s.default)(e),"uri",void 0),e.base="varid:",e.uri=y.join(n,e.base),e}return(0,o.default)(r,[{key:"equals",value:function(e){return!!e&&(this.termType===e.termType&&this.value===e.value)}},{key:"hashString",value:function(){return this.toString()}},{key:"substitute",value:function(e){var t;return null!=(t=e[this.toNT()])?t:this}},{key:"toString",value:function(){return r.toString(this)}}],[{key:"toString",value:function(e){return e.uri.slice(0,e.base.length)===e.base?"?".concat(e.uri.slice(e.base.length)):"?".concat(e.uri)}}]),r}(h.default);t.default=m},"0bc7":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"0d60":function(e,t,r){"use strict";var n=r("dbce"),i=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var a=i(r("f6d5")),o=i(r("e1b7")),s=r("dae0"),u=i(r("dfa6")),c=r("f51a"),l=i(r("c2f2")),d=i(r("15a8")),f=n(r("4b68")),h=r("43f5");function p(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"text/turtle",i=arguments.length>4?arguments[4]:void 0;n=n||h.TurtleContentType,n=n.split(";")[0];try{if(n===h.N3ContentType||n===h.TurtleContentType){var y=(0,u.default)(t,t,r,r,null,null,"",null);y.loadBuf(e),m()}else if(n===h.RDFXMLContentType){var g=new l.default(t);g.parse(f.parseXML(e),r,t.sym(r)),m()}else if(n===h.XHTMLContentType)(0,c.parseRDFaDOM)(f.parseXML(e,{contentType:h.XHTMLContentType}),t,r),m();else if(n===h.HTMLContentType)(0,c.parseRDFaDOM)(f.parseXML(e,{contentType:h.HTMLContentType}),t,r),m();else if(n===h.SPARQLUpdateContentType)(0,d.default)(e,t,r),m();else if(n===h.JSONLDContentType)(0,o.default)(e,t,r,m);else{if(n!==h.NQuadsContentType&&n!==h.NQuadsAltContentType)throw void 0===n?new Error("contentType is undefined"):new Error("Don't know how to parse "+n+" yet");var v=new s.Parser({factory:a.default});w(null,e)}}catch(x){b(x)}function m(){i&&i(null,t)}function b(e){if(n!==h.JSONLDContentType||n!==h.NQuadsContentType||n!==h.NQuadsAltContentType){if(!i){var a=new Error(e+" while trying to parse <"+r+"> as "+n);throw a.cause=e,a}i(e,t)}}function w(e,r){e&&i(e,t);try{v.parse(r,_)}catch(e){i(e,t)}}function _(e,r){r?t.add(r.subject,r.predicate,r.object,r.graph):i(e,t)}p.handled={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/sparql-update":!0,"application/ld+json":!0,"application/nquads":!0,"application/n-quads":!0}}},"0d88":function(e,t,r){"use strict";const{isArray:n,isObject:i,isString:a}=r("68fa"),{asArray:o}=r("89ae"),{prependBase:s}=r("ddd7"),u=r("5950"),c=r("9093"),l=10;function d(e){throw new u("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function f({context:e,base:t}){if(!e)return;const r=e["@context"];if(a(r))e["@context"]=s(t,r);else if(n(r))for(let n=0;n<r.length;++n){const e=r[n];a(e)?r[n]=s(t,e):i(e)&&f({context:{"@context":e},base:t})}else if(i(r))for(const n in r)f({context:r[n],base:t})}e.exports=class{constructor({sharedCache:e}){this.perOpCache=new Map,this.sharedCache=e}async resolve({activeCtx:e,context:t,documentLoader:r,base:s,cycles:u=new Set}){t&&i(t)&&t["@context"]&&(t=t["@context"]),t=o(t);const l=[];for(const o of t){if(a(o)){let t=this._get(o);t||(t=await this._resolveRemoteContext({activeCtx:e,url:o,documentLoader:r,base:s,cycles:u})),n(t)?l.push(...t):l.push(t);continue}if(null===o){l.push(new c({document:null}));continue}i(o)||d(t);const f=JSON.stringify(o);let h=this._get(f);h||(h=new c({document:o}),this._cacheResolvedContext({key:f,resolved:h,tag:"static"})),l.push(h)}return l}_get(e){let t=this.perOpCache.get(e);if(!t){const r=this.sharedCache.get(e);r&&(t=r.get("static"),t&&this.perOpCache.set(e,t))}return t}_cacheResolvedContext({key:e,resolved:t,tag:r}){if(this.perOpCache.set(e,t),void 0!==r){let n=this.sharedCache.get(e);n||(n=new Map,this.sharedCache.set(e,n)),n.set(r,t)}return t}async _resolveRemoteContext({activeCtx:e,url:t,documentLoader:r,base:n,cycles:i}){t=s(n,t);const{context:a,remoteDoc:o}=await this._fetchContext({activeCtx:e,url:t,documentLoader:r,cycles:i});n=o.documentUrl||t,f({context:a,base:n});const u=await this.resolve({activeCtx:e,context:a,documentLoader:r,base:n,cycles:i});return this._cacheResolvedContext({key:t,resolved:u,tag:o.tag}),u}async _fetchContext({activeCtx:e,url:t,documentLoader:r,cycles:o}){if(o.size>l)throw new u("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"loading remote context failed":"context overflow",max:l});if(o.has(t))throw new u("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"recursive context inclusion":"context overflow",url:t});let s,c;o.add(t);try{c=await r(t),s=c.document||null,a(s)&&(s=JSON.parse(s))}catch(d){throw new u("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:t,cause:d})}if(!i(s))throw new u("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:t});return s="@context"in s?{"@context":s["@context"]}:{"@context":{}},c.contextUrl&&(n(s["@context"])||(s["@context"]=[s["@context"]]),s["@context"].push(c.contextUrl)),{context:s,remoteDoc:c}}}},1079:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.AJAR_handleNewTerm=s,t.arrayToStatements=l,t.ArrayIndexOf=d,t.appliedFactoryMethods=void 0;var i=n(r("3c962")),a=r("3897"),o=r("4b68");function s(e,t,r){var n=null;if("undefined"!==typeof e.fetcher&&(n=e.fetcher,"NamedNode"===t.termType)){var s,u=(0,a.docpart)(t.uri);if(t.uri.indexOf("#")<0){if((0,o.string_startswith)(t.uri,"http://dbpedia.org/resource/Category:"))return;(0,o.string_startswith)(t.uri,"http://purl.org/dc/elements/1.1/")||(0,o.string_startswith)(t.uri,"http://purl.org/dc/terms/")?s="http://dublincore.org/2005/06/13/dcq":(0,o.string_startswith)(t.uri,"http://xmlns.com/wot/0.1/")?s="http://xmlns.com/wot/0.1/index.rdf":(0,o.string_startswith)(t.uri,"http://web.resource.org/cc/")&&(s="http://web.resource.org/cc/schema.rdf")}if(s&&(u=s),!n||"unrequested"===n.getState(u))return s&&i.default.warn("Assuming server still broken, faking redirect of <"+t.uri+"> to <"+u+">"),n.fetch(u,{referringTerm:r})}}var u=["blankNode","defaultGraph","literal","namedNode","quad","variable","supports"];t.appliedFactoryMethods=u;var c={first:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",rest:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",nil:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"};function l(e,t,r){var n=[];return r.reduce((function(t,r,i,a){var o;return n.push(e.quad(t,e.namedNode(c.first),a[i])),i<a.length-1?(o=e.blankNode(),n.push(e.quad(t,e.namedNode(c.rest),o))):n.push(e.quad(t,e.namedNode(c.rest),e.namedNode(c.nil))),o}),t),n}function d(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=e.length;for(r<0&&(r=n+r);r<n;r++)if(e[r]===t)return r;return-1}},"10d1":function(e,t,r){"use strict";var n,i=r("da84"),a=r("e2cc"),o=r("f183"),s=r("6d61"),u=r("acac"),c=r("861d"),l=r("69f3").enforce,d=r("7f9a"),f=!i.ActiveXObject&&"ActiveXObject"in i,h=Object.isExtensible,p=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},y=e.exports=s("WeakMap",p,u);if(d&&f){n=u.getConstructor(p,"WeakMap",!0),o.REQUIRED=!0;var g=y.prototype,v=g["delete"],m=g.has,b=g.get,w=g.set;a(g,{delete:function(e){if(c(e)&&!h(e)){var t=l(this);return t.frozen||(t.frozen=new n),v.call(this,e)||t.frozen["delete"](e)}return v.call(this,e)},has:function(e){if(c(e)&&!h(e)){var t=l(this);return t.frozen||(t.frozen=new n),m.call(this,e)||t.frozen.has(e)}return m.call(this,e)},get:function(e){if(c(e)&&!h(e)){var t=l(this);return t.frozen||(t.frozen=new n),m.call(this,e)?b.call(this,e):t.frozen.get(e)}return b.call(this,e)},set:function(e,t){if(c(e)&&!h(e)){var r=l(this);r.frozen||(r.frozen=new n),m.call(this,e)?w.call(this,e,t):r.frozen.set(e,t)}else w.call(this,e,t);return this}})}},"11a8":function(e,t){function r(e){this.value=e}r.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},r.prototype.termType="NamedNode",e.exports=r},"13f1":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataFactory=void 0;const n=r("7096"),i=r("3e6b"),a=r("8ce0"),o=r("9935"),s=r("8026"),u=r("a22a");let c=0;class l{constructor(e){this.blankNodeCounter=0,e=e||{},this.blankNodePrefix=e.blankNodePrefix||`df_${c++}_`}namedNode(e){return new o.NamedNode(e)}blankNode(e){return new n.BlankNode(e||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(e,t){return new a.Literal(e,t)}variable(e){return new u.Variable(e)}defaultGraph(){return i.DefaultGraph.INSTANCE}quad(e,t,r,n){return new s.Quad(e,t,r,n||this.defaultGraph())}fromTerm(e){switch(e.termType){case"NamedNode":return this.namedNode(e.value);case"BlankNode":return this.blankNode(e.value);case"Literal":return e.language?this.literal(e.value,e.language):e.datatype.equals(a.Literal.XSD_STRING)?this.literal(e.value):this.literal(e.value,this.fromTerm(e.datatype));case"Variable":return this.variable(e.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(e.subject),this.fromTerm(e.predicate),this.fromTerm(e.object),this.fromTerm(e.graph))}}fromQuad(e){return this.fromTerm(e)}resetBlankNodeCounter(){this.blankNodeCounter=0}}t.DataFactory=l},"15a2":function(e,t,r){"use strict";function n(e,...t){return(...r)=>e(...t,...r)}function i(e){return function(...t){var r=t.pop();return e.call(this,t,r)}}r.r(t),r.d(t,"apply",(function(){return n})),r.d(t,"applyEach",(function(){return B})),r.d(t,"applyEachSeries",(function(){return H})),r.d(t,"asyncify",(function(){return d})),r.d(t,"auto",(function(){return J})),r.d(t,"autoInject",(function(){return te})),r.d(t,"cargo",(function(){return ae})),r.d(t,"cargoQueue",(function(){return oe})),r.d(t,"compose",(function(){return le})),r.d(t,"concat",(function(){return ge})),r.d(t,"concatLimit",(function(){return pe})),r.d(t,"concatSeries",(function(){return me})),r.d(t,"constant",(function(){return be})),r.d(t,"detect",(function(){return xe})),r.d(t,"detectLimit",(function(){return Te})),r.d(t,"detectSeries",(function(){return Se})),r.d(t,"dir",(function(){return Ie})),r.d(t,"doUntil",(function(){return je})),r.d(t,"doWhilst",(function(){return ke})),r.d(t,"each",(function(){return De})),r.d(t,"eachLimit",(function(){return Le})),r.d(t,"eachOf",(function(){return F})),r.d(t,"eachOfLimit",(function(){return C})),r.d(t,"eachOfSeries",(function(){return V})),r.d(t,"eachSeries",(function(){return Me})),r.d(t,"ensureAsync",(function(){return Ue})),r.d(t,"every",(function(){return qe})),r.d(t,"everyLimit",(function(){return $e})),r.d(t,"everySeries",(function(){return He})),r.d(t,"filter",(function(){return Xe})),r.d(t,"filterLimit",(function(){return Ye})),r.d(t,"filterSeries",(function(){return et})),r.d(t,"forever",(function(){return rt})),r.d(t,"groupBy",(function(){return at})),r.d(t,"groupByLimit",(function(){return it})),r.d(t,"groupBySeries",(function(){return ot})),r.d(t,"log",(function(){return st})),r.d(t,"map",(function(){return U})),r.d(t,"mapLimit",(function(){return fe})),r.d(t,"mapSeries",(function(){return G})),r.d(t,"mapValues",(function(){return dt})),r.d(t,"mapValuesLimit",(function(){return lt})),r.d(t,"mapValuesSeries",(function(){return ft})),r.d(t,"memoize",(function(){return ht})),r.d(t,"nextTick",(function(){return pt})),r.d(t,"parallel",(function(){return gt})),r.d(t,"parallelLimit",(function(){return vt})),r.d(t,"priorityQueue",(function(){return Et})),r.d(t,"queue",(function(){return mt})),r.d(t,"race",(function(){return Ot})),r.d(t,"reduce",(function(){return ue})),r.d(t,"reduceRight",(function(){return St})),r.d(t,"reflect",(function(){return Nt})),r.d(t,"reflectAll",(function(){return It})),r.d(t,"reject",(function(){return jt})),r.d(t,"rejectLimit",(function(){return Ct})),r.d(t,"rejectSeries",(function(){return Pt})),r.d(t,"retry",(function(){return Ut})),r.d(t,"retryable",(function(){return qt})),r.d(t,"seq",(function(){return ce})),r.d(t,"series",(function(){return Vt})),r.d(t,"setImmediate",(function(){return l})),r.d(t,"some",(function(){return Gt})),r.d(t,"someLimit",(function(){return zt})),r.d(t,"someSeries",(function(){return Jt})),r.d(t,"sortBy",(function(){return Xt})),r.d(t,"timeout",(function(){return Kt})),r.d(t,"times",(function(){return er})),r.d(t,"timesLimit",(function(){return Zt})),r.d(t,"timesSeries",(function(){return tr})),r.d(t,"transform",(function(){return rr})),r.d(t,"tryEach",(function(){return ir})),r.d(t,"unmemoize",(function(){return ar})),r.d(t,"until",(function(){return ur})),r.d(t,"waterfall",(function(){return lr})),r.d(t,"whilst",(function(){return sr})),r.d(t,"all",(function(){return qe})),r.d(t,"allLimit",(function(){return $e})),r.d(t,"allSeries",(function(){return He})),r.d(t,"any",(function(){return Gt})),r.d(t,"anyLimit",(function(){return zt})),r.d(t,"anySeries",(function(){return Jt})),r.d(t,"find",(function(){return xe})),r.d(t,"findLimit",(function(){return Te})),r.d(t,"findSeries",(function(){return Se})),r.d(t,"flatMap",(function(){return ge})),r.d(t,"flatMapLimit",(function(){return pe})),r.d(t,"flatMapSeries",(function(){return me})),r.d(t,"forEach",(function(){return De})),r.d(t,"forEachSeries",(function(){return Me})),r.d(t,"forEachLimit",(function(){return Le})),r.d(t,"forEachOf",(function(){return F})),r.d(t,"forEachOfSeries",(function(){return V})),r.d(t,"forEachOfLimit",(function(){return C})),r.d(t,"inject",(function(){return ue})),r.d(t,"foldl",(function(){return ue})),r.d(t,"foldr",(function(){return St})),r.d(t,"select",(function(){return Xe})),r.d(t,"selectLimit",(function(){return Ye})),r.d(t,"selectSeries",(function(){return et})),r.d(t,"wrapSync",(function(){return d})),r.d(t,"during",(function(){return sr})),r.d(t,"doDuring",(function(){return ke}));var a,o="function"===typeof setImmediate&&setImmediate,s="object"===typeof process&&"function"===typeof process.nextTick;function u(e){setTimeout(e,0)}function c(e){return(t,...r)=>e(()=>t(...r))}a=o?setImmediate:s?process.nextTick:u;var l=c(a);function d(e){return p(e)?function(...t){const r=t.pop(),n=e.apply(this,t);return f(n,r)}:i((function(t,r){var n;try{n=e.apply(this,t)}catch(i){return r(i)}if(n&&"function"===typeof n.then)return f(n,r);r(null,n)}))}function f(e,t){return e.then(e=>{h(t,null,e)},e=>{h(t,e&&e.message?e:new Error(e))})}function h(e,t,r){try{e(t,r)}catch(n){l(e=>{throw e},n)}}function p(e){return"AsyncFunction"===e[Symbol.toStringTag]}function y(e){return"AsyncGenerator"===e[Symbol.toStringTag]}function g(e){return"function"===typeof e[Symbol.asyncIterator]}function v(e){if("function"!==typeof e)throw new Error("expected a function");return p(e)?d(e):e}function m(e,t=e.length){if(!t)throw new Error("arity is undefined");function r(...r){return"function"===typeof r[t-1]?e.apply(this,r):new Promise((n,i)=>{r[t-1]=(e,...t)=>{if(e)return i(e);n(t.length>1?t:t[0])},e.apply(this,r)})}return r}function b(e){return function(t,...r){const n=m((function(n){var i=this;return e(t,(e,t)=>{v(e).apply(i,r.concat(t))},n)}));return n}}function w(e,t,r,n){t=t||[];var i=[],a=0,o=v(r);return e(t,(e,t,r)=>{var n=a++;o(e,(e,t)=>{i[n]=t,r(e)})},e=>{n(e,i)})}function _(e){return e&&"number"===typeof e.length&&e.length>=0&&e.length%1===0}const x={};function E(e){function t(...t){if(null!==e){var r=e;e=null,r.apply(this,t)}}return Object.assign(t,e),t}function T(e){return e[Symbol.iterator]&&e[Symbol.iterator]()}function O(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}function S(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}function N(e){var t=e?Object.keys(e):[],r=-1,n=t.length;return function(){var i=t[++r];return r<n?{value:e[i],key:i}:null}}function I(e){if(_(e))return O(e);var t=T(e);return t?S(t):N(e)}function R(e){return function(...t){if(null===e)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,t)}}function k(e,t,r,n){let i=!1,a=!1,o=!1,s=0,u=0;function c(){s>=t||o||i||(o=!0,e.next().then(({value:e,done:t})=>{if(!a&&!i){if(o=!1,t)return i=!0,void(s<=0&&n(null));s++,r(e,u,l),u++,c()}}).catch(d))}function l(e,t){if(s-=1,!a)return e?d(e):!1===e?(i=!0,void(a=!0)):t===x||i&&s<=0?(i=!0,n(null)):void c()}function d(e){a||(o=!1,i=!0,n(e))}c()}var j=e=>(t,r,n)=>{if(n=E(n),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return n(null);if(y(t))return k(t,e,r,n);if(g(t))return k(t[Symbol.asyncIterator](),e,r,n);var i=I(t),a=!1,o=!1,s=0,u=!1;function c(e,t){if(!o)if(s-=1,e)a=!0,n(e);else if(!1===e)a=!0,o=!0;else{if(t===x||a&&s<=0)return a=!0,n(null);u||l()}}function l(){u=!0;while(s<e&&!a){var t=i();if(null===t)return a=!0,void(s<=0&&n(null));s+=1,r(t.value,t.key,R(c))}u=!1}l()};function A(e,t,r,n){return j(t)(e,v(r),n)}var C=m(A,4);function D(e,t,r){r=E(r);var n=0,i=0,{length:a}=e,o=!1;function s(e,t){!1===e&&(o=!0),!0!==o&&(e?r(e):++i!==a&&t!==x||r(null))}for(0===a&&r(null);n<a;n++)t(e[n],n,R(s))}function P(e,t,r){return C(e,1/0,t,r)}function L(e,t,r){var n=_(e)?D:P;return n(e,v(t),r)}var F=m(L,3);function M(e,t,r){return w(F,e,t,r)}var U=m(M,3),B=b(U);function q(e,t,r){return C(e,1,t,r)}var V=m(q,3);function $(e,t,r){return w(V,e,t,r)}var G=m($,3),H=b(G);const z=Symbol("promiseCallback");function Q(){let e,t;function r(r,...n){if(r)return t(r);e(n.length>1?n:n[0])}return r[z]=new Promise((r,n)=>{e=r,t=n}),r}function J(e,t,r){"number"!==typeof t&&(r=t,t=null),r=E(r||Q());var n=Object.keys(e).length;if(!n)return r(null);t||(t=n);var i={},a=0,o=!1,s=!1,u=Object.create(null),c=[],l=[],d={};function f(e,t){c.push(()=>g(e,t))}function h(){if(!o){if(0===c.length&&0===a)return r(null,i);while(c.length&&a<t){var e=c.shift();e()}}}function p(e,t){var r=u[e];r||(r=u[e]=[]),r.push(t)}function y(e){var t=u[e]||[];t.forEach(e=>e()),h()}function g(e,t){if(!s){var n=R((t,...n)=>{if(a--,!1!==t)if(n.length<2&&([n]=n),t){var c={};if(Object.keys(i).forEach(e=>{c[e]=i[e]}),c[e]=n,s=!0,u=Object.create(null),o)return;r(t,c)}else i[e]=n,y(e);else o=!0});a++;var c=v(t[t.length-1]);t.length>1?c(i,n):c(n)}}function m(){var e,t=0;while(l.length)e=l.pop(),t++,b(e).forEach(e=>{0===--d[e]&&l.push(e)});if(t!==n)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function b(t){var r=[];return Object.keys(e).forEach(n=>{const i=e[n];Array.isArray(i)&&i.indexOf(t)>=0&&r.push(n)}),r}return Object.keys(e).forEach(t=>{var r=e[t];if(!Array.isArray(r))return f(t,[r]),void l.push(t);var n=r.slice(0,r.length-1),i=n.length;if(0===i)return f(t,r),void l.push(t);d[t]=i,n.forEach(a=>{if(!e[a])throw new Error("async.auto task `"+t+"` has a non-existent dependency `"+a+"` in "+n.join(", "));p(a,()=>{i--,0===i&&f(t,r)})})}),m(),h(),r[z]}var W=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,X=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,K=/,/,Y=/(=.+)?(\s*)$/,Z=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function ee(e){const t=e.toString().replace(Z,"");let r=t.match(W);if(r||(r=t.match(X)),!r)throw new Error("could not parse args in autoInject\nSource:\n"+t);let[,n]=r;return n.replace(/\s/g,"").split(K).map(e=>e.replace(Y,"").trim())}function te(e,t){var r={};return Object.keys(e).forEach(t=>{var n,i=e[t],a=p(i),o=!a&&1===i.length||a&&0===i.length;if(Array.isArray(i))n=[...i],i=n.pop(),r[t]=n.concat(n.length>0?s:i);else if(o)r[t]=i;else{if(n=ee(i),0===i.length&&!a&&0===n.length)throw new Error("autoInject task functions require explicit parameters.");a||n.pop(),r[t]=n.concat(s)}function s(e,t){var r=n.map(t=>e[t]);r.push(t),v(i)(...r)}}),J(r,t)}class re{constructor(){this.head=this.tail=null,this.length=0}removeLink(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}empty(){while(this.head)this.shift();return this}insertAfter(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1}insertBefore(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1}unshift(e){this.head?this.insertBefore(this.head,e):ne(this,e)}push(e){this.tail?this.insertAfter(this.tail,e):ne(this,e)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){var e=this.head;while(e)yield e.data,e=e.next}remove(e){var t=this.head;while(t){var{next:r}=t;e(t)&&this.removeLink(t),t=r}return this}}function ne(e,t){e.length=1,e.head=e.tail=t}function ie(e,t,r){if(null==t)t=1;else if(0===t)throw new RangeError("Concurrency must not be zero");var n=v(e),i=0,a=[];const o={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function s(e,t){o[e].push(t)}function u(e,t){const r=(...n)=>{c(e,r),t(...n)};o[e].push(r)}function c(e,t){return e?t?void(o[e]=o[e].filter(e=>e!==t)):o[e]=[]:Object.keys(o).forEach(e=>o[e]=[])}function d(e,...t){o[e].forEach(e=>e(...t))}var f=!1;function h(e,t,r,n){if(null!=n&&"function"!==typeof n)throw new Error("task callback must be a function");var i,a;function o(e,...t){return e?r?a(e):i():t.length<=1?i(t[0]):void i(t)}b.started=!0;var s={data:e,callback:r?o:n||o};if(t?b._tasks.unshift(s):b._tasks.push(s),f||(f=!0,l(()=>{f=!1,b.process()})),r||!n)return new Promise((e,t)=>{i=e,a=t})}function p(e){return function(t,...r){i-=1;for(var n=0,o=e.length;n<o;n++){var s=e[n],u=a.indexOf(s);0===u?a.shift():u>0&&a.splice(u,1),s.callback(t,...r),null!=t&&d("error",t,s.data)}i<=b.concurrency-b.buffer&&d("unsaturated"),b.idle()&&d("drain"),b.process()}}function y(e){return!(0!==e.length||!b.idle())&&(l(()=>d("drain")),!0)}const g=e=>t=>{if(!t)return new Promise((t,r)=>{u(e,(e,n)=>{if(e)return r(e);t(n)})});c(e),s(e,t)};var m=!1,b={_tasks:new re,*[Symbol.iterator](){yield*b._tasks[Symbol.iterator]()},concurrency:t,payload:r,buffer:t/4,started:!1,paused:!1,push(e,t){if(Array.isArray(e)){if(y(e))return;return e.map(e=>h(e,!1,!1,t))}return h(e,!1,!1,t)},pushAsync(e,t){if(Array.isArray(e)){if(y(e))return;return e.map(e=>h(e,!1,!0,t))}return h(e,!1,!0,t)},kill(){c(),b._tasks.empty()},unshift(e,t){if(Array.isArray(e)){if(y(e))return;return e.map(e=>h(e,!0,!1,t))}return h(e,!0,!1,t)},unshiftAsync(e,t){if(Array.isArray(e)){if(y(e))return;return e.map(e=>h(e,!0,!0,t))}return h(e,!0,!0,t)},remove(e){b._tasks.remove(e)},process(){if(!m){m=!0;while(!b.paused&&i<b.concurrency&&b._tasks.length){var e=[],t=[],r=b._tasks.length;b.payload&&(r=Math.min(r,b.payload));for(var o=0;o<r;o++){var s=b._tasks.shift();e.push(s),a.push(s),t.push(s.data)}i+=1,0===b._tasks.length&&d("empty"),i===b.concurrency&&d("saturated");var u=R(p(e));n(t,u)}m=!1}},length(){return b._tasks.length},running(){return i},workersList(){return a},idle(){return b._tasks.length+i===0},pause(){b.paused=!0},resume(){!1!==b.paused&&(b.paused=!1,l(b.process))}};return Object.defineProperties(b,{saturated:{writable:!1,value:g("saturated")},unsaturated:{writable:!1,value:g("unsaturated")},empty:{writable:!1,value:g("empty")},drain:{writable:!1,value:g("drain")},error:{writable:!1,value:g("error")}}),b}function ae(e,t){return ie(e,1,t)}function oe(e,t,r){return ie(e,t,r)}function se(e,t,r,n){n=E(n);var i=v(r);return V(e,(e,r,n)=>{i(t,e,(e,r)=>{t=r,n(e)})},e=>n(e,t))}var ue=m(se,4);function ce(...e){var t=e.map(v);return function(...e){var r=this,n=e[e.length-1];return"function"==typeof n?e.pop():n=Q(),ue(t,e,(e,t,n)=>{t.apply(r,e.concat((e,...t)=>{n(e,t)}))},(e,t)=>n(e,...t)),n[z]}}function le(...e){return ce(...e.reverse())}function de(e,t,r,n){return w(j(t),e,r,n)}var fe=m(de,4);function he(e,t,r,n){var i=v(r);return fe(e,t,(e,t)=>{i(e,(e,...r)=>e?t(e):t(e,r))},(e,t)=>{for(var r=[],i=0;i<t.length;i++)t[i]&&(r=r.concat(...t[i]));return n(e,r)})}var pe=m(he,4);function ye(e,t,r){return pe(e,1/0,t,r)}var ge=m(ye,3);function ve(e,t,r){return pe(e,1,t,r)}var me=m(ve,3);function be(...e){return function(...t){var r=t.pop();return r(null,...e)}}function we(e,t){return(r,n,i,a)=>{var o,s=!1;const u=v(i);r(n,(r,n,i)=>{u(r,(n,a)=>n||!1===n?i(n):e(a)&&!o?(s=!0,o=t(!0,r),i(null,x)):void i())},e=>{if(e)return a(e);a(null,s?o:t(!1))})}}function _e(e,t,r){return we(e=>e,(e,t)=>t)(F,e,t,r)}var xe=m(_e,3);function Ee(e,t,r,n){return we(e=>e,(e,t)=>t)(j(t),e,r,n)}var Te=m(Ee,4);function Oe(e,t,r){return we(e=>e,(e,t)=>t)(j(1),e,t,r)}var Se=m(Oe,3);function Ne(e){return(t,...r)=>v(t)(...r,(t,...r)=>{"object"===typeof console&&(t?console.error&&console.error(t):console[e]&&r.forEach(t=>console[e](t)))})}var Ie=Ne("dir");function Re(e,t,r){r=R(r);var n,i=v(e),a=v(t);function o(e,...t){if(e)return r(e);!1!==e&&(n=t,a(...t,s))}function s(e,t){return e?r(e):!1!==e?t?void i(o):r(null,...n):void 0}return s(null,!0)}var ke=m(Re,3);function je(e,t,r){const n=v(t);return ke(e,(...e)=>{const t=e.pop();n(...e,(e,r)=>t(e,!r))},r)}function Ae(e){return(t,r,n)=>e(t,n)}function Ce(e,t,r){return F(e,Ae(v(t)),r)}var De=m(Ce,3);function Pe(e,t,r,n){return j(t)(e,Ae(v(r)),n)}var Le=m(Pe,4);function Fe(e,t,r){return Le(e,1,t,r)}var Me=m(Fe,3);function Ue(e){return p(e)?e:function(...t){var r=t.pop(),n=!0;t.push((...e)=>{n?l(()=>r(...e)):r(...e)}),e.apply(this,t),n=!1}}function Be(e,t,r){return we(e=>!e,e=>!e)(F,e,t,r)}var qe=m(Be,3);function Ve(e,t,r,n){return we(e=>!e,e=>!e)(j(t),e,r,n)}var $e=m(Ve,4);function Ge(e,t,r){return we(e=>!e,e=>!e)(V,e,t,r)}var He=m(Ge,3);function ze(e,t,r,n){var i=new Array(t.length);e(t,(e,t,n)=>{r(e,(e,r)=>{i[t]=!!r,n(e)})},e=>{if(e)return n(e);for(var r=[],a=0;a<t.length;a++)i[a]&&r.push(t[a]);n(null,r)})}function Qe(e,t,r,n){var i=[];e(t,(e,t,n)=>{r(e,(r,a)=>{if(r)return n(r);a&&i.push({index:t,value:e}),n(r)})},e=>{if(e)return n(e);n(null,i.sort((e,t)=>e.index-t.index).map(e=>e.value))})}function Je(e,t,r,n){var i=_(t)?ze:Qe;return i(e,t,v(r),n)}function We(e,t,r){return Je(F,e,t,r)}var Xe=m(We,3);function Ke(e,t,r,n){return Je(j(t),e,r,n)}var Ye=m(Ke,4);function Ze(e,t,r){return Je(V,e,t,r)}var et=m(Ze,3);function tt(e,t){var r=R(t),n=v(Ue(e));function i(e){if(e)return r(e);!1!==e&&n(i)}return i()}var rt=m(tt,2);function nt(e,t,r,n){var i=v(r);return fe(e,t,(e,t)=>{i(e,(r,n)=>r?t(r):t(r,{key:n,val:e}))},(e,t)=>{for(var r={},{hasOwnProperty:i}=Object.prototype,a=0;a<t.length;a++)if(t[a]){var{key:o}=t[a],{val:s}=t[a];i.call(r,o)?r[o].push(s):r[o]=[s]}return n(e,r)})}var it=m(nt,4);function at(e,t,r){return it(e,1/0,t,r)}function ot(e,t,r){return it(e,1,t,r)}var st=Ne("log");function ut(e,t,r,n){n=E(n);var i={},a=v(r);return j(t)(e,(e,t,r)=>{a(e,t,(e,n)=>{if(e)return r(e);i[t]=n,r(e)})},e=>n(e,i))}var ct,lt=m(ut,4);function dt(e,t,r){return lt(e,1/0,t,r)}function ft(e,t,r){return lt(e,1,t,r)}function ht(e,t=(e=>e)){var r=Object.create(null),n=Object.create(null),a=v(e),o=i((e,i)=>{var o=t(...e);o in r?l(()=>i(null,...r[o])):o in n?n[o].push(i):(n[o]=[i],a(...e,(e,...t)=>{e||(r[o]=t);var i=n[o];delete n[o];for(var a=0,s=i.length;a<s;a++)i[a](e,...t)}))});return o.memo=r,o.unmemoized=e,o}ct=s?process.nextTick:o?setImmediate:u;var pt=c(ct),yt=m((e,t,r)=>{var n=_(t)?[]:{};e(t,(e,t,r)=>{v(e)((e,...i)=>{i.length<2&&([i]=i),n[t]=i,r(e)})},e=>r(e,n))},3);function gt(e,t){return yt(F,e,t)}function vt(e,t,r){return yt(j(t),e,r)}function mt(e,t){var r=v(e);return ie((e,t)=>{r(e[0],t)},t,1)}class bt{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(e){let t;while(e>0&&xt(this.heap[e],this.heap[t=_t(e)])){let r=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=r,e=t}}percDown(e){let t;while((t=wt(e))<this.heap.length){if(t+1<this.heap.length&&xt(this.heap[t+1],this.heap[t])&&(t+=1),xt(this.heap[e],this.heap[t]))break;let r=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=r,e=t}}push(e){e.pushCount=++this.pushCount,this.heap.push(e),this.percUp(this.heap.length-1)}unshift(e){return this.heap.push(e)}shift(){let[e]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),e}toArray(){return[...this]}*[Symbol.iterator](){for(let e=0;e<this.heap.length;e++)yield this.heap[e].data}remove(e){let t=0;for(let r=0;r<this.heap.length;r++)e(this.heap[r])||(this.heap[t]=this.heap[r],t++);this.heap.splice(t);for(let r=_t(this.heap.length-1);r>=0;r--)this.percDown(r);return this}}function wt(e){return 1+(e<<1)}function _t(e){return(e+1>>1)-1}function xt(e,t){return e.priority!==t.priority?e.priority<t.priority:e.pushCount<t.pushCount}function Et(e,t){var r=mt(e,t);return r._tasks=new bt,r.push=function(e,t=0,n=(()=>{})){if("function"!==typeof n)throw new Error("task callback must be a function");if(r.started=!0,Array.isArray(e)||(e=[e]),0===e.length&&r.idle())return l(()=>r.drain());for(var i=0,a=e.length;i<a;i++){var o={data:e[i],priority:t,callback:n};r._tasks.push(o)}l(r.process)},delete r.unshift,r}function Tt(e,t){if(t=E(t),!Array.isArray(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var r=0,n=e.length;r<n;r++)v(e[r])(t)}var Ot=m(Tt,2);function St(e,t,r,n){var i=[...e].reverse();return ue(i,t,r,n)}function Nt(e){var t=v(e);return i((function(e,r){return e.push((e,...t)=>{let n={};if(e&&(n.error=e),t.length>0){var i=t;t.length<=1&&([i]=t),n.value=i}r(null,n)}),t.apply(this,e)}))}function It(e){var t;return Array.isArray(e)?t=e.map(Nt):(t={},Object.keys(e).forEach(r=>{t[r]=Nt.call(this,e[r])})),t}function Rt(e,t,r,n){const i=v(r);return Je(e,t,(e,t)=>{i(e,(e,r)=>{t(e,!r)})},n)}function kt(e,t,r){return Rt(F,e,t,r)}var jt=m(kt,3);function At(e,t,r,n){return Rt(j(t),e,r,n)}var Ct=m(At,4);function Dt(e,t,r){return Rt(V,e,t,r)}var Pt=m(Dt,3);function Lt(e){return function(){return e}}const Ft=5,Mt=0;function Ut(e,t,r){var n={times:Ft,intervalFunc:Lt(Mt)};if(arguments.length<3&&"function"===typeof e?(r=t||Q(),t=e):(Bt(n,e),r=r||Q()),"function"!==typeof t)throw new Error("Invalid arguments for async.retry");var i=v(t),a=1;function o(){i((e,...t)=>{!1!==e&&(e&&a++<n.times&&("function"!=typeof n.errorFilter||n.errorFilter(e))?setTimeout(o,n.intervalFunc(a-1)):r(e,...t))})}return o(),r[z]}function Bt(e,t){if("object"===typeof t)e.times=+t.times||Ft,e.intervalFunc="function"===typeof t.interval?t.interval:Lt(+t.interval||Mt),e.errorFilter=t.errorFilter;else{if("number"!==typeof t&&"string"!==typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||Ft}}function qt(e,t){t||(t=e,e=null);let r=e&&e.arity||t.length;p(t)&&(r+=1);var n=v(t);return i((t,i)=>{function a(e){n(...t,e)}return(t.length<r-1||null==i)&&(t.push(i),i=Q()),e?Ut(e,a,i):Ut(a,i),i[z]})}function Vt(e,t){return yt(V,e,t)}function $t(e,t,r){return we(Boolean,e=>e)(F,e,t,r)}var Gt=m($t,3);function Ht(e,t,r,n){return we(Boolean,e=>e)(j(t),e,r,n)}var zt=m(Ht,4);function Qt(e,t,r){return we(Boolean,e=>e)(V,e,t,r)}var Jt=m(Qt,3);function Wt(e,t,r){var n=v(t);return U(e,(e,t)=>{n(e,(r,n)=>{if(r)return t(r);t(r,{value:e,criteria:n})})},(e,t)=>{if(e)return r(e);r(null,t.sort(i).map(e=>e.value))});function i(e,t){var r=e.criteria,n=t.criteria;return r<n?-1:r>n?1:0}}var Xt=m(Wt,3);function Kt(e,t,r){var n=v(e);return i((i,a)=>{var o,s=!1;function u(){var t=e.name||"anonymous",n=new Error('Callback function "'+t+'" timed out.');n.code="ETIMEDOUT",r&&(n.info=r),s=!0,a(n)}i.push((...e)=>{s||(a(...e),clearTimeout(o))}),o=setTimeout(u,t),n(...i)})}function Yt(e){var t=Array(e);while(e--)t[e]=e;return t}function Zt(e,t,r,n){var i=v(r);return fe(Yt(e),t,i,n)}function er(e,t,r){return Zt(e,1/0,t,r)}function tr(e,t,r){return Zt(e,1,t,r)}function rr(e,t,r,n){arguments.length<=3&&"function"===typeof t&&(n=r,r=t,t=Array.isArray(e)?[]:{}),n=E(n||Q());var i=v(r);return F(e,(e,r,n)=>{i(t,e,r,n)},e=>n(e,t)),n[z]}function nr(e,t){var r,n=null;return Me(e,(e,t)=>{v(e)((e,...i)=>{if(!1===e)return t(e);i.length<2?[r]=i:r=i,n=e,t(e?null:{})})},()=>t(n,r))}var ir=m(nr);function ar(e){return(...t)=>(e.unmemoized||e)(...t)}function or(e,t,r){r=R(r);var n=v(t),i=v(e),a=[];function o(e,...t){if(e)return r(e);a=t,!1!==e&&i(s)}function s(e,t){return e?r(e):!1!==e?t?void n(o):r(null,...a):void 0}return i(s)}var sr=m(or,3);function ur(e,t,r){const n=v(e);return sr(e=>n((t,r)=>e(t,!r)),t,r)}function cr(e,t){if(t=E(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var r=0;function n(t){var n=v(e[r++]);n(...t,R(i))}function i(i,...a){if(!1!==i)return i||r===e.length?t(i,...a):void n(a)}n([])}var lr=m(cr),dr={apply:n,applyEach:B,applyEachSeries:H,asyncify:d,auto:J,autoInject:te,cargo:ae,cargoQueue:oe,compose:le,concat:ge,concatLimit:pe,concatSeries:me,constant:be,detect:xe,detectLimit:Te,detectSeries:Se,dir:Ie,doUntil:je,doWhilst:ke,each:De,eachLimit:Le,eachOf:F,eachOfLimit:C,eachOfSeries:V,eachSeries:Me,ensureAsync:Ue,every:qe,everyLimit:$e,everySeries:He,filter:Xe,filterLimit:Ye,filterSeries:et,forever:rt,groupBy:at,groupByLimit:it,groupBySeries:ot,log:st,map:U,mapLimit:fe,mapSeries:G,mapValues:dt,mapValuesLimit:lt,mapValuesSeries:ft,memoize:ht,nextTick:pt,parallel:gt,parallelLimit:vt,priorityQueue:Et,queue:mt,race:Ot,reduce:ue,reduceRight:St,reflect:Nt,reflectAll:It,reject:jt,rejectLimit:Ct,rejectSeries:Pt,retry:Ut,retryable:qt,seq:ce,series:Vt,setImmediate:l,some:Gt,someLimit:zt,someSeries:Jt,sortBy:Xt,timeout:Kt,times:er,timesLimit:Zt,timesSeries:tr,transform:rr,tryEach:ir,unmemoize:ar,until:ur,waterfall:lr,whilst:sr,all:qe,allLimit:$e,allSeries:He,any:Gt,anyLimit:zt,anySeries:Jt,find:xe,findLimit:Te,findSeries:Se,flatMap:ge,flatMapLimit:pe,flatMapSeries:me,forEach:De,forEachSeries:Me,forEachLimit:Le,forEachOf:F,forEachOfSeries:V,forEachOfLimit:C,inject:ue,foldl:ue,foldr:St,select:Xe,selectLimit:Ye,selectSeries:et,wrapSync:d,during:sr,doDuring:ke};t["default"]=dr},"15a8":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(r("dfa6")),a=n(r("491a"));function o(e,t,r){var n,o,s,u=["INSERT","DELETE","WHERE"],c=(0,a.default)("http://www.w3.org/ns/pim/patch#"),l=(0,i.default)(t,t,r,r,null,null,"",null),d={},f=function(e,t,r,n,i){return"Line "+(t+1)+" of <"+e+">: Bad syntax:\n   "+i+'\n   at: "'+r.slice(n,n+30)+'"'};n=0;var h=t.sym(r+"#query");d["query"]=h;while(1){if(o=l.skipSpace(e,n),o<0)return d;if(";"===e[o]){if(n=l.skipSpace(e,o+1),n<0)return d;o=n}var p=!1;for(s=0;s<u.length;s++){var y=u[s];if(e.slice(o,o+y.length)===y){if(n=l.skipSpace(e,o+y.length),n<0)throw f(l._thisDoc,l.lines,e,o+y.length,"found EOF, needed {...} after "+y);if(("INSERT"===y||"DELETE"===y)&&"DATA"===e.slice(n,n+4)){if(o=l.skipSpace(e,n+4),o<0)throw f(l._thisDoc,l.lines,e,n+4,"needed {...} after INSERT DATA "+y);n=o}var g=[];if(o=l.node(e,n,g),o<0)throw f(l._thisDoc,l.lines,e,n,"bad syntax or EOF in {...} after "+y);d[y.toLowerCase()]=g[0],t.add(h,c(y.toLowerCase()),g[0]),p=!0,n=o}}if(!p&&"@prefix"===e.slice(o,o+7)){if(n=l.directive(e,o),n<0)throw f(l._thisDoc,l.lines,e,n,"bad syntax or EOF after @prefix ");n=l.checkDot(e,n),p=!0}if(!p)throw f(l._thisDoc,l.lines,e,o,"Unknown syntax at start of statememt: '"+e.slice(o).slice(0,20)+"'")}}},"16cc":function(e,t,r){"use strict";var n=r("ad69").codes.ERR_INVALID_OPT_VALUE;function i(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}function a(e,t,r,a){var o=i(t,a,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0){var s=a?r:"highWaterMark";throw new n(s,o)}return Math.floor(o)}return e.objectMode?16:16384}e.exports={getHighWaterMark:a}},18:function(e,t){},19:function(e,t){},1912:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("600b");class i extends n.JSONLDResolver{constructor(e){super(e);const t=this._exposedContext=Object.create(e["@context"]);Object.defineProperty(t,"extend",{value:(...e)=>this.extendContext(...e)}),Object.defineProperty(t,"then",{value:(e,t)=>this._context.then(e=>e.contextRaw).then(e,t)})}handle(){return this._exposedContext}}t.default=i},"19f2":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var n=r("600b"),i=p(r("9c67")),a=p(r("9604")),o=p(r("3432")),s=p(r("3896")),u=p(r("4e8ed")),c=p(r("b474")),l=p(r("bdfe")),d=p(r("4f59")),f=p(r("1912")),h=p(r("e88a"));function p(e){return e&&e.__esModule?e:{default:e}}const{as:y}=i.default["@context"],g=new f.default(i.default),v={...n.defaultHandlers,put:new a.default,delete:new o.default,findActivity:new s.default,likes:(e,t)=>t.findActivity("".concat(y,"Like")),dislikes:(e,t)=>t.findActivity("".concat(y,"Dislike")),follows:(e,t)=>t.findActivity("".concat(y,"Follow")),createActivity:new u.default,like:(e,t)=>()=>t.createActivity("".concat(y,"Like")),dislike:(e,t)=>()=>t.createActivity("".concat(y,"Dislike")),follow:(e,t)=>()=>t.createActivity("".concat(y,"Follow")),deleteActivity:new c.default,unlike:(e,t)=>()=>t.deleteActivity("".concat(y,"Like")),undislike:(e,t)=>()=>t.deleteActivity("".concat(y,"Dislike")),unfollow:(e,t)=>()=>t.deleteActivity("".concat(y,"Follow"))};function m(e){let t=null;const r=new n.PathFactory({handlers:{...v,root:()=>t},resolvers:[g]});return t=new n.PathFactory({handlers:{...n.defaultHandlers,from:new l.default(r),user:new d.default(r),clearCache:({settings:e})=>t=>e.createQueryEngine().clearCache(t),context:g},resolvers:[new h.default(r)],...e}).create(),t}},"1da1":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("d3b7");function n(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,u,"next",e)}function u(e){n(o,i,a,s,u,"throw",e)}s(void 0)}))}}},"1f03":function(e,t,r){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},"1f25":function(e,t,r){"use strict";const n=r("5cf7"),i=Symbol("max"),a=Symbol("length"),o=Symbol("lengthCalculator"),s=Symbol("allowStale"),u=Symbol("maxAge"),c=Symbol("dispose"),l=Symbol("noDisposeOnSet"),d=Symbol("lruList"),f=Symbol("cache"),h=Symbol("updateAgeOnGet"),p=()=>1;class y{constructor(e){if("number"===typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!==typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||p;if(this[o]="function"!==typeof t?p:t,this[s]=e.stale||!1,e.maxAge&&"number"!==typeof e.maxAge)throw new TypeError("maxAge must be a number");this[u]=e.maxAge||0,this[c]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!==typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,m(this)}get max(){return this[i]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!==typeof e)throw new TypeError("maxAge must be a non-negative number");this[u]=e,m(this)}get maxAge(){return this[u]}set lengthCalculator(e){"function"!==typeof e&&(e=p),e!==this[o]&&(this[o]=e,this[a]=0,this[d].forEach(e=>{e.length=this[o](e.value,e.key),this[a]+=e.length})),m(this)}get lengthCalculator(){return this[o]}get length(){return this[a]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let r=this[d].tail;null!==r;){const n=r.prev;_(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[d].head;null!==r;){const n=r.next;_(this,e,r,t),r=n}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach(e=>this[c](e.key,e.value)),this[f]=new Map,this[d]=new n,this[a]=0}dump(){return this[d].map(e=>!v(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,r){if(r=r||this[u],r&&"number"!==typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,s=this[o](t,e);if(this[f].has(e)){if(s>this[i])return b(this,this[f].get(e)),!1;const o=this[f].get(e),u=o.value;return this[c]&&(this[l]||this[c](e,u.value)),u.now=n,u.maxAge=r,u.value=t,this[a]+=s-u.length,u.length=s,this.get(e),m(this),!0}const h=new w(e,t,s,n,r);return h.length>this[i]?(this[c]&&this[c](e,t),!1):(this[a]+=h.length,this[d].unshift(h),this[f].set(e,this[d].head),m(this),!0)}has(e){if(!this[f].has(e))return!1;const t=this[f].get(e).value;return!v(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[d].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[f].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[f].forEach((e,t)=>g(this,t,!1))}}const g=(e,t,r)=>{const n=e[f].get(t);if(n){const t=n.value;if(v(e,t)){if(b(e,n),!e[s])return}else r&&(e[h]&&(n.value.now=Date.now()),e[d].unshiftNode(n));return t.value}},v=(e,t)=>{if(!t||!t.maxAge&&!e[u])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[u]&&r>e[u]},m=e=>{if(e[a]>e[i])for(let t=e[d].tail;e[a]>e[i]&&null!==t;){const r=t.prev;b(e,t),t=r}},b=(e,t)=>{if(t){const r=t.value;e[c]&&e[c](r.key,r.value),e[a]-=r.length,e[f].delete(r.key),e[d].removeNode(t)}};class w{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}const _=(e,t,r,n)=>{let i=r.value;v(e,i)&&(b(e,r),e[s]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};e.exports=y},20:function(e,t){},"20a3":function(e,t,r){"use strict";(function(t){var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r("5c90"),o=Symbol("lastResolve"),s=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function h(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var r=e[f].read();null!==r&&(e[l]=null,e[o]=null,e[s]=null,t(h(r,!1)))}}function y(e){t.nextTick(p,e)}function g(e,t){return function(r,n){e.then((function(){t[c]?r(h(void 0,!0)):t[d](r,n)}),n)}}var v=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((n={get stream(){return this[f]},next:function(){var e=this,r=this[u];if(null!==r)return Promise.reject(r);if(this[c])return Promise.resolve(h(void 0,!0));if(this[f].destroyed)return new Promise((function(r,n){t.nextTick((function(){e[u]?n(e[u]):r(h(void 0,!0))}))}));var n,i=this[l];if(i)n=new Promise(g(i,this));else{var a=this[f].read();if(null!==a)return Promise.resolve(h(a,!1));n=new Promise(this[d])}return this[l]=n,n}},i(n,Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[f].destroy(null,(function(e){e?r(e):t(h(void 0,!0))}))}))})),n),v),b=function(e){var t,r=Object.create(m,(t={},i(t,f,{value:e,writable:!0}),i(t,o,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var n=r[f].read();n?(r[l]=null,r[o]=null,r[s]=null,e(h(n,!1))):(r[o]=e,r[s]=t)},writable:!0}),t));return r[l]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[s];return null!==t&&(r[l]=null,r[o]=null,r[s]=null,t(e)),void(r[u]=e)}var n=r[o];null!==n&&(r[l]=null,r[o]=null,r[s]=null,n(h(void 0,!0))),r[c]=!0})),e.on("readable",y.bind(null,r)),r};e.exports=b}).call(this,r("4362"))},21:function(e,t){},"21b4":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={Literal:1,Collection:3,Graph:4,NamedNode:5,BlankNode:6,Variable:7},i=n;t.default=i},"21ee":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},22:function(e,t){},23:function(e,t){},2321:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.UpdatesVia=t.UpdatesSocket=void 0;var i=n(r("970b")),a=n(r("5bc3")),o=n(r("691a")),s=function(){function e(t,r){(0,i.default)(this,e),this.parent=t,this.via=r,this.connected=!1,this.pending={},this.subscribed={},this.socket={};try{this.socket=new WebSocket(r),this.socket.onopen=this.onOpen,this.socket.onclose=this.onClose,this.socket.onmessage=this.onMessage,this.socket.onerror=this.onError}catch(n){this.onError(n)}}return(0,a.default)(e,[{key:"_decode",value:function(e){var t,r,n,i,a,o,s;for(r in i={},a=function(){var r,n,i,a;for(i=e.split("&"),a=[],r=0,n=i.length;r<n;r++)t=i[r],a.push(t.split("="));return a}(),a)t=a[r],o=[decodeURIComponent(t[0]),decodeURIComponent(t[1])],n=o[0],s=o[1],null==i[n]&&(i[n]=[]),i[n].push(s);return i}},{key:"_send",value:function(e,t,r){var n,i;return i=[e,t,r].join(" "),"function"===typeof(n=this.socket).send?n.send(i):void 0}},{key:"_subscribe",value:function(e){return this._send("sub",e,""),this.subscribed[e]=!0,this.subscribed[e]}},{key:"onClose",value:function(e){var t;for(t in this.connected=!1,this.subscribed)this.pending[t]=!0;return this.subscribed={},this.subscribed}},{key:"onError",value:function(e){throw new Error("onError"+e)}},{key:"onMessage",value:function(e){var t,r;return r=e.data.split(" "),"ping"===r[0]?"function"===typeof(t=this.socket).send?t.send("pong "+r.slice(1).join(" ")):void 0:"pub"===r[0]?this.parent.onUpdate(r[1],this._decode(r[2])):void 0}},{key:"onOpen",value:function(e){var t,r;for(r in this.connected=!0,t=[],this.pending)delete this.pending[r],t.push(this._subscribe(r));return t}},{key:"subscribe",value:function(e){return this.connected?this._subscribe(e):(this.pending[e]=!0,this.pending[e])}}]),e}();t.UpdatesSocket=s;var u=function(){function e(t){(0,i.default)(this,e),this.fetcher=t,this.graph={},this.via={},this.fetcher.addCallback("headers",this.onHeaders)}return(0,a.default)(e,[{key:"onHeaders",value:function(e){var t,r,n;return null==e.headers||"undefined"===typeof WebSocket||null===WebSocket||(t=e.headers["etag"],n=e.headers["updates-via"],r=e.uri,t&&n&&(this.graph[r]={etag:t,via:n},this.register(n,r))),!0}},{key:"onUpdate",value:function(e,t){return this.fetcher.refresh(o.default.namedNode(e))}},{key:"register",value:function(e,t){return null==this.via[e]&&(this.via[e]=new s(this,e)),this.via[e].subscribe(t)}}]),e}();t.UpdatesVia=u},"234b":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var i=n(r("3c962")),a=r("b19c");function o(e,t,r){var n=[];function o(e){if(n[e])return n[e];var t=r.variable(e);return n[e]=t,t}function s(e){return"string"===typeof e&&e.match(/[^ \n\t]/)}function u(e){return"string"===typeof e&&e.match(/^[\?\$]/)}function c(e){return"string"===typeof e?e.replace(/^&lt;/,"<").replace(/&gt;$/,">"):e}function l(e){return"string"===typeof e&&e.match(/^<[^>]*>$/)}function d(e){return"string"===typeof e&&(e.match(/^_:/)||e.match(/^$/))}function f(e){return"string"===typeof e&&e.match(/:$/)}function h(e){return"string"===typeof e&&e.match(/^:|^[^_][^:]*:/)}function p(e){var t=e.split(":");return t[0]}function y(e){var t=e.split(":");return t[1]}function g(e){return l(e)?e.slice(1,e.length-1):e}function v(e){var t=-1===e.indexOf("'")?null:e.indexOf("'"),n=-1===e.indexOf('"')?null:e.indexOf('"');if(!t&&!n){var a=new Array(1);return a[0]=e,a}var o,s,u=new Array(2);if(!t||n&&n<t)o='"',s=n;else{if(n&&!(t&&t<n))return i.default.error("SQARQL QUERY OOPS!"),u;o="'",s=t}u[0]=e.slice(0,s);var c,l=e.slice(s+1).indexOf(o);return-1===l?(i.default.error("SPARQL parsing error: no matching parentheses in literal "+e),e):(e.slice(l+s+2).match(/^\^\^/)?(c=e.slice(l+s+2).indexOf(" "),u[1]=r.literal(e.slice(s+1,s+1+l),r.sym(g(e.slice(s+4+l,s+2+l+c)))),u=u.concat(v(e.slice(l+s+3+c)))):e.slice(l+s+2).match(/^@/)?(c=e.slice(l+s+2).indexOf(" "),u[1]=r.literal(e.slice(s+1,s+1+l),e.slice(s+3+l,s+2+l+c),null),u=u.concat(v(e.slice(l+s+2+c)))):(u[1]=r.literal(e.slice(s+1,s+1+l)),i.default.info("Literal found: "+u[1]),u=u.concat(v(e.slice(l+s+2)))),u)}function m(e){e=e.replace(/\(/g," ( ").replace(/\)/g," ) ").replace(/</g," <").replace(/>/g,"> ").replace(/{/g," { ").replace(/}/g," } ").replace(/[\t\n\r]/g," ").replace(/; /g," ; ").replace(/\. /g," . ").replace(/, /g," , "),i.default.info("New str into spaceDelimit: \n"+e);var t=[],r=e.split(" ");for(var n in r)s(r[n])&&(t=t.concat(r[n]));return t}function b(e){for(var t=e,r=0;r<t.length;r++)if("a"===t[r]&&(t[r]="<http://www.w3.org/1999/02/22-rdf-syntax-ns#type>"),"is"===t[r]&&"of"===t[r+2]){t.splice(r,1),t.splice(r+1,1);var n=t[r-1];t[r-1]=t[r+1],t[r+1]=n}return t}function w(e){for(var t=[],n=0;n<e.length;n++)"string"===typeof e[n]?(e[n]=c(e[n]),u(e[n])?t[n]=o(e[n].slice(1)):d(e[n])?(i.default.info(e[n]+" was identified as a bnode."),t[n]=r.bnode()):l(e[n])?(i.default.info(e[n]+" was identified as a symbol."),t[n]=r.sym(g(e[n]))):h(e[n])?(i.default.info(e[n]+" was identified as a prefixed symbol"),P[p(e[n])]?t[n]=r.sym(e[n]=P[p(e[n])]+y(e[n])):(i.default.error("SPARQL error: "+e[n]+" with prefix "+p(e[n])+" does not have a correct prefix entry."),t[n]=e[n])):t[n]=e[n]):t[n]=e[n];return t}function _(e){var t=v(e),r=[];for(var n in t)r="string"===typeof t[n]?r.concat(m(t[n])):r.concat(t[n]);return r=b(r),i.default.info("SPARQL Tokens: "+r),r}function x(e,t){for(var r=0;r<t.length;r++)if("string"===typeof t[r]&&t[r].toLowerCase()===e.toLowerCase())return r;return null}function E(e,t){for(var r=[],n=0;n<t.length;n++)"string"===typeof t[n]&&t[n].toLowerCase()===e.toLowerCase()&&r.push(n);return r}function T(e,t){for(var r in i.default.info("SPARQL vars: "+e),e)if(u(e[r])){i.default.info("Added "+e[r]+" to query variables from SPARQL");var n=o(e[r].slice(1));t.vars.push(n),n.label=e[r].slice(1)}else i.default.warn("Incorrect SPARQL variable in SELECT: "+e[r])}function O(e){var t=E("PREFIX",e),r=[];for(var n in t){var a=e[t[n]+1],o=e[t[n]+2];if(f(a))if(l(o)){i.default.info("Prefix found: "+a+" -> "+o);var s=p(a),u=g(o);r[s]=u}else i.default.error("Invalid SPARQL symbol: "+o);else i.default.error("Invalid SPARQL prefix: "+a)}return r}function S(e,t,r){i.default.info("Looking for a close bracket of type "+r+" in "+e);for(var n=0,a=0;a<e.length;a++)if(e[a]===t&&n++,e[a]===r&&n--,n<0)return a;return i.default.error("Statement had no close parenthesis in SPARQL query"),0}function N(e){return this.describe=function(t){return t+" = "+e.toNT()},this.test=function(t){return e.equals(t)},this}function I(e){this.describe=function(t){return"REGEXP( '"+e+"' , "+t+" )"},this.test=function(t){var r=e,n=new RegExp(r);return!!t.value&&n.test(t.value)}}function R(e,t){3!==e.length||"Variable"!==e[0].termType||"NamedNode"!==e[2].termType&&"Literal"!==e[2].termType?6===e.length&&"string"===typeof e[0]&&"regexp"===e[0].toLowerCase()&&"("===e[1]&&")"===e[5]&&","===e[3]&&"Variable"===e[4].termType&&"Literal"===e[2].termType&&(i.default.debug("Constraint added: "+e),t.constraints[e[4]]=new I(e[2].value)):"="===e[1]||">"===e[1]||"<"===e[1]?(i.default.debug("Constraint added: "+e),t.constraints[e[0]]=new N(e[2])):i.default.warn("I don't know how to handle the constraint: "+e)}function k(e,t){i.default.debug("Optional query: "+e+" not yet implemented.");var n=r.formula();j(e,n),t.optional.push(n)}function j(e,t){var r,n,a=w(e);i.default.debug("WHERE: "+a);while(x("OPTIONAL",a))n=x("OPTIONAL",a),i.default.debug("OPT: "+n+" "+a[n]+" in "+a),"{"!==a[n+1]&&i.default.warn("Bad optional opening bracket in word "+n),r=S(a.slice(n+2),"{","}"),-1===r?i.default.error("No matching bracket in word "+n):(k(a.slice(n+2,n+2+r),t),n=x("OPTIONAL",a),r=S(a.slice(n+2),"{","}"),a.splice(n,r+3));i.default.debug("WHERE after optionals: "+a);while(x("FILTER",a)){var o=x("FILTER",a);"("!==a[o+1]&&i.default.warn("Bad filter opening bracket in word "+o),r=S(a.slice(o+2),"(",")"),-1===r?i.default.error("No matching bracket in word "+o):(R(a.slice(o+2,o+2+r),t),o=x("FILTER",a),r=S(a.slice(o+2),"(",")"),a.splice(o,r+3))}i.default.debug("WHERE after filters and optionals: "+a),A(a,t)}function A(e,t){var r=new Array(1);r[0]=-1;for(var n=r.concat(E(".",e)),a=[],o=0;o<n.length-1;o++)a[o]=e.slice(n[o]+1,n[o+1]);for(o in a){i.default.info("s+p+o "+o+" = "+a[o]);var s=a[o][0];a[o].splice(0,1);var u=r.concat(E(";",a[o]));u.push(a[o].length);for(var c=[],l=0;l<u.length-1;l++)c[l]=a[o].slice(u[l]+1,u[l+1]);for(o in c){i.default.info("p+o "+o+" = "+a[o]);var d=c[o][0];c[o].splice(0,1);var f=r.concat(E(",",c[o]));f.push(c[o].length);var h=[];for(l=0;l<f.length-1;l++)h[l]=c[o].slice(f[l]+1,f[l+1]);for(o in h){var p=h[o][0];i.default.info("Subj="+s+" Pred="+d+" Obj="+p),t.add(s,d,p)}}}}i.default.info("SPARQL input: \n"+e);var C=new a.Query,D=_(e),P=O(D);P.rdf||(P.rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"),P.rdfs||(P.rdfs="http://www.w3.org/2000/01/rdf-schema#");var L=x("SELECT",D),F=x("WHERE",D);if(L<0||F<0||L>F)return i.default.error("Invalid or nonexistent SELECT and WHERE tags in SPARQL query"),!1;if(T(D.slice(L+1,F),C),j(D.slice(F+2,D.length-1),C.pat),t)return C;for(var M in C.pat.statements){var U=C.pat.statements[M];"NamedNode"===U.subject.termType&&r.fetcher&&r.fetcher.lookUpThing(U.subject,"sparql:"+U.subject),"NamedNode"===U.object.termType&&r.fetcher&&r.fetcher.lookUpThing(U.object,"sparql:"+U.object)}return C}},24:function(e,t){},25:function(e,t){},"284f":function(e,t,r){"use strict";e.exports=i;var n=r("2ce0");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r("3fb5")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},"2c03":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expressionTypes=t.types=void 0,t.types=Object.freeze({ALT:"alt",ASK:"ask",BGP:"bgp",CONSTRUCT:"construct",DESC:"desc",DESCRIBE:"describe",DISTINCT:"distinct",EXPRESSION:"expression",EXTEND:"extend",FILTER:"filter",FROM:"from",GRAPH:"graph",GROUP:"group",INV:"inv",JOIN:"join",LEFT_JOIN:"leftjoin",LINK:"link",MINUS:"minus",NPS:"nps",ONE_OR_MORE_PATH:"OneOrMorePath",ORDER_BY:"orderby",PATH:"path",PATTERN:"pattern",PROJECT:"project",REDUCED:"reduced",SEQ:"seq",SERVICE:"service",SLICE:"slice",UNION:"union",VALUES:"values",ZERO_OR_MORE_PATH:"ZeroOrMorePath",ZERO_OR_ONE_PATH:"ZeroOrOnePath",COMPOSITE_UPDATE:"compositeupdate",DELETE_INSERT:"deleteinsert",LOAD:"load",CLEAR:"clear",CREATE:"create",DROP:"drop",ADD:"add",MOVE:"move",COPY:"copy"}),t.expressionTypes=Object.freeze({AGGREGATE:"aggregate",EXISTENCE:"existence",NAMED:"named",OPERATOR:"operator",TERM:"term",WILDCARD:"wildcard"})},"2ce0":function(e,t,r){"use strict";e.exports=l;var n=r("ad69").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r("0884");function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new a);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,r){f(e,t,r)}))}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;return e.push(null)}r("3fb5")(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},"2d54":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.toSparqlJs=t.toSparql=t.Factory=t.Algebra=t.translate=void 0;const n=r("f4a4");t.translate=n.default;const i=r("2c03");t.Algebra=i;const a=r("9659");t.Factory=a.default;const o=r("3ecc");Object.defineProperty(t,"toSparql",{enumerable:!0,get:function(){return o.toSparql}}),Object.defineProperty(t,"toSparqlJs",{enumerable:!0,get:function(){return o.toSparqlJs}});const s=r("ef12");t.Util=s.default},"30ba":function(e,t,r){"use strict";const n=r("ae29"),i=r("458f"),a=r("4284"),o=r("a757");let s;try{s=r(20)}catch(c){}const u={};e.exports=u,u.NQuads=r("65e1"),u.IdentifierIssuer=r("8acc"),u._rdfCanonizeNative=function(e){return e&&(s=e),s},u.canonize=async function(e,t){if(Array.isArray(e)||(e=u.NQuads.legacyDatasetToQuads(e)),t.useNative){if(!s)throw new Error("rdf-canonize-native not available");return new Promise((r,n)=>s.canonize(e,t,(e,t)=>e?n(e):r(t)))}if("URDNA2015"===t.algorithm)return new n(t).main(e);if("URGNA2012"===t.algorithm)return new i(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)},u._canonizeSync=function(e,t){if(Array.isArray(e)||(e=u.NQuads.legacyDatasetToQuads(e)),t.useNative){if(s)return s.canonizeSync(e,t);throw new Error("rdf-canonize-native not available")}if("URDNA2015"===t.algorithm)return new a(t).main(e);if("URGNA2012"===t.algorithm)return new o(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},"33e3":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("970b")),a=n(r("5bc3")),o=n(r("9523")),s=function(){function e(t){(0,i.default)(this,e),(0,o.default)(this,"termType",void 0),(0,o.default)(this,"classOrder",void 0),(0,o.default)(this,"value",void 0),this.value=t}return(0,a.default)(e,[{key:"substitute",value:function(e){return console.log("@@@ node substitute"+this),this}},{key:"compareTerm",value:function(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.value<e.value?-1:this.value>e.value?1:0}},{key:"equals",value:function(e){return!!e&&(this.termType===e.termType&&this.value===e.value)}},{key:"hashString",value:function(){return this.toCanonical()}},{key:"sameTerm",value:function(e){return this.equals(e)}},{key:"toCanonical",value:function(){return this.toNT()}},{key:"toNT",value:function(){return this.toString()}},{key:"toNQ",value:function(){return this.toNT()}},{key:"toString",value:function(){throw new Error("Node.toString() is abstract - see the subclasses instead")}}]),e}();t.default=s,(0,o.default)(s,"fromValue",void 0),(0,o.default)(s,"toJS",void 0)},3410:function(e,t,r){var n=r("23e7"),i=r("d039"),a=r("7b0b"),o=r("e163"),s=r("e177"),u=i((function(){o(1)}));n({target:"Object",stat:!0,forced:u,sham:!s},{getPrototypeOf:function(e){return o(a(e))}})},3432:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("600b");class i extends n.DeleteFunctionHandler{async extractObjects(e,t,r){const n=await super.extractObjects(e,t,r),i=[];for await(const a of t)"BlankNode"!==a.termType&&i.push(a);return n?i.filter(e=>n.some(t=>t.equals(e))):i}}t.default=i},"36c6":function(e,t,r){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports["default"]=e.exports,e.exports.__esModule=!0,n(t)}r("3410"),e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},3896:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r("ef3c")),i=r("f947");function a(e){return e&&e.__esModule?e:{default:e}}const o="SELECT ?activity WHERE {\n  ?activity a _:type;\n      <https://www.w3.org/ns/activitystreams#actor> _:actor;\n      <https://www.w3.org/ns/activitystreams#object> _:object.\n}\n";class s extends n.default{constructor(...e){super(...e),this.requireUser=!1}async*createResults(e,t,r){const n=(0,i.replaceVariables)(o,e);for await(const i of r.execute(n,t))yield i.values().next().value}}t.default=s},3897:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.docpart=o,t.document=s,t.hostpart=u,t.join=c,t.protocol=l,t.refTo=d;var i=n(r("606c")),a=a||console.log;function o(e){var t;return t=e.indexOf("#"),t<0?e:e.slice(0,t)}function s(e){return new i.default(o(e))}function u(e){var t=/[^\/]*\/\/([^\/]*)\//.exec(e);return t?t[1]:""}function c(e,t){var r,n,i,o,s,u,c=t.indexOf("#");if(c>0&&(t=t.slice(0,c)),0===e.length)return t;if(0===e.indexOf("#"))return t+e;if(o=e.indexOf(":"),o>=0)return e;if(r=t.indexOf(":"),0===t.length)return e;if(r<0)return a("Invalid base: "+t+" in join with given: "+e),e;if(n=t.slice(0,+r+1||9e9),0===e.indexOf("//"))return n+e;if(t.indexOf("//",r)===r+1){if(i=t.indexOf("/",r+3),i<0)return t.length-r-3>0?t+"/"+e:n+e}else if(i=t.indexOf("/",r+1),i<0)return t.length-r-1>0?t+"/"+e:n+e;if(0===e.indexOf("/"))return t.slice(0,i)+e;if(u=t.slice(i),s=u.lastIndexOf("/"),s<0)return n+e;s>=0&&s<u.length-1&&(u=u.slice(0,+s+1||9e9)),u+=e;while(u.match(/[^\/]*\/\.\.\//))u=u.replace(/[^\/]*\/\.\.\//,"");return u=u.replace(/\.\//g,""),u=u.replace(/\/\.$/,"/"),t.slice(0,i)+u}function l(e){var t=e.indexOf(":");return t<0?null:e.slice(0,t)}function d(e,t){var r,n,i,a,o,s,u,c,l,d,f,h,p,y=new RegExp("^[-_a-zA-Z0-9.]+:(//[^/]*)?/[^/]*$");if(!e)return t;if(e===t)return"";for(n=c=0,o=t.length;c<o;n=++c){var g=t[n];if(g!==e[n])break}if(e.slice(0,n).match(y)&&(i=t.indexOf("//"),i<0&&(i=-2),a=t.indexOf("/",i+2),"/"!==t[a+1]&&"/"!==e[a+1]&&t.slice(0,a)===e.slice(0,a)))return t.slice(a);if("#"===t[n]&&e.length===n)return t.slice(n);while(n>0&&"/"!==t[n-1])n--;if(n<3)return t;if(e.indexOf("//",n-2)>0||t.indexOf("//",n-2)>0)return t;if(e.indexOf(":",n)>0)return t;for(u=0,f=e.slice(n),l=0,s=f.length;l<s;l++)r=f[l],"/"===r&&u++;if(0===u&&n<t.length&&"#"===t[n])return"./"+t.slice(n);if(0===u&&n===t.length)return"./";if(p="",u>0)for(d=1,h=u;h>=1?d<=h:d>=h;h>=1?++d:--d)p+="../";return p+t.slice(n)}},"3c96":function(e,t){function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},"3c962":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={debug:function(e){},warn:function(e){},info:function(e){},error:function(e){},success:function(e){},msg:function(e){}},i=n;t.default=i},"3cf1":function(e,t,r){var n=r("47b7"),i=r("d76c"),a=r("5afa"),o=r("11a8"),s=r("e1cc"),u=r("a55c");function c(){}c.namedNode=function(e){return new o(e)},c.blankNode=function(e){return new n(e)},c.literal=function(e,t){return"string"===typeof t?-1===t.indexOf(":")?new a(e,t):new a(e,null,c.namedNode(t)):new a(e,null,t)},c.defaultGraph=function(){return c.defaultGraphInstance},c.variable=function(e){return new u(e)},c.triple=function(e,t,r){return c.quad(e,t,r)},c.quad=function(e,t,r,n){return new s(e,t,r,n||c.defaultGraphInstance)},c.defaultGraphInstance=new i,e.exports=c},"3e6b":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultGraph=void 0;class n{constructor(){this.termType="DefaultGraph",this.value=""}equals(e){return!!e&&"DefaultGraph"===e.termType}}t.DefaultGraph=n,n.INSTANCE=new n},"3ecc":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toSparqlJs=t.toSparql=void 0;const n=r("8eeb"),i=r("2c03"),a=r("9659"),o=r("ef12"),s=r("5189"),u=r("b4c9").Generator,c=r("b4c9").Wildcard,l=i.types,d=i.expressionTypes;let f;const h=new a.default;function p(e,t={}){let r=new u(t);return r.stringify(y(e))}function y(e){g(),e=ge(e);let t=v(e);return"group"===t.type?t.patterns[0]:t}function g(){f={project:!1,extend:[],group:[],aggregates:[],order:[]}}function v(e){switch(e.type!==l.EXTEND&&e.type!==l.ORDER_BY&&e.type!==l.GRAPH&&(f.project=!1),e.type){case l.EXPRESSION:return m(e);case l.ASK:return $(e,l.ASK);case l.BGP:return I(e);case l.CONSTRUCT:return R(e);case l.DESCRIBE:return $(e,l.DESCRIBE);case l.DISTINCT:return k(e);case l.EXTEND:return j(e);case l.FROM:return A(e);case l.FILTER:return C(e);case l.GRAPH:return D(e);case l.GROUP:return P(e);case l.JOIN:return L(e);case l.LEFT_JOIN:return F(e);case l.MINUS:return M(e);case l.ORDER_BY:return U(e);case l.PATH:return B(e);case l.PATTERN:return q(e);case l.PROJECT:return $(e,l.PROJECT);case l.REDUCED:return H(e);case l.SERVICE:return z(e);case l.SLICE:return Q(e);case l.UNION:return J(e);case l.VALUES:return W(e);case l.COMPOSITE_UPDATE:return ie(e);case l.DELETE_INSERT:return ae(e);case l.LOAD:return oe(e);case l.CLEAR:return se(e);case l.CREATE:return ue(e);case l.DROP:return ce(e);case l.ADD:return de(e);case l.MOVE:return fe(e);case l.COPY:return he(e)}throw new Error("Unknown Operation type "+e.type)}function m(e){switch(e.expressionType){case d.AGGREGATE:return _(e);case d.EXISTENCE:return x(e);case d.NAMED:return E(e);case d.OPERATOR:return T(e);case d.TERM:return O(e);case d.WILDCARD:return S(e)}throw new Error("Unknown Expression Operation type "+e.expressionType)}function b(e){switch(e.type){case l.ALT:return X(e);case l.INV:return K(e);case l.LINK:return Y(e);case l.NPS:return Z(e);case l.ONE_OR_MORE_PATH:return ee(e);case l.SEQ:return te(e);case l.ZERO_OR_MORE_PATH:return re(e);case l.ZERO_OR_ONE_PATH:return ne(e)}throw new Error("Unknown Path type "+e.type)}function w(e){return s.termToString(e)}function _(e){let t={expression:m(e.expression),type:"aggregate",aggregation:e.aggregator,distinct:e.distinct};return e.separator&&(t.separator=e.separator),t}function x(e){return{type:"operation",operator:e.not?"notexists":"exists",args:o.default.flatten([v(e.input)])}}function E(e){return{type:"functionCall",function:e.name,args:e.args.map(m)}}function T(e){if("desc"===e.operator){let t={expression:m(e.args[0]),descending:!0};return t}let t={type:"operation",operator:e.operator,args:e.args.map(m)};return"in"!==t.operator&&"notin"!==t.operator||(t.args=[t.args[0]].concat([t.args.slice(1)])),t}function O(e){return e.term}function S(e){return e.wildcard}function N(e){return e}function I(e){let t=e.patterns.map(q);return 0===t.length?null:{type:"bgp",triples:t}}function R(e){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:e.template.map(q),where:o.default.flatten([v(e.input)])}}function k(e){let t=v(e.input);return t.patterns[0].distinct=!0,t}function j(e){return f.project?(f.extend.push(e),v(e.input)):o.default.flatten([v(e.input),{type:"bind",variable:e.variable,expression:m(e.expression)}])}function A(e){let t=v(e.input),r=t.patterns[0];return r.from={default:e.default,named:e.named},t}function C(e){return{type:"group",patterns:o.default.flatten([v(e.input),{type:"filter",expression:m(e.expression)}])}}function D(e){return{type:"graph",patterns:o.default.flatten([v(e.input)]),name:e.name}}function P(e){let t=v(e.input),r=e.aggregates.map(N);return f.aggregates.push(...r),f.group.push(...e.variables),t}function L(e){const t=o.default.flatten([v(e.left),v(e.right)]);return t.reduce((e,t)=>("bgp"!==t.type||0==e.length||"bgp"!==e[e.length-1].type?e.push(t):e[e.length-1].triples.push(...t.triples),e),[])}function F(e){let t={type:"optional",patterns:[v(e.right)]};return e.expression&&t.patterns.push({type:"filter",expression:m(e.expression)}),t.patterns=o.default.flatten(t.patterns),o.default.flatten([v(e.left),t])}function M(e){let t=v(e.right);return"group"===t.type&&(t=t.patterns),Array.isArray(t)||(t=[t]),o.default.flatten([v(e.left),{type:"minus",patterns:t}])}function U(e){return f.order.push(...e.expressions),v(e.input)}function B(e){return{type:"bgp",triples:[{subject:e.subject,predicate:b(e.predicate),object:e.object}]}}function q(e){return{subject:e.subject,predicate:e.predicate,object:e.object}}function V(e,t){let r=o.default.isTerm(e)?w(e):e;if("string"===typeof r){if(t[r])return t[r]}else if(Array.isArray(e))e=e.map(e=>V(e,t));else for(let n of Object.keys(e))e[n]=V(e[n],t);return e}function $(e,t){let r={type:"query",prefixes:{}};t===l.PROJECT?(r.queryType="SELECT",r.variables=e.variables):t===l.ASK?r.queryType="ASK":t===l.DESCRIBE&&(r.queryType="DESCRIBE",r.variables=e.terms);let n=f.extend,i=f.group,a=f.aggregates,s=f.order;g(),f.project=!0;let u=o.default.flatten([v(e.input)]);1===u.length&&"group"===u[0].type&&(u=u[0].patterns),r.where=u;let d={};for(let o of f.aggregates)d[w(o.variable)]=m(o);let h={};for(let o=f.extend.length-1;o>=0;--o){let e=f.extend[o];h[w(e.variable)]=V(m(e.expression),d)}if(f.group.length>0&&(r.group=f.group.map(e=>{let t=w(e);if(h[t]){let r=h[t];return delete h[t],{variable:e,expression:r}}return{expression:e}})),f.order.length>0&&(r.order=f.order.map(v).map(e=>e.descending?e:{expression:e})),r.variables&&(r.variables=r.variables.map(e=>{let t=w(e);return h[t]?{variable:e,expression:h[t]}:e}),0===r.variables.length&&(r.variables=[new c])),r.where.length>0&&"filter"===r.where[r.where.length-1].type){let e=r.where[r.where.length-1];G(e,Object.keys(d))&&(r.having=o.default.flatten([V(e.expression,d)]),r.where.splice(-1))}return f.extend=n,f.group=i,f.aggregates=a,f.order=s,r={type:"group",patterns:[r]},r}function G(e,t){return o.default.isTerm(e)?t.indexOf(w(e))>=0:Array.isArray(e)?e.some(e=>G(e,t)):e===Object(e)?Object.keys(e).some(r=>G(e[r],t)):t.indexOf(e)>=0}function H(e){let t=v(e.input);return t.patterns[0].reduced=!0,t}function z(e){let t=v(e.input);return"group"===t.type&&(t=t.patterns),Array.isArray(t)||(t=[t]),{type:"service",name:e.name,silent:e.silent,patterns:t}}function Q(e){let t=v(e.input),r=t;return t.type&&"group"===t.type&&(r=t.patterns[0]),0!==e.start&&(r.offset=e.start),void 0!==e.length&&(r.limit=e.length),t}function J(e){return{type:"union",patterns:o.default.flatten([v(e.left),v(e.right)])}}function W(e){return{type:"values",values:e.bindings.map(t=>{let r={};for(let n of e.variables){let e="?"+n.value;t[e]?r[e]=t[e]:r[e]=void 0}return r})}}function X(e){let t=b(e.left),r=b(e.right);return"!"===t.pathType&&"!"===r.pathType?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:[].concat(t.items,r.items)}]}:{type:"path",pathType:"|",items:[t,r]}}function K(e){if(e.path.type===l.NPS){let t=e.path,r=t.iris.map(e=>({type:"path",pathType:"^",items:[e]}));return r.length<=1?{type:"path",pathType:"!",items:r}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:r}]}}return{type:"path",pathType:"^",items:[b(e.path)]}}function Y(e){return e.iri}function Z(e){return e.iris.length<=1?{type:"path",pathType:"!",items:e.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:e.iris}]}}function ee(e){return{type:"path",pathType:"+",items:[b(e.path)]}}function te(e){return{type:"path",pathType:"/",items:[b(e.left),b(e.right)]}}function re(e){return{type:"path",pathType:"*",items:[b(e.path)]}}function ne(e){return{type:"path",pathType:"?",items:[b(e.path)]}}function ie(e){const t=e.updates.map(e=>{const t=v(e);return t.updates[0]});return{prefixes:{},type:"update",updates:t}}function ae(e){let t=e.where,r=void 0;if(t&&t.type===l.FROM){let n=e.where;t=n.input,r={default:n.default,named:n.named}}const i=[{updateType:"insertdelete",delete:ye(e.delete),insert:ye(e.insert)}];if(r&&(i[0].using=r),!t||t.type===l.BGP&&0===t.patterns.length)i[0].where=[];else{const e={};let r=v(ve(t,e));"group"===r.type?i[0].where=r.patterns:i[0].where=[r];const n=Object.keys(e);if(n.length>0){if(1!==n.length)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");""!==e[n[0]].graph.value&&(i[0].where=[{type:"graph",patterns:i[0].where,name:e[n[0]].graph}])}}return e.delete||e.where?e.insert||e.where?!e.insert&&e.where&&"bgp"===e.where.type&&n.isomorphic(e.delete,e.where.patterns)&&(delete i[0].where,i[0].updateType="deletewhere"):(delete i[0].insert,delete i[0].where,e.delete.some(e=>"Variable"===e.subject.termType||"Variable"===e.predicate.termType||"Variable"===e.object.termType)?i[0].updateType="deletewhere":i[0].updateType="delete"):(i[0].updateType="insert",delete i[0].delete,delete i[0].where),{prefixes:{},type:"update",updates:i}}function oe(e){const t=[{type:"load",silent:Boolean(e.silent),source:e.source}];return e.destination&&(t[0].destination=e.destination),{prefixes:{},type:"update",updates:t}}function se(e){return le(e,"clear")}function ue(e){return le(e,"create")}function ce(e){return le(e,"drop")}function le(e,t){const r=[{type:t,silent:Boolean(e.silent)}];return"DEFAULT"===e.source?r[0].graph={default:!0}:"NAMED"===e.source?r[0].graph={named:!0}:"ALL"===e.source?r[0].graph={all:!0}:r[0].graph={type:"graph",name:e.source},{prefixes:{},type:"update",updates:r}}function de(e){return pe(e,"add")}function fe(e){return pe(e,"move")}function he(e){return pe(e,"copy")}function pe(e,t){const r=[{type:t,silent:Boolean(e.silent)}];return r[0].source="DEFAULT"===e.source?{type:"graph",default:!0}:{type:"graph",name:e.source},r[0].destination="DEFAULT"===e.destination?{type:"graph",default:!0}:{type:"graph",name:e.destination},{prefixes:{},type:"update",updates:r}}function ye(e){if(!e)return[];const t={};return e.forEach(e=>{const r=e.graph.value;t[r]||(t[r]=[]),t[r].push(e)}),Object.keys(t).map(e=>""===e?{type:"bgp",triples:t[e].map(q)}:{type:"graph",triples:t[e].map(q),name:t[e][0].graph})}function ge(e){return ve(e,{})}function ve(e,t){if(Array.isArray(e))return e.map(e=>ve(e,t));if(!e.type)return e;if(e.type===l.DELETE_INSERT)return e;if((e.type===l.PATTERN||e.type===l.PATH)&&e.graph)return t[e.graph.value]||(t[e.graph.value]={graph:e.graph,values:[]}),t[e.graph.value].values.push(e),e;const r={},n={},i={};for(let o of Object.keys(e)){const t={};r[o]=ve(e[o],t);const a=Object.keys(t);if(a.length>1){let e=me(t[a[0]].values);for(let r=1;r<a.length;++r){const n=me(t[a[r]].values);e=h.createJoin(e,n)}return a.map(e=>delete t[e]),e}if(1===a.length){const e=t[a[0]].graph;n[o]=e,i[e.value]=e}}const a=Object.keys(i);if(a.length>0)if(1===a.length&&e.type!==l.PROJECT)t[a[0]]={graph:i[a[0]],values:[r]};else for(let o of Object.keys(n))n[o].value.length>0&&(r[o]=h.createGraph(r[o],n[o]));return r}function me(e){const t=h.createBgp(e),r=e[0].graph;return 0===r.value.length?t:h.createGraph(t,r)}t.toSparql=p,t.toSparqlJs=y},"406c":function(e,t,r){"use strict";(function(t,n){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){H(t,e)}}var a;e.exports=I,I.WritableState=N;var o={deprecate:r("b7d1")},s=r("e772"),u=r("b639").Buffer,c=t.Uint8Array||function(){};function l(e){return u.from(e)}function d(e){return u.isBuffer(e)||e instanceof c}var f,h=r("aa42"),p=r("16cc"),y=p.getHighWaterMark,g=r("ad69").codes,v=g.ERR_INVALID_ARG_TYPE,m=g.ERR_METHOD_NOT_IMPLEMENTED,b=g.ERR_MULTIPLE_CALLBACK,w=g.ERR_STREAM_CANNOT_PIPE,_=g.ERR_STREAM_DESTROYED,x=g.ERR_STREAM_NULL_VALUES,E=g.ERR_STREAM_WRITE_AFTER_END,T=g.ERR_UNKNOWN_ENCODING,O=h.errorOrDestroy;function S(){}function N(e,t,n){a=a||r("0884"),e=e||{},"boolean"!==typeof n&&(n=t instanceof a),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=y(this,e,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){L(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function I(e){a=a||r("0884");var t=this instanceof a;if(!t&&!f.call(I,this))return new I(e);this._writableState=new N(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),s.call(this)}function R(e,t){var r=new E;O(e,r),n.nextTick(t,r)}function k(e,t,r,i){var a;return null===r?a=new x:"string"===typeof r||t.objectMode||(a=new v("chunk",["string","Buffer"],r)),!a||(O(e,a),n.nextTick(i,a),!1)}function j(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=u.from(t,r)),t}function A(e,t,r,n,i,a){if(!r){var o=j(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else C(e,t,!1,s,n,i,a);return u}function C(e,t,r,n,i,a,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new _("write")):r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function D(e,t,r,i,a){--t.pendingcb,r?(n.nextTick(a,i),n.nextTick($,e,t),e._writableState.errorEmitted=!0,O(e,i)):(a(i),e._writableState.errorEmitted=!0,O(e,i),$(e,t))}function P(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function L(e,t){var r=e._writableState,i=r.sync,a=r.writecb;if("function"!==typeof a)throw new b;if(P(r),t)D(e,r,i,t,a);else{var o=B(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||U(e,r),i?n.nextTick(F,e,r,o,a):F(e,r,o,a)}}function F(e,t,r,n){r||M(e,t),t.pendingcb--,n(),$(e,t)}function M(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function U(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,a=new Array(n),o=t.corkedRequestsFree;o.entry=r;var s=0,u=!0;while(r)a[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;a.allBuffers=u,C(e,t,!0,t.length,a,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{while(r){var c=r.chunk,l=r.encoding,d=r.callback,f=t.objectMode?1:c.length;if(C(e,t,!1,f,c,l,d),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function B(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function q(e,t){e._final((function(r){t.pendingcb--,r&&O(e,r),t.prefinished=!0,e.emit("prefinish"),$(e,t)}))}function V(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(q,e,t)))}function $(e,t){var r=B(t);if(r&&(V(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}function G(e,t,r){t.ending=!0,$(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function H(e,t,r){var n=e.entry;e.entry=null;while(n){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}r("3fb5")(I,s),N.prototype.getBuffer=function(){var e=this.bufferedRequest,t=[];while(e)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(N.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===I&&(e&&e._writableState instanceof N)}})):f=function(e){return e instanceof this},I.prototype.pipe=function(){O(this,new w)},I.prototype.write=function(e,t,r){var n=this._writableState,i=!1,a=!n.objectMode&&d(e);return a&&!u.isBuffer(e)&&(e=l(e)),"function"===typeof t&&(r=t,t=null),a?t="buffer":t||(t=n.defaultEncoding),"function"!==typeof r&&(r=S),n.ending?R(this,r):(a||k(this,n,e,r))&&(n.pendingcb++,i=A(this,n,a,e,t,r)),i},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||U(this,e))},I.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new T(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),I.prototype._write=function(e,t,r){r(new m("_write()"))},I.prototype._writev=null,I.prototype.end=function(e,t,r){var n=this._writableState;return"function"===typeof e?(r=e,e=null,t=null):"function"===typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||G(this,n,r),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),I.prototype.destroy=h.destroy,I.prototype._undestroy=h.undestroy,I.prototype._destroy=function(e,t){t(e)}}).call(this,r("c8ba"),r("4362"))},"40ce":function(e,t,r){"use strict";e.exports=class{constructor(){this._requests={}}wrapLoader(e){const t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}async add(e){let t=this._requests[e];if(t)return Promise.resolve(t);t=this._requests[e]=this._loader(e);try{return await t}finally{delete this._requests[e]}}}},4142:function(e,t,r){"use strict";const{isSubjectReference:n}=r("c92f"),{createMergedNodeMap:i}=r("796c"),a={};e.exports=a,a.flatten=e=>{const t=i(e),r=[],a=Object.keys(t).sort();for(let i=0;i<a.length;++i){const e=t[a[i]];n(e)||r.push(e)}return r}},"41e0":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTermGrounded=t.termToSignature=t.quadToSignature=t.sha1hex=t.hashTerm=t.hashTerms=t.getGraphBlankNodes=t.uniqGraph=t.deindexGraph=t.indexGraph=t.getQuadsWithoutBlankNodes=t.getQuadsWithBlankNodes=t.hasValue=t.hashValues=t.getBijectionInner=t.getBijection=t.isomorphic=void 0;const n=r("7d92"),i=r("5189"),a=r("68dd");function o(e,t){return!!s(e,t)}function s(e,t){const r=p(h(e)),n=p(h(t));if(Object.keys(r).length!==Object.keys(n).length)return null;for(const u in r)if(r[u]!==n[u])return null;const i=g(f(e)),a=g(f(t)),o=v(e),s=v(t);return u(i,a,o,s)}function u(e,t,r,n,a,o){a||(a={}),o||(o={});const[s,f]=m(e,r,a),[h,p]=m(t,n,o);if(Object.keys(s).length!==Object.keys(h).length)return null;for(const i in s)if(!d(h,s[i]))return null;let y={};for(const u of r){const e=i.termToString(u),t=f[e];for(const r in p)if(p[r]===t){y[e]=r,delete p[r];break}}if(!c(Object.keys(y).sort(),r.map(i.termToString).sort())||!c(l(y).sort(),n.map(i.termToString).sort())){y=null;for(const a of r){const o=i.termToString(a);if(!s[o])for(const a of n){const c=i.termToString(a);if(!h[c]&&f[o]===p[c]){const i=w(o);y=u(e,t,r,n,Object.assign(Object.assign({},s),{[o]:i}),Object.assign(Object.assign({},h),{[c]:i}))}}}}return y}function c(e,t){if(e.length!==t.length)return!1;for(let r=e.length;r--;)if(e[r]!==t[r])return!1;return!0}function l(e){const t=[];for(const r in e)t.push(e[r]);return t}function d(e,t){for(const r in e)if(e[r]===t)return!0;return!1}function f(e){return e.filter(e=>a.someTerms(e,e=>"BlankNode"===e.termType||"Quad"===e.termType&&a.getTermsNested(e).some(e=>"BlankNode"===e.termType)))}function h(e){return e.filter(e=>a.everyTerms(e,e=>"BlankNode"!==e.termType&&!("Quad"===e.termType&&a.getTermsNested(e).some(e=>"BlankNode"===e.termType))))}function p(e){const t={};for(const r of e)t[JSON.stringify(i.quadToStringQuad(r))]=!0;return t}function y(e){return Object.keys(e).map(e=>i.stringQuadToQuad(JSON.parse(e)))}function g(e){return y(p(e))}function v(e){return a.uniqTerms(e.map(e=>a.getBlankNodes(a.getTermsNested(e))).reduce((e,t)=>e.concat(t),[]))}function m(e,t,r){const n=Object.assign({},r),a={};let o=!0;while(o){const r=Object.keys(n).length;for(const o of t){const t=i.termToString(o);if(!n[t]){const[r,i]=b(o,e,n);r&&(n[t]=i),a[t]=i}}const s={};for(const e in a){const t=a[e];void 0===s[t]?s[t]=e:s[t]=!1}for(const e in s){const t=s[e];t&&(n[t]=e)}o=r!==Object.keys(n).length}return[n,a]}function b(e,t,r){const n=[];let i=!0;for(const s of t){const t=a.getTermsNested(s);if(t.some(t=>t.equals(e))){n.push(_(s,r,e));for(const n of t)E(n,r)||n.equals(e)||(i=!1)}}const o=w(n.sort().join(""));return[i,o]}function w(e){return n.sha1().update(e).digest("hex")}function _(e,t,r){return a.getTerms(e).map(e=>x(e,t,r)).join("|")}function x(e,t,r){return e.equals(r)?"@self":"BlankNode"===e.termType?t[i.termToString(e)]||"@blank":"Quad"===e.termType?`<${_(e,t,r)}>`:i.termToString(e)}function E(e,t){return"BlankNode"!==e.termType&&!("Quad"===e.termType&&a.getTermsNested(e).some(e=>!E(e,t)))||!!t[i.termToString(e)]}t.isomorphic=o,t.getBijection=s,t.getBijectionInner=u,t.hashValues=l,t.hasValue=d,t.getQuadsWithBlankNodes=f,t.getQuadsWithoutBlankNodes=h,t.indexGraph=p,t.deindexGraph=y,t.uniqGraph=g,t.getGraphBlankNodes=v,t.hashTerms=m,t.hashTerm=b,t.sha1hex=w,t.quadToSignature=_,t.termToSignature=x,t.isTermGrounded=E},"424d":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonLdContextNormalized=void 0;const n=r("e43f"),i=r("4f5c"),a=r("56af"),o=r("5bc9");class s{constructor(e){this.contextRaw=e}getContextRaw(){return this.contextRaw}expandTerm(e,t,r=i.defaultExpandOptions){const s=this.contextRaw[e];if(null===s||s&&null===s["@id"])return null;let u=!0;if(s&&t){const t=o.Util.getContextValueId(s);if(t&&t!==e){if("string"===typeof t&&(o.Util.isValidIri(t)||o.Util.isValidKeyword(t)))return t;o.Util.isPotentialKeyword(t)||(u=!1)}}const c=o.Util.getPrefix(e,this.contextRaw),l=this.contextRaw["@vocab"],d=(!!l||""===l)&&l.indexOf(":")<0,f=this.contextRaw["@base"],h=o.Util.isPotentialKeyword(e);if(c){const t=this.contextRaw[c],n=o.Util.getContextValueId(t);if(n){if("string"!==typeof t&&r.allowPrefixForcing){if("_"!==n[0]&&!h&&!t["@prefix"]&&!(e in this.contextRaw))return e}else if(!o.Util.isSimpleTermDefinitionPrefix(n,r))return e;return n+e.substr(c.length+1)}}else{if(t&&(l||""===l||r.allowVocabRelativeToBase&&f&&d)&&!h&&!o.Util.isCompactIri(e)){if(d){if(r.allowVocabRelativeToBase)return n.resolve(l,f)+e;throw new a.ErrorCoded(`Relative vocab expansion for term '${e}' with vocab '${l}' is not allowed.`,a.ERROR_CODES.INVALID_VOCAB_MAPPING)}return l+e}if(!t&&f&&!h&&!o.Util.isCompactIri(e))return n.resolve(e,f)}if(u)return e;throw new a.ErrorCoded(`Invalid IRI mapping found for context entry '${e}': '${JSON.stringify(s)}'`,a.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(e,t){if(t&&this.contextRaw["@vocab"]&&e.startsWith(this.contextRaw["@vocab"]))return e.substr(this.contextRaw["@vocab"].length);if(!t&&this.contextRaw["@base"]&&e.startsWith(this.contextRaw["@base"]))return e.substr(this.contextRaw["@base"].length);const r={prefix:"",suffix:e};for(const n in this.contextRaw){const i=this.contextRaw[n];if(i&&!o.Util.isPotentialKeyword(n)){const a=o.Util.getContextValueId(i);if(e.startsWith(a)){const i=e.substr(a.length);if(i)i.length<r.suffix.length&&(r.prefix=n,r.suffix=i);else if(t)return n}}}return r.prefix?r.prefix+":"+r.suffix:e}}t.JsonLdContextNormalized=s},4284:function(e,t,r){"use strict";const n=r("8acc"),i=r("5a76"),a=r("c79e"),o=r("65e1");function s(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor(){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new n("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}main(e){this.quads=e;for(const n of e)this._addBlankNodeQuadInfo({quad:n,component:n.subject}),this._addBlankNodeQuadInfo({quad:n,component:n.object}),this._addBlankNodeQuadInfo({quad:n,component:n.graph});const t=new Map,r=[...this.blankNodeInfo.keys()];for(const n of r)this._hashAndTrackBlankNode({id:n,hashToBlankNodes:t});const i=[...t.keys()].sort(),a=[];for(const n of i){const e=t.get(n);if(e.length>1){a.push(e);continue}const r=e[0];this.canonicalIssuer.getId(r)}for(const o of a){const e=[];for(const t of o){if(this.canonicalIssuer.hasId(t))continue;const r=new n("_:b");r.getId(t);const i=this.hashNDegreeQuads(t,r);e.push(i)}e.sort(s);for(const t of e){const e=t.issuer.getOldIds();for(const t of e)this.canonicalIssuer.getId(t)}}const u=[];for(const n of this.quads){const e={...n};e.subject=this._useCanonicalId({component:e.subject}),e.object=this._useCanonicalId({component:e.object}),e.graph=this._useCanonicalId({component:e.graph}),u.push(o.serializeQuad(e))}return u.sort(),u.join("")}hashFirstDegreeQuads(e){const t=[],r=this.blankNodeInfo.get(e),n=r.quads;for(const i of n){const r={subject:null,predicate:i.predicate,object:null,graph:null};r.subject=this.modifyFirstDegreeComponent(e,i.subject,"subject"),r.object=this.modifyFirstDegreeComponent(e,i.object,"object"),r.graph=this.modifyFirstDegreeComponent(e,i.graph,"graph"),t.push(o.serializeQuad(r))}t.sort();const a=new i(this.hashAlgorithm);for(const i of t)a.update(i);return r.hash=a.digest(),r.hash}hashRelatedBlankNode(e,t,r,n){let a;a=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):r.hasId(e)?r.getId(e):this.blankNodeInfo.get(e).hash;const o=new i(this.hashAlgorithm);return o.update(n),"g"!==n&&o.update(this.getRelatedPredicate(t)),o.update(a),o.digest()}hashNDegreeQuads(e,t){const r=new i(this.hashAlgorithm),n=this.createHashToRelated(e,t),o=[...n.keys()].sort();for(const i of o){r.update(i);let e,o="";const s=new a(n.get(i));while(s.hasNext()){const r=s.next();let n=t.clone(),i="";const a=[];let u=!1;for(const e of r)if(this.canonicalIssuer.hasId(e)?i+=this.canonicalIssuer.getId(e):(n.hasId(e)||a.push(e),i+=n.getId(e)),0!==o.length&&i>o){u=!0;break}if(!u){for(const e of a){const t=this.hashNDegreeQuads(e,n);if(i+=n.getId(e),i+=`<${t.hash}>`,n=t.issuer,0!==o.length&&i>o){u=!0;break}}u||(0===o.length||i<o)&&(o=i,e=n)}}r.update(o),t=e}return{hash:r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}createHashToRelated(e,t){const r=new Map,n=this.blankNodeInfo.get(e).quads;for(const i of n)this._addRelatedBlankNodeHash({quad:i,component:i.subject,position:"s",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:i,component:i.object,position:"o",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:i,component:i.graph,position:"g",id:e,issuer:t,hashToRelated:r});return r}_hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const r=this.hashFirstDegreeQuads(e),n=t.get(r);n?n.push(e):t.set(r,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;const r=t.value,n=this.blankNodeInfo.get(r);n?n.quads.add(e):this.blankNodeInfo.set(r,{quads:new Set([e]),hash:null})}_addRelatedBlankNodeHash({quad:e,component:t,position:r,id:n,issuer:i,hashToRelated:a}){if("BlankNode"!==t.termType||t.value===n)return;const o=t.value,s=this.hashRelatedBlankNode(o,e,i,r),u=a.get(s);u?u.push(o):a.set(s,[o])}_useCanonicalId({component:e}){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}}},"43f5":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XHTMLContentType=t.TurtleLegacyContentType=t.TurtleContentType=t.SPARQLUpdateContentType=t.RDFXMLContentType=t.NTriplesContentType=t.NQuadsContentType=t.NQuadsAltContentType=t.N3LegacyContentType=t.N3ContentType=t.JSONLDContentType=t.HTMLContentType=t.GraphTermType=t.EmptyTermType=t.CollectionTermType=t.DefaultGraphTermType=t.VariableTermType=t.LiteralTermType=t.BlankNodeTermType=t.NamedNodeTermType=void 0;var n="NamedNode";t.NamedNodeTermType=n;var i="BlankNode";t.BlankNodeTermType=i;var a="Literal";t.LiteralTermType=a;var o="Variable";t.VariableTermType=o;var s="DefaultGraph";t.DefaultGraphTermType=s;var u="Collection";t.CollectionTermType=u;var c="Empty";t.EmptyTermType=c;var l="Graph";t.GraphTermType=l;var d="text/html";t.HTMLContentType=d;var f="application/ld+json";t.JSONLDContentType=f;var h="text/n3";t.N3ContentType=h;var p="application/n3";t.N3LegacyContentType=p;var y="application/nquads";t.NQuadsAltContentType=y;var g="application/n-quads";t.NQuadsContentType=g;var v="application/n-triples";t.NTriplesContentType=v;var m="application/rdf+xml";t.RDFXMLContentType=m;var b="application/sparql-update";t.SPARQLUpdateContentType=b;var w="text/turtle";t.TurtleContentType=w;var _="application/x-turtle";t.TurtleLegacyContentType=_;var x="application/xhtml+xml";t.XHTMLContentType=x},"43f6":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("970b")),a=n(r("3c96")),o=n(r("5bc3")),s=n(r("ed6d")),u=n(r("6b58")),c=n(r("36c6")),l=n(r("9523")),d=n(r("21b4")),f=n(r("33e3")),h=r("43f5");function p(e){var t=y();return function(){var r,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var g=function(e){(0,s.default)(r,e);var t=p(r);function r(e){var n;return(0,i.default)(this,r),n=t.call(this,r.getId(e)),(0,l.default)((0,a.default)(n),"termType",h.BlankNodeTermType),(0,l.default)((0,a.default)(n),"classOrder",d.default.BlankNode),(0,l.default)((0,a.default)(n),"isBlank",1),(0,l.default)((0,a.default)(n),"isVar",1),n}return(0,o.default)(r,null,[{key:"getId",value:function(e){if(e){if("string"!==typeof e)throw console.log("Bad blank id:",e),new Error("Bad id argument to new blank node: "+e);if(e.includes("#")){var t=e.split("#");return t[t.length-1]}return e}return"n"+r.nextId++}}]),(0,o.default)(r,[{key:"compareTerm",value:function(e){return this.classOrder<e.classOrder?-1:this.classOrder>e.classOrder?1:this.id<e.id?-1:this.id>e.id?1:0}},{key:"copy",value:function(e){var t=new r;return e.copyTo(this,t),t}},{key:"toCanonical",value:function(){return r.NTAnonymousNodePrefix+this.value}},{key:"toString",value:function(){return r.NTAnonymousNodePrefix+this.id}},{key:"id",get:function(){return this.value},set:function(e){this.value=e}}]),r}(f.default);t.default=g,(0,l.default)(g,"nextId",0),(0,l.default)(g,"NTAnonymousNodePrefix","_:")},"443a":function(e,t,r){"use strict";var n;function i(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var a=r("ad69").codes,o=a.ERR_MISSING_ARGS,s=a.ERR_STREAM_DESTROYED;function u(e){if(e)throw e}function c(e){return e.setHeader&&"function"===typeof e.abort}function l(e,t,a,o){o=i(o);var u=!1;e.on("close",(function(){u=!0})),void 0===n&&(n=r("5c90")),n(e,{readable:t,writable:a},(function(e){if(e)return o(e);u=!0,o()}));var l=!1;return function(t){if(!u&&!l)return l=!0,c(e)?e.abort():"function"===typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}function d(e){e()}function f(e,t){return e.pipe(t)}function h(e){return e.length?"function"!==typeof e[e.length-1]?u:e.pop():u}function p(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,r){var o=r<t.length-1,s=r>0;return l(e,o,s,(function(e){n||(n=e),e&&a.forEach(d),o||(a.forEach(d),i(n))}))}));return t.reduce(f)}e.exports=p},"458f":function(e,t,r){"use strict";const n=r("ae29");e.exports=class extends n{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,r){return"BlankNode"!==t.termType?t:"graph"===r?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}async createHashToRelated(e,t){const r=new Map,n=this.blankNodeInfo.get(e).quads;let i=0;for(const a of n){let n,o;if("BlankNode"===a.subject.termType&&a.subject.value!==e)o=a.subject.value,n="p";else{if("BlankNode"!==a.object.termType||a.object.value===e)continue;o=a.object.value,n="r"}++i%100===0&&await this._yield();const s=await this.hashRelatedBlankNode(o,a,t,n),u=r.get(s);u?u.push(o):r.set(s,[o])}return r}}},"46bd":function(e,t,r){(function(t,n){
/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2019 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
const i=r("30ba"),a=r("89ae"),o=r("0d88"),s=a.IdentifierIssuer,u=r("5950"),c=r("1f25"),l=r("65c2"),d=r("f9a0"),{expand:f}=r("50ca"),{flatten:h}=r("4142"),{fromRDF:p}=r("6f5c"),{toRDF:y}=r("7646"),{frameMergedOrDefault:g,cleanupNull:v}=r("e6ed"),{isArray:m,isObject:b,isString:w}=r("68fa"),{isSubjectReference:_}=r("c92f"),{expandIri:x,getInitialContext:E,process:T,processingMode:O}=r("d1e70"),{compact:S,compactIri:N}=r("4d68"),{createNodeMap:I,createMergedNodeMap:R,mergeNodeMaps:k}=r("796c"),j="undefined"!==typeof t&&t.versions&&t.versions.node,A=!j&&("undefined"!==typeof window||"undefined"!==typeof self),C=function(e){const t={},C=100,D=new c({max:C});function P(t,{documentLoader:r=e.documentLoader,...n}){return Object.assign({},{documentLoader:r},n,t)}return e.compact=async function(t,r,n){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===r)throw new u("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;let i;n=P(n,{base:w(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new s("_:b"),contextResolver:new o({sharedCache:D})}),n.link&&(n.skipExpansion=!0),n.compactToRelative||delete n.base,i=n.skipExpansion?t:await e.expand(t,n);const c=await e.processContext(E(n),r,n);let l=await S({activeCtx:c,element:i,options:n,compactionMap:n.compactionMap});n.compactArrays&&!n.graph&&m(l)?1===l.length?l=l[0]:0===l.length&&(l={}):n.graph&&b(l)&&(l=[l]),b(r)&&"@context"in r&&(r=r["@context"]),r=a.clone(r),m(r)||(r=[r]);const d=r;r=[];for(let e=0;e<d.length;++e)(!b(d[e])||Object.keys(d[e]).length>0)&&r.push(d[e]);const f=r.length>0;if(1===r.length&&(r=r[0]),m(l)){const e=N({activeCtx:c,iri:"@graph",relativeTo:{vocab:!0}}),t=l;l={},f&&(l["@context"]=r),l[e]=t}else if(b(l)&&f){const e=l;l={"@context":r};for(const t in e)l[t]=e[t]}return l},e.expand=async function(t,r){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");r=P(r,{keepFreeFloatingNodes:!1,contextResolver:new o({sharedCache:D})}),!1===r.expansionMap&&(r.expansionMap=void 0);const n={},i=[];if("expandContext"in r){const e=a.clone(r.expandContext);b(e)&&"@context"in e?n.expandContext=e:n.expandContext={"@context":e},i.push(n.expandContext)}let s;if(w(t)){const a=await e.get(t,r);s=a.documentUrl,n.input=a.document,a.contextUrl&&(n.remoteContext={"@context":a.contextUrl},i.push(n.remoteContext))}else n.input=a.clone(t);"base"in r||(r.base=s||"");let u=E(r);for(const e of i)u=await T({activeCtx:u,localCtx:e,options:r});let c=await f({activeCtx:u,element:n.input,options:r,expansionMap:r.expansionMap});return b(c)&&"@graph"in c&&1===Object.keys(c).length?c=c["@graph"]:null===c&&(c=[]),m(c)||(c=[c]),c},e.flatten=async function(t,r,n){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");r="function"===typeof r?null:r||null,n=P(n,{base:w(t)?t:"",contextResolver:new o({sharedCache:D})});const i=await e.expand(t,n),a=h(i);if(null===r)return a;n.graph=!0,n.skipExpansion=!0;const s=await e.compact(a,r,n);return s},e.frame=async function(t,r,n){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(n=P(n,{base:w(t)?t:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new o({sharedCache:D})}),w(r)){const t=await e.get(r,n);if(r=t.document,t.contextUrl){let e=r["@context"];e?m(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,r["@context"]=e}}const i=r&&r["@context"]||{},a=await e.processContext(E(n),i,n);n.hasOwnProperty("omitGraph")||(n.omitGraph=O(a,1.1)),n.hasOwnProperty("pruneBlankNodeIdentifiers")||(n.pruneBlankNodeIdentifiers=O(a,1.1));const s=await e.expand(t,n),u={...n};u.isFrame=!0,u.keepFreeFloatingNodes=!0;const c=await e.expand(r,u),l=Object.keys(r).map(e=>x(a,e,{vocab:!0}));u.merged=!l.includes("@graph"),u.is11=O(a,1.1);const d=g(s,c,u);u.graph=!n.omitGraph,u.skipExpansion=!0,u.link={},u.framing=!0;let f=await e.compact(d,i,u);return u.link={},f=v(f,u),f},e.link=async function(t,r,n){const i={};return r&&(i["@context"]=r),i["@embed"]="@link",e.frame(t,i,n)},e.normalize=e.canonize=async function(t,r){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(r=P(r,{base:w(t)?t:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new o({sharedCache:D})}),"inputFormat"in r){if("application/n-quads"!==r.inputFormat&&"application/nquads"!==r.inputFormat)throw new u("Unknown canonicalization input format.","jsonld.CanonizeError");const e=l.parse(t);return i.canonize(e,r)}const n={...r};delete n.format,n.produceGeneralizedRdf=!1;const a=await e.toRDF(t,n);return i.canonize(a,r)},e.fromRDF=async function(e,r){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");r=P(r,{format:w(e)?"application/n-quads":void 0});const{format:n}=r;let{rdfParser:i}=r;if(n){if(i=i||t[n],!i)throw new u("Unknown input format.","jsonld.UnknownFormat",{format:n})}else i=()=>e;const a=await i(e);return p(a,r)},e.toRDF=async function(t,r){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let n;r=P(r,{base:w(t)?t:"",skipExpansion:!1,contextResolver:new o({sharedCache:D})}),n=r.skipExpansion?t:await e.expand(t,r);const i=y(n,r);if(r.format){if("application/n-quads"===r.format||"application/nquads"===r.format)return await l.serialize(i);throw new u("Unknown output format.","jsonld.UnknownFormat",{format:r.format})}return i},e.createNodeMap=async function(t,r){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");r=P(r,{base:w(t)?t:"",contextResolver:new o({sharedCache:D})});const n=await e.expand(t,r);return R(n,r)},e.merge=async function(t,r,n){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!m(t))throw new TypeError('Could not merge, "docs" must be an array.');r="function"===typeof r?null:r||null,n=P(n,{contextResolver:new o({sharedCache:D})});const i=await Promise.all(t.map(t=>{const r={...n};return e.expand(t,r)}));let u=!0;"mergeNodes"in n&&(u=n.mergeNodes);const c=n.issuer||new s("_:b"),l={"@default":{}};for(let e=0;e<i.length;++e){const t=a.relabelBlankNodes(i[e],{issuer:new s("_:b"+e+"-")}),r=u||0===e?l:{"@default":{}};if(I(t,r,"@default",c),r!==l)for(const e in r){const t=r[e];if(!(e in l)){l[e]=t;continue}const n=l[e];for(const e in t)e in n||(n[e]=t[e])}}const d=k(l),f=[],h=Object.keys(d).sort();for(let e=0;e<h.length;++e){const t=d[h[e]];_(t)||f.push(t)}if(null===r)return f;n.graph=!0,n.skipExpansion=!0;const p=await e.compact(f,r,n);return p},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=t}),e.documentLoader=async e=>{throw new u("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})},e.get=async function(t,r){let n;n="function"===typeof r.documentLoader?r.documentLoader:e.documentLoader;const i=await n(t);try{if(!i.document)throw new u("No remote document found at the given URL.","jsonld.NullRemoteDocument");w(i.document)&&(i.document=JSON.parse(i.document))}catch(a){throw new u("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:a,remoteDoc:i})}return i},e.processContext=async function(e,t,r){return r=P(r,{base:"",contextResolver:new o({sharedCache:D})}),null===t?E(r):(t=a.clone(t),b(t)&&"@context"in t||(t={"@context":t}),T({activeCtx:e,localCtx:t,options:r}))},e.getContextValue=r("d1e70").getContextValue,e.documentLoaders={},e.documentLoaders.node=r("fdb5"),e.documentLoaders.xhr=r("71563"),e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new u('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,r){t[e]=r},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",l.parse),e.registerRDFParser("application/nquads",l.parse),e.registerRDFParser("rdfa-api",d.parse),e.url=r("ddd7"),e.util=a,Object.assign(e,a),e.promises=e,e.RequestQueue=r("40ce"),e.JsonLdProcessor=r("8322")(e),A&&"undefined"===typeof n.JsonLdProcessor&&Object.defineProperty(n,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor}),j?e.useDocumentLoader("node"):"undefined"!==typeof XMLHttpRequest&&e.useDocumentLoader("xhr"),e},D=function(){return C((function(){return D()}))};C(D),e.exports=D}).call(this,r("4362"),r("c8ba"))},"47b7":function(e,t){function r(e){this.value=e||"b"+ ++r.nextId}r.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},r.prototype.termType="BlankNode",r.nextId=0,e.exports=r},"491a":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(r("606c"));function a(e,t){var r=t||{namedNode:function(e){return new i.default(e)}};return function(t){return r.namedNode(e+(t||""))}}},"4a4b":function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports["default"]=e.exports,e.exports.__esModule=!0,r(t,n)}e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},"4b68":function(e,t,r){"use strict";(function(e){var n=r("4ea4"),i=r("dbce");Object.defineProperty(t,"__esModule",{value:!0}),t.mediaTypeClass=l,t.linkRelationProperty=d,t.callbackify=f,t.DOMParserFactory=h,t.domToString=p,t.dumpNode=y,t.dtstamp=g,t.heavyCompare=v,t.heavyCompareSPO=m,t.output=b,t.parseXML=w,t.RDFArrayRemove=_,t.string_startswith=x,t.stackString=T,Object.defineProperty(t,"log",{enumerable:!0,get:function(){return o.default}}),t.uri=t.string=void 0;var a=i(r("3897"));t.uri=a;var o=n(r("3c962")),s=n(r("606c")),u=r("a954"),c={template:E};function l(e){return e=e.split(";")[0].trim(),new s.default("http://www.w3.org/ns/iana/media-types/"+e+"#Resource")}function d(e){return new s.default("http://www.w3.org/ns/iana/link-relations/relation#"+e.trim())}function f(e,t){e.callbacks={};for(var r=t.length-1;r>=0;r--)e.callbacks[t[r]]=[];e.addHook=function(t){e.callbacks[t]||(e.callbacks[t]=[])},e.addCallback=function(t,r){e.callbacks[t].push(r)},e.removeCallback=function(t,r){for(var n=0;n<e.callbacks[t].length;n++)if(e.callbacks[t][n].name===r)return e.callbacks[t].splice(n,1),!0;return!1},e.insertCallback=function(t,r){e.callbacks[t].unshift(r)},e.fireCallbacks=function(t,r){var n,i,a=[],o=[],s=e.callbacks[t].length;for(n=s-1;n>=0;n--)i=e.callbacks[t][n],i&&i.apply(e,r)&&a.push(i);for(n=a.length-1;n>=0;n--)o.push(a[n]);for(n=s;n<e.callbacks[t].length;n++)o.push(e.callbacks[t][n]);e.callbacks[t]=o}}function h(){return window.DOMParser?new u.DOMParser:!!window.ActiveXObject&&new ActiveXObject("Microsoft.XMLDOM")}function p(e,t){t=t||{};var r=[];"selfClosing"in t&&t.selfClosing.split(" ").forEach((function(e){r[e]=!0}));var n=[];return"skipAttributes"in t&&t.skipAttributes.split(" ").forEach((function(e){n[e]=!0})),y(e,t,r,n)}function y(e,t,r,n){var i,a="",o=[!1];if("undefined"===typeof e.nodeType)return a;if(1===e.nodeType){if(e.hasAttribute("class")&&"classWithChildText"in t&&e.matches(t.classWithChildText.class))a+=e.querySelector(t.classWithChildText.element).textContent;else if(!("skipNodeWithClass"in t)||!e.matches("."+t.skipNodeWithClass)){var s=e.nodeName.toLowerCase();a+="<"+s;var u=[];for(i=e.attributes.length-1;i>=0;i--){var c=e.attributes[i];if(!(n.length>0&&n[c.name])&&!/^\d+$/.test(c.name)){if("class"===c.name&&"replaceClassItemWith"in t&&c.value.split(" ").indexOf(t.replaceClassItemWith.source)>-1){var l=new RegExp(t.replaceClassItemWith.source,"g");c.value=c.value.replace(l,t.replaceClassItemWith.target).trim()}"class"===c.name&&"skipClassWithValue"in t&&t.skipClassWithValue===c.value||u.push(c.name+"='"+c.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&quot;")+"'")}}if(u.length>0&&("sortAttributes"in t&&t.sortAttributes&&u.sort((function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())})),a+=" "+u.join(" ")),r[s])a+=" />";else{for(a+=">",a+="html"===s?"\n  ":"",o.push("style"===s||"script"===s),i=0;i<e.childNodes.length;i++)a+=y(e.childNodes[i]);o.pop(),a+="body"===s?"</"+s+">\n":"</"+s+">"}}}else if(8===e.nodeType)a+="\x3c!--"+e.nodeValue+"--\x3e";else if(3===e.nodeType||4===e.nodeType){var d=e.nodeValue.replace(/\n+$/,"");a+=o[o.length-1]?d:d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}else console.log("Warning; Cannot handle serialising nodes of type: "+e.nodeType),console.log(e);return a}function g(){var e=new Date,t=e.getYear()+1900,r=e.getMonth()+1,n=e.getDate(),i=e.getUTCHours(),a=e.getUTCMinutes(),o=e.getSeconds();return r<10&&(r="0"+r),n<10&&(n="0"+n),i<10&&(i="0"+i),a<10&&(a="0"+a),o<10&&(o="0"+o),t+"-"+r+"-"+n+"T"+i+":"+a+":"+o+"Z"}function v(e,t,r,n){var i=function(e){return"BlankNode"===e.termType?null:e},a=function(e){var t=r.statementsMatching(e).map((function(e){return i(e.subject)+" "+i(e.predicate)+" "+i(e.object)})).concat(r.statementsMatching(void 0,void 0,e).map((function(e){return i(e.subject)+" "+i(e.predicate)+" "+i(e.object)})));return t.sort(),t.join("\n")},o=Object.prototype.hasOwnProperty.call(r,"compareTerms")?r.compareTerms(e,t):e.compareTerm(t);return"BlankNode"===e.termType&&"BlankNode"===t.termType?0===o?0:a(e)>a(t)?1:a(e)<a(t)?-1:o:n&&e.uri&&t.uri?(n[e.uri]||e.uri).localeCompare(n[t.uri]||t.uri):o}function m(e,t,r,n){return v(e.subject,t.subject,r,n)||v(e.predicate,t.predicate,r,n)||v(e.object,t.object,r,n)}function b(e){var t=document.createElement("div");t.textContent=e,document.body.appendChild(t)}function w(t,r){var n;if(r=r||{},e&&e.exports){var i=(new u.DOMParser).parseFromString(t,r.contentType||"application/xhtml+xml");return i}return n="undefined"!==typeof window&&window.DOMParser?new window.DOMParser:new u.DOMParser,n.parseFromString(t,"application/xml")}function _(e,t){for(var r=0;r<e.length;r++)if(e[r].subject.equals(t.subject)&&e[r].predicate.equals(t.predicate)&&e[r].object.equals(t.object)&&e[r].why.equals(t.why))return void e.splice(r,1);throw new Error("RDFArrayRemove: Array did not contain "+t+" "+t.why)}function x(e,t){return e.slice(0,t.length)===t}function E(e,t){for(var r=e.split("%s"),n="",i=0;i<t.length;i++)t[i]+="",n+=r[i]+t[i];return n+r.slice(t.length).join()}function T(e){var t=e+"\n";if(!e.stack)return t+"No stack available.\n";for(var r=e.stack.toString().split("\n"),n=[],i=0;i<r.length;i++){var a=r[i];if(a.indexOf("ecmaunit.js")>-1)break;"("==a.charAt(0)&&(a="function"+a);var o=a.split("@");n.push(o)}for(i=0;i<n.length;i++)t+="  "+n[i][1]+"\n    "+n[i][0];return t}t.string=c}).call(this,r("62e4")(e))},"4d68":function(e,t,r){"use strict";const n=r("5950"),{isArray:i,isObject:a,isString:o,isUndefined:s}=r("68fa"),{isList:u,isValue:c,isGraph:l,isSimpleGraph:d,isSubjectReference:f}=r("c92f"),{expandIri:h,getContextValue:p,isKeyword:y,process:g,processingMode:v}=r("d1e70"),{removeBase:m,prependBase:b}=r("ddd7"),{addValue:w,asArray:_,compareShortestLeast:x}=r("89ae"),E={};function T(e,t,r,n,i,o){null===o&&(o="@null");const s=[];if(("@id"===o||"@reverse"===o)&&a(r)&&"@id"in r){"@reverse"===o&&s.push("@reverse");const t=E.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===r["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}else{s.push(o);const e=s.find(e=>e.includes("_"));e&&s.push(e.replace(/^[^_]+_/,"_"))}s.push("@none");const u=e.inverse[t];for(const a of n){if(!(a in u))continue;const e=u[a][i];for(const t of s)if(t in e)return e[t]}return null}function O(e,t,r){if("@nest"!==h(e,t,{vocab:!0},r))throw new n("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}e.exports=E,E.compact=async({activeCtx:e,activeProperty:t=null,element:r,options:h={},compactionMap:m=(()=>{})})=>{if(i(r)){let n=[];for(let i=0;i<r.length;++i){let a=await E.compact({activeCtx:e,activeProperty:t,element:r[i],options:h,compactionMap:m});null===a&&(a=await m({unmappedValue:r[i],activeCtx:e,activeProperty:t,parent:r,index:i,options:h}),void 0===a)||n.push(a)}if(h.compactArrays&&1===n.length){const r=p(e,t,"@container")||[];0===r.length&&(n=n[0])}return n}const b=p(e,t,"@context");if(s(b)||(e=await g({activeCtx:e,localCtx:b,propagate:!0,overrideProtected:!0,options:h})),a(r)){if(h.link&&"@id"in r&&h.link.hasOwnProperty(r["@id"])){const e=h.link[r["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===r)return e[t].compacted}if(c(r)||f(r)){const n=E.compactValue({activeCtx:e,activeProperty:t,value:r,options:h});return h.link&&f(r)&&(h.link.hasOwnProperty(r["@id"])||(h.link[r["@id"]]=[]),h.link[r["@id"]].push({expanded:r,compacted:n})),n}if(u(r)){const n=p(e,t,"@container")||[];if(n.includes("@list"))return E.compact({activeCtx:e,activeProperty:t,element:r["@list"],options:h,compactionMap:m})}const b="@reverse"===t,x={},T=e;c(r)||f(r)||(e=e.revertToPreviousContext());const S=p(T,t,"@context");s(S)||(e=await g({activeCtx:e,localCtx:S,propagate:!0,overrideProtected:!0,options:h})),h.link&&"@id"in r&&(h.link.hasOwnProperty(r["@id"])||(h.link[r["@id"]]=[]),h.link[r["@id"]].push({expanded:r,compacted:x}));let N=r["@type"]||[];N.length>1&&(N=Array.from(N).sort());const I=e;for(const t of N){const r=E.compactIri({activeCtx:I,iri:t,relativeTo:{vocab:!0}}),n=p(T,r,"@context");s(n)||(e=await g({activeCtx:e,localCtx:n,options:h,propagate:!1}))}const R=Object.keys(r).sort();for(const s of R){const f=r[s];if("@id"!==s)if("@type"!==s)if("@reverse"!==s)if("@preserve"!==s)if("@index"!==s)if("@graph"!==s&&"@list"!==s&&"@included"!==s&&y(s)){const t=E.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});w(x,t,f)}else{if(!i(f))throw new n("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===f.length){const t=E.compactIri({activeCtx:e,iri:s,value:f,relativeTo:{vocab:!0},reverse:b}),r=e.mappings.has(t)?e.mappings.get(t)["@nest"]:null;let n=x;r&&(O(e,r,h),a(x[r])||(x[r]={}),n=x[r]),w(n,t,f,{propertyIsArray:!0})}for(const t of f){const r=E.compactIri({activeCtx:e,iri:s,value:t,relativeTo:{vocab:!0},reverse:b}),n=e.mappings.has(r)?e.mappings.get(r)["@nest"]:null;let f=x;n&&(O(e,n,h),a(x[n])||(x[n]={}),f=x[n]);const y=p(e,r,"@container")||[],g=l(t),v=u(t);let T;v?T=t["@list"]:g&&(T=t["@graph"]);let S=await E.compact({activeCtx:e,activeProperty:r,element:v||g?T:t,options:h,compactionMap:m});if(v){if(i(S)||(S=[S]),y.includes("@list")){w(f,r,S,{valueIsArray:!0,allowDuplicate:!0});continue}S={[E.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:S},"@index"in t&&(S[E.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])}if(g)if(y.includes("@graph")&&(y.includes("@id")||y.includes("@index")&&d(t))){let n;f.hasOwnProperty(r)?n=f[r]:f[r]=n={};const i=(y.includes("@id")?t["@id"]:t["@index"])||E.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});w(n,i,S,{propertyIsArray:!h.compactArrays||y.includes("@set")})}else y.includes("@graph")&&d(t)?(i(S)&&S.length>1&&(S={"@included":S}),w(f,r,S,{propertyIsArray:!h.compactArrays||y.includes("@set")})):(i(S)&&1===S.length&&h.compactArrays&&(S=S[0]),S={[E.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:S},"@id"in t&&(S[E.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(S[E.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"]),w(f,r,S,{propertyIsArray:!h.compactArrays||y.includes("@set")}));else if(y.includes("@language")||y.includes("@index")||y.includes("@id")||y.includes("@type")){let n,i;if(f.hasOwnProperty(r)?n=f[r]:f[r]=n={},y.includes("@language"))c(S)&&(S=S["@value"]),i=t["@language"];else if(y.includes("@index")){const n=p(e,r,"@index")||"@index",a=E.compactIri({activeCtx:e,iri:n,relativeTo:{vocab:!0}});if("@index"===n)i=t["@index"],delete S[a];else{let e;if([i,...e]=_(S[n]||[]),o(i))switch(e.length){case 0:delete S[n];break;case 1:S[n]=e[0];break;default:S[n]=e;break}else i=null}}else if(y.includes("@id")){const t=E.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});i=S[t],delete S[t]}else if(y.includes("@type")){const n=E.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let a;switch([i,...a]=_(S[n]||[]),a.length){case 0:delete S[n];break;case 1:S[n]=a[0];break;default:S[n]=a;break}1===Object.keys(S).length&&"@id"in t&&(S=await E.compact({activeCtx:e,activeProperty:r,element:{"@id":t["@id"]},options:h,compactionMap:m}))}i||(i=E.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),w(n,i,S,{propertyIsArray:y.includes("@set")})}else{const e=!h.compactArrays||y.includes("@set")||y.includes("@list")||i(S)&&0===S.length||"@list"===s||"@graph"===s;w(f,r,S,{propertyIsArray:e})}}}else{const r=p(e,t,"@container")||[];if(r.includes("@index"))continue;const n=E.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});w(x,n,f)}else{const r=await E.compact({activeCtx:e,activeProperty:t,element:f,options:h,compactionMap:m});i(r)&&0===r.length||w(x,s,r)}else{const t=await E.compact({activeCtx:e,activeProperty:"@reverse",element:f,options:h,compactionMap:m});for(const r in t)if(e.mappings.has(r)&&e.mappings.get(r).reverse){const n=t[r],i=p(e,r,"@container")||[],a=i.includes("@set")||!h.compactArrays;w(x,r,n,{propertyIsArray:a}),delete t[r]}if(Object.keys(t).length>0){const r=E.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});w(x,r,t)}}else{let t=_(f).map(e=>E.compactIri({activeCtx:T,iri:e,relativeTo:{vocab:!0}}));1===t.length&&(t=t[0]);const r=E.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),n=p(e,r,"@container")||[],a=n.includes("@set")&&v(e,1.1),o=a||i(t)&&0===f.length;w(x,r,t,{propertyIsArray:o})}else{let t=_(f).map(t=>E.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:!1},base:h.base}));1===t.length&&(t=t[0]);const r=E.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});x[r]=t}}return x}return r},E.compactIri=({activeCtx:e,iri:t,value:r=null,relativeTo:i={vocab:!1},reverse:o=!1,base:s=null})=>{if(null===t)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const d=e.getInverse();if(y(t)&&t in d&&"@none"in d[t]&&"@type"in d[t]["@none"]&&"@none"in d[t]["@none"]["@type"])return d[t]["@none"]["@type"]["@none"];if(i.vocab&&t in d){const n=e["@language"]||"@none",i=[];a(r)&&"@index"in r&&!("@graph"in r)&&i.push("@index","@index@set"),a(r)&&"@preserve"in r&&(r=r["@preserve"][0]),l(r)?("@index"in r&&i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r&&i.push("@graph@id","@graph@id@set"),i.push("@graph","@graph@set","@set"),"@index"in r||i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r||i.push("@graph@id","@graph@id@set")):a(r)&&!c(r)&&i.push("@id","@id@set","@type","@set@type");let s="@language",d="@null";if(o)s="@type",d="@reverse",i.push("@set");else if(u(r)){"@index"in r||i.push("@list");const e=r["@list"];if(0===e.length)s="@any",d="@none";else{let t=0===e.length?n:null,r=null;for(let n=0;n<e.length;++n){const i=e[n];let a="@none",o="@none";if(c(i))if("@direction"in i){const e=(i["@language"]||"").toLowerCase(),t=i["@direction"];a=`${e}_${t}`}else"@language"in i?a=i["@language"].toLowerCase():"@type"in i?o=i["@type"]:a="@null";else o="@id";if(null===t?t=a:a!==t&&c(i)&&(t="@none"),null===r?r=o:o!==r&&(r="@none"),"@none"===t&&"@none"===r)break}t=t||"@none",r=r||"@none","@none"!==r?(s="@type",d=r):d=t}}else{if(c(r))if("@language"in r&&!("@index"in r)){i.push("@language","@language@set"),d=r["@language"];const e=r["@direction"];e&&(d=`${d}_${e}`)}else"@direction"in r&&!("@index"in r)?d="_"+r["@direction"]:"@type"in r&&(s="@type",d=r["@type"]);else s="@type",d="@id";i.push("@set")}i.push("@none"),a(r)&&!("@index"in r)&&i.push("@index","@index@set"),c(r)&&1===Object.keys(r).length&&i.push("@language","@language@set");const f=T(e,t,r,i,s,d);if(null!==f)return f}if(i.vocab&&"@vocab"in e){const r=e["@vocab"];if(0===t.indexOf(r)&&t!==r){const n=t.substr(r.length);if(!e.mappings.has(n))return n}}let f=null;const h=[];let p=e.fastCurieMap;const g=t.length-1;for(let n=0;n<g&&t[n]in p;++n)p=p[t[n]],""in p&&h.push(p[""][0]);for(let n=h.length-1;n>=0;--n){const i=h[n],a=i.terms;for(const n of a){const a=n+":"+t.substr(i.iri.length),o=e.mappings.get(n)._prefix&&(!e.mappings.has(a)||null===r&&e.mappings.get(a)["@id"]===t);o&&(null===f||x(a,f)<0)&&(f=a)}}if(null!==f)return f;for(const[a,u]of e.mappings)if(u&&u._prefix&&t.startsWith(a+":"))throw new n(`Absolute IRI "${t}" confused with prefix "${a}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});return i.vocab?t:"@base"in e?e["@base"]?m(b(s,e["@base"]),t):t:m(s,t)},E.compactValue=({activeCtx:e,activeProperty:t,value:r,options:n})=>{if(c(r)){const n=p(e,t,"@type"),i=p(e,t,"@language"),a=p(e,t,"@direction"),s=p(e,t,"@container")||[],u="@index"in r&&!s.includes("@index");if(!u&&"@none"!==n){if(r["@type"]===n)return r["@value"];if("@language"in r&&r["@language"]===i&&"@direction"in r&&r["@direction"]===a)return r["@value"];if("@language"in r&&r["@language"]===i)return r["@value"];if("@direction"in r&&r["@direction"]===a)return r["@value"]}const c=Object.keys(r).length,l=1===c||2===c&&"@index"in r&&!u,d="@language"in e,f=o(r["@value"]),h=e.mappings.has(t)&&null===e.mappings.get(t)["@language"];if(l&&"@none"!==n&&(!d||!f||h))return r["@value"];const y={};return u&&(y[E.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?y[E.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=E.compactIri({activeCtx:e,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(y[E.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),"@direction"in r&&(y[E.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=r["@direction"]),y[E.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],y}const i=h(e,t,{vocab:!0},n),a=p(e,t,"@type"),s=E.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:"@vocab"===a},base:n.base});return"@id"===a||"@vocab"===a||"@graph"===i?s:{[E.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}}},"4df7":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("606c")),a={boolean:new i.default("http://www.w3.org/2001/XMLSchema#boolean"),dateTime:new i.default("http://www.w3.org/2001/XMLSchema#dateTime"),decimal:new i.default("http://www.w3.org/2001/XMLSchema#decimal"),double:new i.default("http://www.w3.org/2001/XMLSchema#double"),integer:new i.default("http://www.w3.org/2001/XMLSchema#integer"),langString:new i.default("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),string:new i.default("http://www.w3.org/2001/XMLSchema#string")};t.default=a},"4e8ed":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r("ef3c")),i=r("f947"),a=r("9b92"),o=r("6dc9"),s=u(r("9c67"));function u(e){return e&&e.__esModule?e:{default:e}}const c="_:id a _:type;\n    <https://www.w3.org/ns/activitystreams#actor> _:actor;\n    <https://www.w3.org/ns/activitystreams#object> _:object;\n    <https://www.w3.org/ns/activitystreams#published> _:published.\n",{xsd:l}=s.default["@context"];class d extends n.default{async*createResults(e,t){const r=(0,a.namedNode)(new URL("#".concat((0,o.v4)()),t).href),n=(0,a.literal)((new Date).toISOString(),"".concat(l,"dateTime"));e={id:r,published:n,...e};const s=(0,i.replaceVariables)(c,e);yield{id:r,insert:s}}async processResults(e,t,r){const n="INSERT {\n".concat(e.map(e=>e.insert).join(""),"}");return await r.executeUpdate(n,t).next(),e.map(e=>e.id)}}t.default=d},"4ea4":function(e,t){function r(e){return e&&e.__esModule?e:{default:e}}e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},"4f59":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r("e88a")),i=o(r("00e8")),a=r("9b92");function o(e){return e&&e.__esModule?e:{default:e}}class s extends n.default{handle({settings:e}){const t=this.getWebId().then(a.namedNode);return this._createSubjectPath(t,e)}async getWebId(){const e=await i.default.currentSession();if(!e)throw new Error("Cannot resolve user path: no user logged in");return e.webId}}t.default=s},"4f5c":function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n["throw"](e))}catch(t){a(t)}}function u(e){e.done?r(e.value):i(e.value).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultExpandOptions=t.ContextParser=void 0,r("7274");const i=r("e43f"),a=r("56af"),o=r("fb42"),s=r("424d"),u=r("5bc9"),c=r("5727");class l{constructor(e){e=e||{},this.documentLoader=e.documentLoader||new o.FetchDocumentLoader,this.documentCache={},this.validateContext=!e.skipValidation,this.expandContentTypeToBase=!!e.expandContentTypeToBase,this.remoteContextsDepthLimit=e.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps=!("redirectSchemaOrgHttps"in e)||!!e.redirectSchemaOrgHttps}static validateLanguage(e,t,r){if("string"!==typeof e)throw new a.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(e)}'`,r);if(!u.Util.REGEX_LANGUAGE_TAG.test(e)){if(t)throw new a.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(e)}'`,r);return!1}return!0}static validateDirection(e,t){if("string"!==typeof e)throw new a.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(e)}'`,a.ERROR_CODES.INVALID_BASE_DIRECTION);if(!u.Util.REGEX_DIRECTION_TAG.test(e)){if(t)throw new a.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(e)}'`,a.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(e){for(const t of Object.keys(e)){const r=e[t];if(r&&"object"===typeof r&&r["@reverse"]&&!r["@id"]){if("string"!==typeof r["@reverse"]||u.Util.isValidKeyword(r["@reverse"]))throw new a.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${r["@reverse"]}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);r["@id"]=r["@reverse"],u.Util.isPotentialKeyword(r["@reverse"])?delete r["@reverse"]:r["@reverse"]=!0}}return e}expandPrefixedTerms(e,t){const r=e.getContextRaw();for(const n of Object.keys(r))if(u.Util.EXPAND_KEYS_BLACKLIST.indexOf(n)<0&&!u.Util.isReservedInternalKeyword(n)){const i=r[n];if(u.Util.isPotentialKeyword(n)&&u.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(n)>=0&&("@type"!==n||"object"===typeof r[n]&&!r[n]["@protected"]&&"@set"!==r[n]["@container"]))throw new a.ErrorCoded(`Keywords can not be aliased to something else.\nTried mapping ${n} to ${JSON.stringify(i)}`,a.ERROR_CODES.KEYWORD_REDEFINITION);if(u.Util.ALIAS_RANGE_BLACKLIST.indexOf(u.Util.getContextValueId(i))>=0)throw new a.ErrorCoded(`Aliasing to certain keywords is not allowed.\nTried mapping ${n} to ${JSON.stringify(i)}`,a.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(i&&u.Util.isPotentialKeyword(u.Util.getContextValueId(i))&&!0===i["@prefix"])throw new a.ErrorCoded(`Tried to use keyword aliases as prefix: '${n}': '${JSON.stringify(i)}'`,a.ERROR_CODES.INVALID_TERM_DEFINITION);while(u.Util.isPrefixValue(r[n])){const i=r[n];let a=!1;if("string"===typeof i)r[n]=e.expandTerm(i,!0),a=a||i!==r[n];else{const o=i["@id"],s=i["@type"],c=!("@prefix"in i)||u.Util.isValidIri(n);if("@id"in i)void 0!==o&&null!==o&&"string"===typeof o&&(r[n]["@id"]=e.expandTerm(o,!0),a=a||o!==r[n]["@id"]);else if(!u.Util.isPotentialKeyword(n)&&c){const t=e.expandTerm(n,!0);t!==n&&(r[n]["@id"]=t,a=!0)}!s||"string"!==typeof s||"@vocab"===s||i["@container"]&&i["@container"]["@type"]||!c||(r[n]["@type"]=e.expandTerm(s,!0),t&&s===r[n]["@type"]&&(r[n]["@type"]=e.expandTerm(s,!1)),a=a||s!==r[n]["@type"])}if(!a)break}}}normalize(e,{processingMode:t,normalizeLanguageTags:r}){if(r||1===t)for(const n of Object.keys(e))if("@language"===n&&"string"===typeof e[n])e[n]=e[n].toLowerCase();else{const t=e[n];t&&"object"===typeof t&&"string"===typeof t["@language"]&&(t["@language"]=t["@language"].toLowerCase())}}containersToHash(e){for(const t of Object.keys(e)){const r=e[t];if(r&&"object"===typeof r)if("string"===typeof r["@container"])r["@container"]={[r["@container"]]:!0};else if(Array.isArray(r["@container"])){const e={};for(const t of r["@container"])e[t]=!0;r["@container"]=e}}}applyScopedProtected(e,{processingMode:t}){if(t&&t>=1.1&&e["@protected"]){for(const t of Object.keys(e))if(!u.Util.isReservedInternalKeyword(t)&&!u.Util.isPotentialKeyword(t)&&!u.Util.isTermProtected(e,t)){const r=e[t];r&&"object"===typeof r?"@protected"in e[t]||(e[t]["@protected"]=!0):e[t]={"@id":r,"@protected":!0}}delete e["@protected"]}}validateKeywordRedefinitions(e,t,r){for(const n of Object.keys(t))if(u.Util.isTermProtected(e,n)){if("string"===typeof t[n]){const i=u.Util.isSimpleTermDefinitionPrefix(t[n],r);t[n]={"@id":t[n]},i&&(t[n]["@prefix"]=!0,e[n]["@prefix"]=!0)}const i=c(e[n]);t[n]["@protected"]=!0;const o=c(t[n]);if(i!==o)throw new a.ErrorCoded(`Attempted to override the protected keyword ${n} from ${JSON.stringify(u.Util.getContextValueId(e[n]))} to ${JSON.stringify(u.Util.getContextValueId(t[n]))}`,a.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}}validate(e,{processingMode:t}){for(const r of Object.keys(e)){if(u.Util.isReservedInternalKeyword(r))continue;if(""===r)throw new a.ErrorCoded(`The empty term is not allowed, got: '${r}': '${JSON.stringify(e[r])}'`,a.ERROR_CODES.INVALID_TERM_DEFINITION);const n=e[r],i=typeof n;if(u.Util.isPotentialKeyword(r)){switch(r.substr(1)){case"vocab":if(null!==n&&"string"!==i)throw new a.ErrorCoded("Found an invalid @vocab IRI: "+n,a.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(null!==n&&"string"!==i)throw new a.ErrorCoded("Found an invalid @base IRI: "+e[r],a.ERROR_CODES.INVALID_BASE_IRI);break;case"language":null!==n&&l.validateLanguage(n,!0,a.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(null!==n&&"number"!==i)throw new a.ErrorCoded("Found an invalid @version number: "+n,a.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":null!==n&&l.validateDirection(n,!0);break;case"propagate":if(1===t)throw new a.ErrorCoded("Found an illegal @propagate keyword: "+n,a.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(null!==n&&"boolean"!==i)throw new a.ErrorCoded("Found an invalid @propagate value: "+n,a.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(u.Util.isValidKeyword(r)&&u.Util.isValidKeyword(u.Util.getContextValueId(n)))throw new a.ErrorCoded(`Illegal keyword alias in term value, found: '${r}': '${u.Util.getContextValueId(n)}'`,a.ERROR_CODES.KEYWORD_REDEFINITION)}else if(null!==n)switch(i){case"string":if(u.Util.getPrefix(n,e)===r)throw new a.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${r}': '${JSON.stringify(n)}'`,a.ERROR_CODES.CYCLIC_IRI_MAPPING);if(u.Util.isValidIriWeak(r)){if("@type"===n)throw new a.ErrorCoded(`IRIs can not be mapped to @type, found: '${r}': '${n}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);if(u.Util.isValidIri(n)&&n!==new s.JsonLdContextNormalized(e).expandTerm(r))throw new a.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${r}': '${n}'`,a.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!u.Util.isCompactIri(r)&&!("@id"in n)&&("@id"===n["@type"]?!e["@base"]:!e["@vocab"]))throw new a.ErrorCoded(`Missing @id in context entry: '${r}': '${JSON.stringify(n)}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);for(const o of Object.keys(n)){const c=n[o];if(c)switch(o){case"@id":if(u.Util.isValidKeyword(c)&&"@type"!==c&&"@id"!==c&&"@graph"!==c)throw new a.ErrorCoded(`Illegal keyword alias in term value, found: '${r}': '${JSON.stringify(n)}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);if(u.Util.isValidIriWeak(r)){if("@type"===c)throw new a.ErrorCoded(`IRIs can not be mapped to @type, found: '${r}': '${JSON.stringify(n)}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);if(u.Util.isValidIri(c)&&c!==new s.JsonLdContextNormalized(e).expandTerm(r))throw new a.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${r}': '${JSON.stringify(n)}'`,a.ERROR_CODES.INVALID_IRI_MAPPING)}if("string"!==typeof c)throw new a.ErrorCoded(`Detected non-string @id in context entry: '${r}': '${JSON.stringify(n)}'`,a.ERROR_CODES.INVALID_IRI_MAPPING);if(u.Util.getPrefix(c,e)===r)throw new a.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${r}': '${JSON.stringify(n)}'`,a.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if("@type"===n["@container"]&&"@id"!==c&&"@vocab"!==c)throw new a.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${r}': '${c}'`,a.ERROR_CODES.INVALID_TYPE_MAPPING);if("string"!==typeof c)throw new a.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(i)}'`,a.ERROR_CODES.INVALID_TYPE_MAPPING);if("@id"!==c&&"@vocab"!==c&&(1===t||"@json"!==c)&&(1===t||"@none"!==c)&&("_"===c[0]||!u.Util.isValidIri(c)))throw new a.ErrorCoded(`A context @type must be an absolute IRI, found: '${r}': '${c}'`,a.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if("string"===typeof c&&n["@id"]&&n["@id"]!==c)throw new a.ErrorCoded(`Found non-matching @id and @reverse term values in '${r}':'${c}' and '${n["@id"]}'`,a.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in n)throw new a.ErrorCoded(`@nest is not allowed in the reverse property '${r}'`,a.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(1===t&&(Object.keys(c).length>1||u.Util.CONTAINERS_1_0.indexOf(Object.keys(c)[0])<0))throw new a.ErrorCoded(`Invalid term @container for '${r}' ('${Object.keys(c)}') in 1.0, must be only one of ${u.Util.CONTAINERS_1_0.join(", ")}`,a.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const e of Object.keys(c)){if("@list"===e&&n["@reverse"])throw new a.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${r}'`,a.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(u.Util.CONTAINERS.indexOf(e)<0)throw new a.ErrorCoded(`Invalid term @container for '${r}' ('${e}'), must be one of ${u.Util.CONTAINERS.join(", ")}`,a.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":l.validateLanguage(c,!0,a.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":l.validateDirection(c,!0);break;case"@prefix":if(null!==c&&"boolean"!==typeof c)throw new a.ErrorCoded(`Found an invalid term @prefix boolean in: '${r}': '${JSON.stringify(n)}'`,a.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in n)&&!u.Util.isValidIri(r))throw new a.ErrorCoded(`Invalid @prefix definition for '${r}' ('${JSON.stringify(n)}'`,a.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(1===t||!n["@container"]||!n["@container"]["@index"])throw new a.ErrorCoded(`Attempt to add illegal key to value object: '${r}': '${JSON.stringify(n)}'`,a.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(u.Util.isPotentialKeyword(c)&&"@nest"!==c)throw new a.ErrorCoded(`Found an invalid term @nest value in: '${r}': '${JSON.stringify(n)}'`,a.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new a.ErrorCoded(`Found an invalid term value: '${r}': '${n}'`,a.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(e,t,r){return"string"===typeof e||(r&&!("@base"in e)&&t.parentContext&&"@base"in t.parentContext&&(e["@base"]=t.parentContext["@base"],t.parentContext["@__baseDocument"]&&(e["@__baseDocument"]=!0)),t.baseIRI&&!t.external&&("@base"in e?null===e["@base"]||"string"!==typeof e["@base"]||u.Util.isValidIri(e["@base"])||(e["@base"]=i.resolve(e["@base"],t.parentContext&&t.parentContext["@base"]||t.baseIRI)):(e["@base"]=t.baseIRI,e["@__baseDocument"]=!0))),e}normalizeContextIri(e,t){if(!u.Util.isValidIri(e)&&(e=i.resolve(e,t),!u.Util.isValidIri(e)))throw new Error("Invalid context IRI: "+e);return this.redirectSchemaOrgHttps&&e.startsWith("http://schema.org")&&(e="https://schema.org/"),e}parseInnerContexts(e,t){return n(this,void 0,void 0,(function*(){for(const n of Object.keys(e)){const i=e[n];if(i&&"object"===typeof i&&"@context"in i&&null!==i["@context"]){if(this.validateContext)try{const r=Object.assign({},e);r[n]=Object.assign({},r[n]),delete r[n]["@context"],yield this.parse(i["@context"],Object.assign(Object.assign({},t),{parentContext:r,ignoreProtection:!0,ignoreRemoteScopedContexts:!0}))}catch(r){throw new a.ErrorCoded(r.message,a.ERROR_CODES.INVALID_SCOPED_CONTEXT)}i["@context"]=(yield this.parse(i["@context"],Object.assign(Object.assign({},t),{minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:e}))).getContextRaw()}}return e}))}parse(e,r={processingMode:l.DEFAULT_PROCESSING_MODE}){return n(this,void 0,void 0,(function*(){const{baseIRI:n,parentContext:i,external:o,processingMode:c,normalizeLanguageTags:d,ignoreProtection:f,minimalProcessing:h}=r;let p=i;const y=r.remoteContexts||{};if(Object.keys(y).length>=this.remoteContextsDepthLimit)throw new a.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(y),a.ERROR_CODES.CONTEXT_OVERFLOW);if(null===e||void 0===e){if(!f&&p&&u.Util.hasProtectedTerms(p))throw new a.ErrorCoded("Illegal context nullification when terms are protected",a.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new s.JsonLdContextNormalized(this.applyBaseEntry({},r,!1))}if("string"===typeof e){const t=this.normalizeContextIri(e,n),i=this.getOverriddenLoad(t,r);if(i)return new s.JsonLdContextNormalized(i);const a=yield this.parse(yield this.load(t),Object.assign(Object.assign({},r),{baseIRI:t,external:!0,remoteContexts:Object.assign(Object.assign({},y),{[t]:!0})}));return this.applyBaseEntry(a.getContextRaw(),r,!0),a}if(Array.isArray(e)){const t=[],i=yield Promise.all(e.map((e,i)=>{if("string"===typeof e){const a=this.normalizeContextIri(e,n);t[i]=a;const o=this.getOverriddenLoad(a,r);return o||this.load(a)}return e}));if(h)return new s.JsonLdContextNormalized(i);const a=yield i.reduce((e,n,i)=>e.then(e=>this.parse(n,Object.assign(Object.assign({},r),{baseIRI:t[i]||r.baseIRI,external:!!t[i]||r.external,parentContext:e.getContextRaw(),remoteContexts:t[i]?Object.assign(Object.assign({},y),{[t[i]]:!0}):y}))),Promise.resolve(new s.JsonLdContextNormalized(p||{})));return this.applyBaseEntry(a.getContextRaw(),r,!0),a}if("object"===typeof e){if("@context"in e)return yield this.parse(e["@context"],r);e=JSON.parse(JSON.stringify(e)),p&&(p=JSON.parse(JSON.stringify(p)));let i={};if(o&&delete e["@base"],this.applyBaseEntry(e,r,!0),this.containersToHash(e),h)return new s.JsonLdContextNormalized(e);let u={};if("@import"in e){if(!(c&&c>=1.1))throw new a.ErrorCoded("Context importing is not supported in JSON-LD 1.0",a.ERROR_CODES.INVALID_CONTEXT_ENTRY);if("string"!==typeof e["@import"])throw new a.ErrorCoded("An @import value must be a string, but got "+typeof e["@import"],a.ERROR_CODES.INVALID_IMPORT_VALUE);u=yield this.loadImportContext(this.normalizeContextIri(e["@import"],n)),delete e["@import"]}i=Object.assign(Object.assign(Object.assign(Object.assign({},i),p),u),e);const y=new s.JsonLdContextNormalized(i);return yield this.parseInnerContexts(i,r),!f&&p&&c&&c>=1.1&&this.validateKeywordRedefinitions(p,i,t.defaultExpandOptions),(i&&i["@version"]||c||l.DEFAULT_PROCESSING_MODE)>=1.1&&(e["@vocab"]&&"string"===typeof e["@vocab"]||""===e["@vocab"])&&e["@vocab"].indexOf(":")<0&&p&&"@vocab"in p&&(i["@vocab"]=p["@vocab"]+e["@vocab"]),this.idifyReverseTerms(i),this.expandPrefixedTerms(y,this.expandContentTypeToBase),this.normalize(i,{processingMode:c,normalizeLanguageTags:d}),this.applyScopedProtected(i,{processingMode:c}),this.validateContext&&this.validate(i,{processingMode:c}),y}throw new a.ErrorCoded("Tried parsing a context that is not a string, array or object, but got "+e,a.ERROR_CODES.INVALID_LOCAL_CONTEXT)}))}load(e){return n(this,void 0,void 0,(function*(){const t=this.documentCache[e];if(t)return"string"===typeof t?t:Array.isArray(t)?t.slice():Object.assign({},t);let r;try{r=yield this.documentLoader.load(e)}catch(n){throw new a.ErrorCoded(`Failed to load remote context ${e}: ${n.message}`,a.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in r))throw new a.ErrorCoded("Missing @context in remote context at "+e,a.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[e]=r["@context"]}))}getOverriddenLoad(e,t){if(e in(t.remoteContexts||{})){if(t.ignoreRemoteScopedContexts)return e;throw new a.ErrorCoded("Detected a cyclic context inclusion of "+e,a.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}loadImportContext(e){return n(this,void 0,void 0,(function*(){const t=yield this.load(e);if("object"!==typeof t||Array.isArray(t))throw new a.ErrorCoded("An imported context must be a single object: "+e,a.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in t)throw new a.ErrorCoded("An imported context can not import another context: "+e,a.ERROR_CODES.INVALID_CONTEXT_ENTRY);return t}))}}t.ContextParser=l,l.DEFAULT_PROCESSING_MODE=1.1,t.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},"50ca":function(e,t,r){"use strict";const n=r("5950"),{isArray:i,isObject:a,isEmptyObject:o,isString:s,isUndefined:u}=r("68fa"),{isList:c,isValue:l,isGraph:d,isSubject:f}=r("c92f"),{expandIri:h,getContextValue:p,isKeyword:y,process:g,processingMode:v}=r("d1e70"),{isAbsolute:m}=r("ddd7"),{addValue:b,asArray:w,getValues:_,validateTypeValue:x}=r("89ae"),E={};e.exports=E;const T=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;async function O({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:d,expandedParent:_,options:S={},insideList:R,typeKey:k,typeScopedContext:j,expansionMap:A}){const C=Object.keys(d).sort(),D=[];let P;const L=d[k]&&"@json"===h(e,i(d[k])?d[k][0]:d[k],{vocab:!0},S);for(const O of C){let k,C=d[O];if("@context"===O)continue;let F=h(e,O,{vocab:!0},S);if((null===F||!m(F)&&!y(F))&&(F=A({unmappedProperty:O,activeCtx:e,activeProperty:t,parent:d,options:S,insideList:R,value:C,expandedParent:_}),void 0===F))continue;if(y(F)){if("@reverse"===r)throw new n("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:C});if(F in _&&"@included"!==F&&"@type"!==F)throw new n("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:F})}if("@id"===F){if(!s(C)){if(!S.isFrame)throw new n('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:C});if(a(C)){if(!o(C))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:C})}else{if(!i(C))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:C});if(!C.every(e=>s(e)))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:C})}}b(_,"@id",w(C).map(t=>s(t)?h(e,t,{base:!0},S):t),{propertyIsArray:S.isFrame});continue}if("@type"===F){a(C)&&(C=Object.fromEntries(Object.entries(C).map(([e,t])=>[h(j,e,{vocab:!0}),w(t).map(e=>h(j,e,{base:!0,vocab:!0}))]))),x(C,S.isFrame),b(_,"@type",w(C).map(e=>s(e)?h(j,e,{base:!0,vocab:!0},S):e),{propertyIsArray:S.isFrame});continue}if("@included"===F&&v(e,1.1)){const r=w(await E.expand({activeCtx:e,activeProperty:t,element:C,options:S,expansionMap:A}));if(!r.every(e=>f(e)))throw new n("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:C});b(_,"@included",r,{propertyIsArray:!0});continue}if("@graph"===F&&!a(C)&&!i(C))throw new n('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:C});if("@value"===F){P=C,L&&v(e,1.1)?_["@value"]=C:b(_,"@value",C,{propertyIsArray:S.isFrame});continue}if("@language"===F){if(null===C)continue;if(!s(C)&&!S.isFrame)throw new n('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:C});C=w(C).map(e=>s(e)?e.toLowerCase():e);for(const e of C)s(e)&&!e.match(T)&&console.warn("@language must be valid BCP47: "+e);b(_,"@language",C,{propertyIsArray:S.isFrame});continue}if("@direction"===F){if(!s(C)&&!S.isFrame)throw new n('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:C});C=w(C);for(const e of C)if(s(e)&&"ltr"!==e&&"rtl"!==e)throw new n('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:C});b(_,"@direction",C,{propertyIsArray:S.isFrame});continue}if("@index"===F){if(!s(C))throw new n('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:C});b(_,"@index",C);continue}if("@reverse"===F){if(!a(C))throw new n('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:C});if(k=await E.expand({activeCtx:e,activeProperty:"@reverse",element:C,options:S,expansionMap:A}),"@reverse"in k)for(const e in k["@reverse"])b(_,e,k["@reverse"][e],{propertyIsArray:!0});let t=_["@reverse"]||null;for(const e in k){if("@reverse"===e)continue;null===t&&(t=_["@reverse"]={}),b(t,e,[],{propertyIsArray:!0});const r=k[e];for(let i=0;i<r.length;++i){const a=r[i];if(l(a)||c(a))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:k});b(t,e,a,{propertyIsArray:!0})}}continue}if("@nest"===F){D.push(O);continue}let M=e;const U=p(e,O,"@context");u(U)||(M=await g({activeCtx:e,localCtx:U,propagate:!0,overrideProtected:!0,options:S}));const B=p(M,O,"@container")||[];if(B.includes("@language")&&a(C)){const e=p(M,O,"@direction");k=N(M,C,e,S)}else if(B.includes("@index")&&a(C)){const t=B.includes("@graph"),r=p(M,O,"@index")||"@index",n="@index"!==r&&h(e,r,{vocab:!0},S);k=await I({activeCtx:M,options:S,activeProperty:O,value:C,expansionMap:A,asGraph:t,indexKey:r,propertyIndex:n})}else if(B.includes("@id")&&a(C)){const e=B.includes("@graph");k=await I({activeCtx:M,options:S,activeProperty:O,value:C,expansionMap:A,asGraph:e,indexKey:"@id"})}else if(B.includes("@type")&&a(C))k=await I({activeCtx:M.revertToPreviousContext(),options:S,activeProperty:O,value:C,expansionMap:A,asGraph:!1,indexKey:"@type"});else{const n="@list"===F;if(n||"@set"===F){let e=t;n&&"@graph"===r&&(e=null),k=await E.expand({activeCtx:M,activeProperty:e,element:C,options:S,insideList:n,expansionMap:A})}else k="@json"===p(e,O,"@type")?{"@type":"@json","@value":C}:await E.expand({activeCtx:M,activeProperty:O,element:C,options:S,insideList:!1,expansionMap:A})}if(null!==k||"@value"===F||(k=A({unmappedValue:C,expandedProperty:F,activeCtx:M,activeProperty:t,parent:d,options:S,insideList:R,key:O,expandedParent:_}),void 0!==k))if("@list"!==F&&!c(k)&&B.includes("@list")&&(k={"@list":w(k)}),B.includes("@graph")&&!B.some(e=>"@id"===e||"@index"===e)&&(k=w(k).map(e=>({"@graph":w(e)}))),M.mappings.has(O)&&M.mappings.get(O).reverse){const e=_["@reverse"]=_["@reverse"]||{};k=w(k);for(let t=0;t<k.length;++t){const r=k[t];if(l(r)||c(r))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:k});b(e,F,r,{propertyIsArray:!0})}}else b(_,F,k,{propertyIsArray:!0})}if("@value"in _)if("@json"===_["@type"]&&v(e,1.1));else if((a(P)||i(P))&&!S.isFrame)throw new n('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:P});for(const o of D){const s=i(d[o])?d[o]:[d[o]];for(const i of s){if(!a(i)||Object.keys(i).some(t=>"@value"===h(e,t,{vocab:!0},S)))throw new n("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:i});await O({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:i,expandedParent:_,options:S,insideList:R,typeScopedContext:j,typeKey:k,expansionMap:A})}}}function S({activeCtx:e,activeProperty:t,value:r,options:n}){if(null===r||void 0===r)return null;const i=h(e,t,{vocab:!0},n);if("@id"===i)return h(e,r,{base:!0},n);if("@type"===i)return h(e,r,{vocab:!0,base:!0},n);const a=p(e,t,"@type");if(("@id"===a||"@graph"===i)&&s(r))return{"@id":h(e,r,{base:!0},n)};if("@vocab"===a&&s(r))return{"@id":h(e,r,{vocab:!0,base:!0},n)};if(y(i))return r;const o={};if(a&&!["@id","@vocab","@none"].includes(a))o["@type"]=a;else if(s(r)){const r=p(e,t,"@language");null!==r&&(o["@language"]=r);const n=p(e,t,"@direction");null!==n&&(o["@direction"]=n)}return["boolean","number","string"].includes(typeof r)||(r=r.toString()),o["@value"]=r,o}function N(e,t,r,a){const o=[],u=Object.keys(t).sort();for(const c of u){const u=h(e,c,{vocab:!0},a);let l=t[c];i(l)||(l=[l]);for(const e of l){if(null===e)continue;if(!s(e))throw new n("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const i={"@value":e};"@none"!==u&&(i["@language"]=c.toLowerCase()),r&&(i["@direction"]=r),o.push(i)}}return o}async function I({activeCtx:e,options:t,activeProperty:r,value:a,expansionMap:o,asGraph:s,indexKey:c,propertyIndex:f}){const y=[],v=Object.keys(a).sort(),m="@type"===c;for(let w of v){if(m){const r=p(e,w,"@context");u(r)||(e=await g({activeCtx:e,localCtx:r,propagate:!1,options:t}))}let v,_=a[w];i(_)||(_=[_]),_=await E.expand({activeCtx:e,activeProperty:r,element:_,options:t,insideList:!1,insideIndex:!0,expansionMap:o}),v=f?"@none"===w?"@none":S({activeCtx:e,activeProperty:c,value:w,options:t}):h(e,w,{vocab:!0},t),"@id"===c?w=h(e,w,{base:!0},t):m&&(w=v);for(let e of _){if(s&&!d(e)&&(e={"@graph":[e]}),"@type"===c)"@none"===v||(e["@type"]?e["@type"]=[w].concat(e["@type"]):e["@type"]=[w]);else{if(l(e)&&!["@language","@type","@index"].includes(c))throw new n(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${c}".`,"jsonld.SyntaxError",{code:"invalid value object",value:e});f?"@none"!==v&&b(e,f,v,{propertyIsArray:!0,prependValue:!0}):"@none"===v||c in e||(e[c]=w)}y.push(e)}}return y}E.expand=async({activeCtx:e,activeProperty:t=null,element:r,options:c={},insideList:l=!1,insideIndex:d=!1,typeScopedContext:f=null,expansionMap:y=(()=>{})})=>{if(null===r||void 0===r)return null;if("@default"===t&&(c=Object.assign({},c,{isFrame:!1})),!i(r)&&!a(r)){if(!l&&(null===t||"@graph"===h(e,t,{vocab:!0},c))){const n=await y({unmappedValue:r,activeCtx:e,activeProperty:t,options:c,insideList:l});return void 0===n?null:n}return S({activeCtx:e,activeProperty:t,value:r,options:c})}if(i(r)){let n=[];const a=p(e,t,"@container")||[];l=l||a.includes("@list");for(let o=0;o<r.length;++o){let a=await E.expand({activeCtx:e,activeProperty:t,element:r[o],options:c,expansionMap:y,insideIndex:d,typeScopedContext:f});l&&i(a)&&(a={"@list":a}),null===a&&(a=await y({unmappedValue:r[o],activeCtx:e,activeProperty:t,parent:r,index:o,options:c,expandedParent:n,insideList:l}),void 0===a)||(i(a)?n=n.concat(a):n.push(a))}return n}const b=h(e,t,{vocab:!0},c),x=p(e,t,"@context");f=f||(e.previousContext?e:null);let T=Object.keys(r).sort(),N=!d;if(N&&f&&T.length<=2&&!T.includes("@context"))for(const n of T){const t=h(f,n,{vocab:!0},c);if("@value"===t){N=!1,e=f;break}if("@id"===t&&1===T.length){N=!1;break}}N&&(e=e.revertToPreviousContext()),u(x)||(e=await g({activeCtx:e,localCtx:x,propagate:!0,overrideProtected:!0,options:c})),"@context"in r&&(e=await g({activeCtx:e,localCtx:r["@context"],options:c})),f=e;let I=null;for(const n of T){const t=h(e,n,{vocab:!0},c);if("@type"===t){I=I||n;const t=r[n],i=Array.isArray(t)?t.length>1?t.slice().sort():t:[t];for(const r of i){const t=p(f,r,"@context");u(t)||(e=await g({activeCtx:e,localCtx:t,options:c,propagate:!1}))}}}let R={};await O({activeCtx:e,activeProperty:t,expandedActiveProperty:b,element:r,expandedParent:R,options:c,insideList:l,typeKey:I,typeScopedContext:f,expansionMap:y}),T=Object.keys(R);let k=T.length;if("@value"in R){if("@type"in R&&("@language"in R||"@direction"in R))throw new n('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:R});let i=k-1;if("@type"in R&&(i-=1),"@index"in R&&(i-=1),"@language"in R&&(i-=1),"@direction"in R&&(i-=1),0!==i)throw new n('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:R});const a=null===R["@value"]?[]:w(R["@value"]),u=_(R,"@type");if(v(e,1.1)&&u.includes("@json")&&1===u.length);else if(0===a.length){const n=await y({unmappedValue:R,activeCtx:e,activeProperty:t,element:r,options:c,insideList:l});R=void 0!==n?n:null}else{if(!a.every(e=>s(e)||o(e))&&"@language"in R)throw new n("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:R});if(!u.every(e=>m(e)&&!(s(e)&&0===e.indexOf("_:"))||o(e)))throw new n('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:R})}}else if("@type"in R&&!i(R["@type"]))R["@type"]=[R["@type"]];else if("@set"in R||"@list"in R){if(k>1&&(2!==k||!("@index"in R)))throw new n('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:R});"@set"in R&&(R=R["@set"],T=Object.keys(R),k=T.length)}else if(1===k&&"@language"in R){const n=await y(R,{unmappedValue:R,activeCtx:e,activeProperty:t,element:r,options:c,insideList:l});R=void 0!==n?n:null}if(a(R)&&!c.keepFreeFloatingNodes&&!l&&(null===t||"@graph"===b)&&(0===k||"@value"in R||"@list"in R||1===k&&"@id"in R)){const n=await y({unmappedValue:R,activeCtx:e,activeProperty:t,element:r,options:c,insideList:l});R=void 0!==n?n:null}return R}},5125:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r("b1e9"),a=n(r("33e3")),o=n(r("491a")),s=r("ab32");a.default.fromValue=i.fromValue;var u=a.default;t.default=u;var c={xsd:(0,o.default)("http://www.w3.org/2001/XMLSchema#")};a.default.toJS=function(e){return(0,s.isCollection)(e)?e.elements.map(a.default.toJS):(0,s.isLiteral)(e)?e.datatype.equals(c.xsd("boolean"))?"1"===e.value||"true"===e.value:e.datatype.equals(c.xsd("dateTime"))||e.datatype.equals(c.xsd("date"))?new Date(e.value):e.datatype.equals(c.xsd("integer"))||e.datatype.equals(c.xsd("float"))||e.datatype.equals(c.xsd("decimal"))?Number(e.value):e.value:e}},5189:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const n=r("d63e3");Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return n.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return n.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return n.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return n.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return n.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return n.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return n.termToString}})},"51b7":function(e,t){class r{constructor(){return n||this}equals(e){return e&&this.termType===e.termType}}Object.defineProperty(r.prototype,"value",{enumerable:!0,value:"*"}),Object.defineProperty(r.prototype,"termType",{enumerable:!0,value:"Wildcard"});var n=new r;e.exports.Wildcard=r},"56af":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_CODES=t.ErrorCoded=void 0;class n extends Error{constructor(e,t){super(e),this.code=t}}t.ErrorCoded=n,function(e){e["COLLIDING_KEYWORDS"]="colliding keywords",e["CONFLICTING_INDEXES"]="conflicting indexes",e["CYCLIC_IRI_MAPPING"]="cyclic IRI mapping",e["INVALID_ID_VALUE"]="invalid @id value",e["INVALID_INDEX_VALUE"]="invalid @index value",e["INVALID_NEST_VALUE"]="invalid @nest value",e["INVALID_PREFIX_VALUE"]="invalid @prefix value",e["INVALID_PROPAGATE_VALUE"]="invalid @propagate value",e["INVALID_REVERSE_VALUE"]="invalid @reverse value",e["INVALID_IMPORT_VALUE"]="invalid @import value",e["INVALID_VERSION_VALUE"]="invalid @version value",e["INVALID_BASE_IRI"]="invalid base IRI",e["INVALID_CONTAINER_MAPPING"]="invalid container mapping",e["INVALID_CONTEXT_ENTRY"]="invalid context entry",e["INVALID_CONTEXT_NULLIFICATION"]="invalid context nullification",e["INVALID_DEFAULT_LANGUAGE"]="invalid default language",e["INVALID_INCLUDED_VALUE"]="invalid @included value",e["INVALID_IRI_MAPPING"]="invalid IRI mapping",e["INVALID_JSON_LITERAL"]="invalid JSON literal",e["INVALID_KEYWORD_ALIAS"]="invalid keyword alias",e["INVALID_LANGUAGE_MAP_VALUE"]="invalid language map value",e["INVALID_LANGUAGE_MAPPING"]="invalid language mapping",e["INVALID_LANGUAGE_TAGGED_STRING"]="invalid language-tagged string",e["INVALID_LANGUAGE_TAGGED_VALUE"]="invalid language-tagged value",e["INVALID_LOCAL_CONTEXT"]="invalid local context",e["INVALID_REMOTE_CONTEXT"]="invalid remote context",e["INVALID_REVERSE_PROPERTY"]="invalid reverse property",e["INVALID_REVERSE_PROPERTY_MAP"]="invalid reverse property map",e["INVALID_REVERSE_PROPERTY_VALUE"]="invalid reverse property value",e["INVALID_SCOPED_CONTEXT"]="invalid scoped context",e["INVALID_SCRIPT_ELEMENT"]="invalid script element",e["INVALID_SET_OR_LIST_OBJECT"]="invalid set or list object",e["INVALID_TERM_DEFINITION"]="invalid term definition",e["INVALID_TYPE_MAPPING"]="invalid type mapping",e["INVALID_TYPE_VALUE"]="invalid type value",e["INVALID_TYPED_VALUE"]="invalid typed value",e["INVALID_VALUE_OBJECT"]="invalid value object",e["INVALID_VALUE_OBJECT_VALUE"]="invalid value object value",e["INVALID_VOCAB_MAPPING"]="invalid vocab mapping",e["IRI_CONFUSED_WITH_PREFIX"]="IRI confused with prefix",e["KEYWORD_REDEFINITION"]="keyword redefinition",e["LOADING_DOCUMENT_FAILED"]="loading document failed",e["LOADING_REMOTE_CONTEXT_FAILED"]="loading remote context failed",e["MULTIPLE_CONTEXT_LINK_HEADERS"]="multiple context link headers",e["PROCESSING_MODE_CONFLICT"]="processing mode conflict",e["PROTECTED_TERM_REDEFINITION"]="protected term redefinition",e["CONTEXT_OVERFLOW"]="context overflow",e["INVALID_BASE_DIRECTION"]="invalid base direction",e["RECURSIVE_CONTEXT_INCLUSION"]="recursive context inclusion",e["INVALID_STREAMING_KEY_ORDER"]="invalid streaming key order"}(t.ERROR_CODES||(t.ERROR_CODES={}))},5727:function(e,t,r){"use strict";e.exports=function e(t){return null===t||"object"!==typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((t,r,n)=>{const i=0===n?"":",",a=void 0===r||"symbol"===typeof r?null:r;return t+i+e(a)},"")+"]":"{"+Object.keys(t).sort().reduce((r,n,i)=>{if(void 0===t[n]||"symbol"===typeof t[n])return r;const a=0===r.length?"":",";return r+a+e(n)+":"+e(t[n])},"")+"}"}},5950:function(e,t,r){"use strict";e.exports=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",r={}){super(e),this.name=t,this.message=e,this.details=r}}},"5a76":function(e,t,r){"use strict";r("60174");const n=self.crypto||self.msCrypto;e.exports=class{constructor(e){if(!n||!n.subtle)throw new Error("crypto.subtle not found.");if("sha256"===e)this.algorithm={name:"SHA-256"};else{if("sha1"!==e)throw new Error(`Unsupport algorithm "${e}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(e){this._content+=e}async digest(){const e=(new TextEncoder).encode(this._content),t=new Uint8Array(await n.subtle.digest(this.algorithm,e));let r="";for(let n=0;n<t.length;++n)r+=t[n].toString(16).padStart(2,"0");return r}}},"5afa":function(e,t,r){var n=r("11a8");function i(e,t,r){this.value=e,this.datatype=i.stringDatatype,this.language="",t?(this.language=t,this.datatype=i.langStringDatatype):r&&(this.datatype=r)}i.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)},i.prototype.termType="Literal",i.langStringDatatype=new n("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.stringDatatype=new n("http://www.w3.org/2001/XMLSchema#string"),e.exports=i},"5bc3":function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},"5bc9":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=void 0;class n{static isCompactIri(e){return e.indexOf(":")>0&&!(e&&"#"===e[0])}static getPrefix(e,t){if(e&&"#"===e[0])return null;const r=e.indexOf(":");if(r>=0){if(e.length>r+1&&"/"===e.charAt(r+1)&&"/"===e.charAt(r+2))return null;const n=e.substr(0,r);if("_"===n)return null;if(t[n])return n}return null}static getContextValueId(e){if(null===e||"string"===typeof e)return e;const t=e["@id"];return t||null}static isSimpleTermDefinitionPrefix(e,t){return!n.isPotentialKeyword(e)&&("_"===e[0]||t.allowPrefixNonGenDelims||n.isPrefixIriEndingWithGenDelim(e))}static isPotentialKeyword(e){return"string"===typeof e&&n.KEYWORD_REGEX.test(e)}static isPrefixIriEndingWithGenDelim(e){return n.ENDS_WITH_GEN_DELIM.test(e)}static isPrefixValue(e){return e&&("string"===typeof e||e&&"object"===typeof e)}static isValidIri(e){return n.IRI_REGEX.test(e)}static isValidIriWeak(e){return!!e&&":"!==e[0]&&n.IRI_REGEX_WEAK.test(e)}static isValidKeyword(e){return n.VALID_KEYWORDS[e]}static isTermProtected(e,t){const r=e[t];return!("string"===typeof r)&&r&&r["@protected"]}static hasProtectedTerms(e){for(const t of Object.keys(e))if(n.isTermProtected(e,t))return!0;return!1}static isReservedInternalKeyword(e){return e.startsWith("@__")}}t.Util=n,n.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,n.IRI_REGEX_WEAK=/(?::[^:])|\//,n.KEYWORD_REGEX=/^@[a-z]+$/i,n.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,n.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,n.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,n.VALID_KEYWORDS={"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},n.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],n.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],n.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],n.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],n.CONTAINERS_1_0=["@list","@set","@index"]},"5c0f":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.defaultGraphNode=t.defaultGraphURI=void 0;var i=n(r("606c")),a="chrome:theSession";t.defaultGraphURI=a;var o=new i.default(a);t.defaultGraphNode=o},"5c90":function(e,t,r){"use strict";var n=r("ad69").codes.ERR_STREAM_PREMATURE_CLOSE;function i(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function a(){}function o(e){return e.setHeader&&"function"===typeof e.abort}function s(e,t,r){if("function"===typeof t)return s(e,null,t);t||(t={}),r=i(r||a);var u=t.readable||!1!==t.readable&&e.readable,c=t.writable||!1!==t.writable&&e.writable,l=function(){e.writable||f()},d=e._writableState&&e._writableState.finished,f=function(){c=!1,d=!0,u||r.call(e)},h=e._readableState&&e._readableState.endEmitted,p=function(){u=!1,h=!0,c||r.call(e)},y=function(t){r.call(e,t)},g=function(){var t;return u&&!h?(e._readableState&&e._readableState.ended||(t=new n),r.call(e,t)):c&&!d?(e._writableState&&e._writableState.ended||(t=new n),r.call(e,t)):void 0},v=function(){e.req.on("finish",f)};return o(e)?(e.on("complete",f),e.on("abort",g),e.req?v():e.on("request",v)):c&&!e._writableState&&(e.on("end",l),e.on("close",l)),e.on("end",p),e.on("finish",f),!1!==t.error&&e.on("error",y),e.on("close",g),function(){e.removeListener("complete",f),e.removeListener("abort",g),e.removeListener("request",v),e.req&&e.req.removeListener("finish",f),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",f),e.removeListener("end",p),e.removeListener("error",y),e.removeListener("close",g)}}e.exports=s},"5cf7":function(e,t,r){"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"===typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r){var n=t===e.head?new s(r,null,t,e):new s(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function a(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function o(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,r,n){if(!(this instanceof s))return new s(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=s,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,a=this.head;null!==a&&i<e;i++)a=a.next;for(;null!==a&&i<t;i++,a=a.next)r.push(a.value);return r},n.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,a=this.tail;null!==a&&i>t;i--)a=a.prev;for(;null!==a&&i>e;i--,a=a.prev)r.push(a.value);return r},n.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,n=this.head;null!==n&&r<e;r++)n=n.next;var a=[];for(r=0;n&&r<t;r++)a.push(n.value),n=this.removeNode(n);null===n&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(r=2;r<arguments.length;r++)n=i(this,n,arguments[r]);return a},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r("1f03")(n)}catch(u){}},"5d61":function(e,t){var r="undefined"!==typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();(function(e){(function(t){var r={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};function n(e){return e&&DataView.prototype.isPrototypeOf(e)}if(r.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};function o(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function s(e){return"string"!==typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r.iterable&&(t[Symbol.iterator]=function(){return t}),t}function c(e){this.map={},e instanceof c?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function l(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function f(e){var t=new FileReader,r=d(t);return t.readAsArrayBuffer(e),r}function h(e){var t=new FileReader,r=d(t);return t.readAsText(e),r}function p(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:r.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:r.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():r.arrayBuffer&&r.blob&&n(e)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return h(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(p(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(e,t){e=o(e),t=s(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},c.prototype["delete"]=function(e){delete this.map[o(e)]},c.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},c.prototype.set=function(e,t){this.map[o(e)]=s(t)},c.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},c.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),u(e)},c.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),u(e)},c.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),u(e)},r.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e){var t=e.toUpperCase();return v.indexOf(t)>-1?t:e}function b(e,t){t=t||{};var r=t.body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=m(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function _(e){var t=new c,r=e.replace(/\r?\n[\t ]+/g," ");return r.split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t}function x(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},g.call(b.prototype),g.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},x.error=function(){var e=new x(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];x.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new x(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(O){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function T(e,n){return new Promise((function(i,a){var o=new b(e,n);if(o.signal&&o.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:_(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;i(new x(t,e))},s.onerror=function(){a(new TypeError("Network request failed"))},s.ontimeout=function(){a(new TypeError("Network request failed"))},s.onabort=function(){a(new t.DOMException("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&r.blob&&(s.responseType="blob"),o.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",u)}),s.send("undefined"===typeof o._bodyInit?null:o._bodyInit)}))}T.polyfill=!0,e.fetch||(e.fetch=T,e.Headers=c,e.Request=b,e.Response=x),t.Headers=c,t.Request=b,t.Response=x,t.fetch=T,Object.defineProperty(t,"__esModule",{value:!0})})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},"600b":function(e,t,r){"use strict";r.r(t),r.d(t,"AsyncIteratorHandler",(function(){return s})),r.d(t,"DataHandler",(function(){return u})),r.d(t,"DeleteFunctionHandler",(function(){return B})),r.d(t,"ExecuteQueryHandler",(function(){return q})),r.d(t,"InsertFunctionHandler",(function(){return V})),r.d(t,"JSONLDResolver",(function(){return z})),r.d(t,"MutationExpressionsHandler",(function(){return Q})),r.d(t,"MutationFunctionHandler",(function(){return U})),r.d(t,"PathExpressionHandler",(function(){return J})),r.d(t,"PathFactory",(function(){return Ne})),r.d(t,"PathProxy",(function(){return X})),r.d(t,"PredicateHandler",(function(){return te})),r.d(t,"PredicatesHandler",(function(){return re})),r.d(t,"PreloadHandler",(function(){return ae})),r.d(t,"PropertiesHandler",(function(){return se})),r.d(t,"ReplaceFunctionHandler",(function(){return ue})),r.d(t,"SetFunctionHandler",(function(){return ce})),r.d(t,"SortHandler",(function(){return le})),r.d(t,"SparqlHandler",(function(){return pe})),r.d(t,"StringToLDflexHandler",(function(){return me})),r.d(t,"SubjectHandler",(function(){return be})),r.d(t,"SubjectsHandler",(function(){return we})),r.d(t,"ThenHandler",(function(){return _e})),r.d(t,"ToArrayHandler",(function(){return xe})),r.d(t,"defaultHandlers",(function(){return Ee})),r.d(t,"getFirstItem",(function(){return a})),r.d(t,"getThen",(function(){return l})),r.d(t,"iteratorFor",(function(){return o})),r.d(t,"lazyThenable",(function(){return c})),r.d(t,"toIterablePromise",(function(){return d})),r.d(t,"isPlainObject",(function(){return C})),r.d(t,"hasPlainObjectArgs",(function(){return D})),r.d(t,"valueToTerm",(function(){return F})),r.d(t,"termToPrimitive",(function(){return M}));const n={};async function i(e){const t=[];for await(const r of e)t.push(r);return t}function a(e){const t=e[Symbol.asyncIterator]();return t.next().then(e=>e.value)}function o(e){return{async next(){if(e!==n){const t=await e;return e=n,{value:t}}return{done:!0}}}}class s{handle({subject:e},t){return e?()=>o(t.subject):()=>t.results[Symbol.asyncIterator]()}}class u{constructor(e,...t){this._isAsync=e.async,this._isFunction=e.function,this._dataProperties=t}static sync(...e){return new u({async:!1},...e)}static syncFunction(...e){return new u({async:!1,function:!0},...e)}static async(...e){return new u({async:!0},...e)}static asyncFunction(...e){return new u({async:!0,function:!0},...e)}handle(e){return this._isFunction?()=>this._resolveDataPath(e):this._resolveDataPath(e)}_resolveDataPath(e){return this._isAsync?this._resolveAsyncDataPath(e):this._resolveSyncDataPath(e)}_resolveSyncDataPath(e){for(const t of this._dataProperties)e=e&&e[t];return e}async _resolveAsyncDataPath(e){for(const t of this._dataProperties)e=e&&await e[t];return e}}function c(e){return{then:l(e)}}function l(e){return(t,r)=>e().then(t,r)}function d(e){return"function"===typeof e&&(e=f(e())),{[Symbol.asyncIterator](){return e[Symbol.asyncIterator]()},get then(){return l(()=>a(this))},catch(e){return this.then(null,e)},finally(e){return this.then().finally(e)}}}function f(e){const t=[];let r=e[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){let e=0;return{async next(){if(e<t.length)return t[e++];if(!r)return{done:!0};const n=t[e++]=r.next();return(await n).done&&(r=null),n}}}}}var h=r("9b92");const p="http://www.w3.org/2001/XMLSchema#",y=p+"boolean",g=p+"dateTime",v=p+"decimal",m=p+"double",b=p+"float",w=p+"integer",_=Object(h["namedNode"])(y),x=Object(h["namedNode"])(g),E=Object(h["namedNode"])(v),T=Object(h["namedNode"])(m),O=Object(h["namedNode"])(w),S=Object(h["literal"])("true",_),N=Object(h["literal"])("false",_),I=Object(h["literal"])("NaN",T),R=Object(h["literal"])("INF",T),k=Object(h["literal"])("-INF",T),j={NaN:NaN,INF:1/0,"-INF":-1/0};function A(e){return e&&"function"===typeof e[Symbol.asyncIterator]}function C(e){return null!==e&&"object"===typeof e&&!Array.isArray(e)&&!(e instanceof Date)&&"function"!==typeof e.then&&"string"!==typeof e.termType&&!A(e)}function D(e,t=!1){const r=e.some(C);if(r&&!t&&1!==e.length)throw new Error(`Expected only 1 plain object, but got ${e.length} arguments`);return r}function P(e){return Array.isArray(e)?e:e?[e]:[]}function L(e){return[].concat(...e)}function F(e){switch(typeof e){case"string":return Object(h["literal"])(e);case"boolean":return e?S:N;case"number":return Number.isInteger(e)?Object(h["literal"])(e.toString(),O):Number.isFinite(e)?Object(h["literal"])(e.toString(),E):e===1/0?R:e===-1/0?k:I;default:if(e){if("string"===typeof e.termType)return e;if(e instanceof Date)return Object(h["literal"])(e.toISOString(),x)}}throw new Error("Invalid object: "+e)}function M(e){const{termType:t,value:r}=e;if("Literal"===t){const t=e.datatype.value;if(t.startsWith(p))switch(t){case y:return"true"===r||"1"===r;case w:return Number.parseInt(r,10);case v:return Number.parseFloat(r);case m:case b:return r in j?j[r]:Number.parseFloat(r);case g:return new Date(Date.parse(r));default:}}return r}class U{constructor(e,t){this._mutationType=e,this._allowZeroArgs=t}handle(e,t){return(...r)=>{if(!this._allowZeroArgs&&!r.length)throw new Error("Mutation cannot be invoked without arguments");const n=c(()=>this.createMutationExpressions(e,t,r));return e.extendPath({mutationExpressions:n})}}async createMutationExpressions(e,t,r){if(!D(r))return[await this.createMutationExpression(e,t,r)];const n=Object.entries(r[0]),i=await Promise.all(n.map(([r,n])=>this.createMutationExpression(e,t[r],P(n))));return[0===i.length?{}:{...i[0],predicateObjects:L(i.map(e=>e.predicateObjects))}]}async createMutationExpression(e,t,r){const n=await t.pathExpression;if(!Array.isArray(n))throw new Error(e+" has no pathExpression property");if(n.length<2)throw new Error(e+" should at least contain a subject and a predicate");const{predicate:i,reverse:a}=n[n.length-1];if(!i)throw new Error("Expected predicate in "+e);const o=await this.extractObjects(e,t,r);return null!==o&&0===o.length?{}:{mutationType:this._mutationType,conditions:n.slice(0,-1),predicateObjects:[{predicate:i,reverse:a,objects:o}]}}async extractObjects(e,t,r){if(0===r.length)return null;const n=[];for(const a of r)A(a)?n.push(...await i(a)):n.push(await a);return n.map(F)}}class B extends U{constructor(){super("DELETE",!0)}}class q{async*handle(e,t){const r=await e.resultsCache;if(r){for(const e of r)yield e;return}const{queryEngine:n}=e.settings;if(!n)throw new Error(e+" has no queryEngine setting");const i=await t.sparql;if(null===i||void 0===i)throw new Error(e+" has no sparql property");if(0!==i.length)for await(const a of n.execute(i))yield this.extractTerm(a,e)}extractTerm(e,t){if(1!==e.size)throw new Error("Only single-variable queries are supported");const r=e.values().next().value;return t.extendPath({subject:r},null)}}class V extends U{constructor(){super("INSERT",!1)}}var $=r("e6e5");class G{constructor(...e){this._context=Promise.resolve({}),this.extendContext(...e)}async extendContext(...e){await(this._context=this._context.then(({contextRaw:t})=>(new $["ContextParser"]).parse([t,...e])))}}class H{get _context(){return this._contextProvider._context}async extendContext(...e){await this._contextProvider.extendContext(...e)}constructor(e,...t){this._contextProvider=new G,e instanceof G?(this._contextProvider=e,this.extendContext(...t)):this.extendContext(e,...t)}supports(e){return"string"===typeof e}resolve(e,t){const r=c(()=>this.expandProperty(e)),n=c(()=>this._context.then(({contextRaw:t})=>t[e]&&t[e]["@reverse"])),i=this.getResultsCache(t,r,n),a={property:e,predicate:r,resultsCache:i,reverse:n,apply:this.apply};return t.extendPath(a)}apply(e,t,r){if(0===e.length){const{property:e}=t;throw new Error(`Specify at least one term when calling .${e}() on a path`)}return t.values=e.map(F),r}async expandProperty(e){return this.lookupProperty(e.replace(/^([a-z][a-z0-9]*)[_$]/i,"$1:"))}getResultsCache(e,t,r){let{propertyCache:n}=e;return n&&c(async()=>(n=!await r&&await n,n&&n[(await t).value]))}}class z extends H{async lookupProperty(e){const t=await this._context,r=t.expandTerm(e,!0);if(!$["Util"].isValidIri(r))throw new Error(`The JSON-LD context cannot expand the '${e}' property`);return Object(h["namedNode"])(r)}}class Q{async handle(e){const t=[];let r=e;while(r)r.mutationExpressions&&t.unshift(...await r.mutationExpressions),r=r.parent;return t}}class J{async handle(e){const t=[];let r=e;while(r.parent)r.predicate&&t.unshift({predicate:await r.predicate,reverse:await r.reverse,sort:r.sort,values:r.values}),r=r.parent;if(!r.subject)throw new Error("Expected root subject in "+r);const n=await r.subject;return t.unshift({subject:n}),t}}const W=Object.create(null);class X{constructor({handlers:e=W,resolvers:t=[]}={}){this._handlers=e,this._resolvers=t}createPath(e={},t){void 0===t&&([t,e]=[e,{}]);const{apply:r,...n}=t,i=r?Object.assign(o,n):n,a=new Proxy(i,this);function o(...e){return r(e,i,a)}if(i.proxy=a,i.settings=e,!i.extendPath){const t=this;i.extendPath=function r(n,i=this){return t.createPath(e,{parent:i,extendPath:r,...n})}}return a}get(e,t){const r=this._handlers[t];if(r&&"function"===typeof r.handle)return r.handle(e,e.proxy);for(const n of this._resolvers)if(n.supports(t))return n.resolve(t,e,e.proxy)}}var K=r("2d54");function Y(e){if("join"===e.type)return`${Y(e.left)}/${Y(e.right)}`;if("bgp"===e.type&&e.patterns.every(e=>"NamedNode"===e.predicate.termType)&&e.patterns.length>=0)return e.patterns.map(e=>`<${e.predicate.value}>`).join("/");if("path"===e.type){let t=Object(K["toSparql"])({type:"project",input:e});return t=t.replace(/^SELECT WHERE \{ \?[0-9a-z]+ \(|\) \?[0-9a-z]+\. \}$/gi,""),t}throw new Error("Unhandled algebra "+e.type)}class Z extends H{supports(e){return super.supports(e)&&/((^|[/|])[\^])|(([a-z:>)])[*+?])|([)>*+?]|[a-z]*[:][a-z]*)[|/]([<(^]|[a-z]*[:][a-z]*)|(((^[(<])|([)>]$)))/i.test(e)}async lookupProperty(e){const t=await this._context,r={};for(const a in t.contextRaw)"string"===typeof t.contextRaw[a]&&(r[a]=t.contextRaw[a]);let n;try{n=Object(K["translate"])(`SELECT ?s ?o WHERE { ?s ${e} ?o. }`,{prefixes:r})}catch(i){throw new Error(`The Complex Path Resolver cannot expand the '${e}' path`)}if("bgp"===n.input.type&&1===n.input.patterns.length&&"NamedNode"===n.input.patterns[0].predicate.termType)return Object(h["namedNode"])(n.input.patterns[0].predicate.value);try{return{termType:"path",value:Y(n.input)}}catch(i){throw new Error(`The Complex Path Resolver cannot expand the '${e}' path`)}}}class ee{handle(e,t){return(...e)=>this.readProperties(t,1===e.length?e[0]:e,!0)}async readProperties(e,t,r=!1){if(A(t)&&(t=await i(t)),Array.isArray(t)){const r=t.map(t=>this.readProperties(e,t));return Promise.all(r)}if(C(t)){const r=Object.keys(t);t=r.map(e=>t[e]||e);const n={},i=await this.readProperties(e,t);for(let e=0;e<r.length;e++)n[r[e]]=i[e];return n}const n=e[t];return r?[n]:n}}class te{handle(e){const{predicate:t}=e;return t?Promise.resolve(t).then(t=>e.extendPath({subject:t},null)):void 0}}class re{handle(e){return e.extendPath({distinct:!0,select:"?predicate",finalClause:e=>e+" ?predicate ?object.",property:e.property})}}const ne=/(SELECT\s+)(\?\S+)/,ie=/\}[^}]*$/;class ae{handle(e,t){return async(...r)=>{if(r.length>0){const n=await Promise.all(r.map(async e=>(await t[e].predicate).value));e.resultsCache=await this.createResultsCache(n,e,t)}return t}}async createResultsCache(e,t,r){const{query:n,vars:i,resultVar:a}=await this.createQuery(e,r),{settings:{queryEngine:o}}=t,s=o.execute(n),u={},c={};for await(const l of s){const r=l.get(a),n=oe(r);if(!(n in u)){const i=c[n]={};for(const t of e)i[t]=[];const a={subject:r,propertyCache:i};u[n]=t.extendPath(a,null)}const o=c[n];for(let a=0;a<i.length;a++){const r=l.get(i[a]);if(r){const n=t.extendPath({subject:r},null);o[e[a]].push(n)}}}return Object.values(u)}async createQuery(e,t){const r=await t.sparql,n=ne.exec(r);if(!n)throw new Error("Unexpected path query: "+r);const i=n[2],a=e.map((e,t)=>"?preload_"+t),o=e.map((e,t)=>`    { ${i} <${e}> ${a[t]}. }`).join("\n    UNION\n"),s=r.replace(ne,"$1$2 "+a.join(" ")).replace(ie,`  OPTIONAL {\n${o}\n  }\n$&`);return{query:s,vars:a,resultVar:i}}}function oe(e){const{termType:t,value:r}=e;switch(t){case"NamedNode":return r;case"Literal":const{language:n,datatype:i}=e;return`${t}|${n}|${i.value}|${r}`;default:return`${t}|${r}`}}class se{handle(e,t){return d(this._handle(e,t))}async*_handle(e,t){const r=await e.settings.parsedContext||{},n=new $["JsonLdContextNormalized"](r);for await(const i of t.predicates)yield n.compactIri(""+await i,!0)}}class ue{handle(e,t){return function(e,...r){if(!e||!r.length)throw new Error("Replacing values requires at least two arguments, old value followed by all new values");return t.delete(e).add(...r)}}}class ce extends U{handle(e,t){return(...e)=>{const r=D(e)?Object.keys(e[0]).reduce((e,t)=>e.delete({[t]:[]}),t):t.delete();return r.add(...e)}}}class le{constructor(e="ASC"){this.order=e}handle(e,t){return(...r)=>{if(0===r.length)return t;const[n,...i]=r,{predicate:a}=t[n],o={property:n,predicate:a,sort:this.order},s=e.extendPath(o);return 0===i.length?s:s.sort(...i)}}}const de=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,fe=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,he={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class pe{async handle(e,t){const r=await t.mutationExpressions;if(Array.isArray(r)&&r.length)return r.map(e=>this.mutationExpressionToQuery(e)).filter(Boolean).join("\n;\n");const n=await t.pathExpression;if(!Array.isArray(n))throw new Error(e+" has no pathExpression property");return this.pathExpressionToQuery(e,t,n)}pathExpressionToQuery(e,t,r){if(r.length<2&&!e.finalClause)throw new Error(e+" should at least contain a subject and a predicate");let n="?subject",i=[],a=[];r.length>1&&(n=this.createVar(e.property),({queryVar:n,sorts:i,clauses:a}=this.expressionToTriplePatterns(r,n))),e.finalClause&&a.push(e.finalClause(n));const o=e.distinct?"DISTINCT ":"",s=`SELECT ${o}${e.select?e.select:n}`,u=` WHERE {\n  ${a.join("\n  ")}\n}`,c=i.map(({order:e,variable:t})=>`${e}(${t})`),l=0===c.length?"":"\nORDER BY "+c.join(" ");return`${s}${u}${l}`}mutationExpressionToQuery({mutationType:e,conditions:t,predicateObjects:r}){if(!e||!t||r&&0===r.length)return"";const n={};let i,a;if(1===t.length)i=this.termToString(t[0].subject),a=[];else{const e=t[t.length-1].predicate;i=this.createVar(e.value,n),({queryVar:i,clauses:a}=this.expressionToTriplePatterns(t,i,n))}const o=[];for(const{predicate:u,reverse:c,objects:l}of r){const e=l?l.map(e=>this.termToString(e)):[this.createVar(u.value,n)];o.push(...this.triplePatterns(i,u,e,c))}const s=`{\n  ${o.join("\n  ")}\n}`;return 0===a.length?`${e} DATA ${s}`:`${e} ${s} WHERE {\n  ${a.join("\n  ")}\n}`}expressionToTriplePatterns([e,...t],r,n={}){const i=t.length-1,a=[],o=[];let s=this.termToString(ve(e.subject)),u=s,c=!1;return t.forEach((e,t)=>{const l=s,{predicate:d,reverse:f,sort:h,values:p}=e;let y;if(p&&p.length>0){if(!c)throw new Error("Specifying fixed values is not allowed here");y=p.map(this.termToString),c=!1}else s=t<i?this.createVar("v"+t,n):r,y=[s],c=!0;a.push(...this.triplePatterns(l,d,y,f)),h?(o.push({variable:s,order:h}),s=u):u=s}),{queryVar:u,sorts:o,clauses:a}}createVar(e="",t){let r=0,n="?"+(e.match(/[a-z0-9]*$/i)[0]||"result");if(t){e=n;while(t[n])n=`${e}_${r++}`;t[n]=!0}return n}termToString(e){let{value:t}=e;switch(de.test(t)&&(t=t.replace(fe,ye)),e.termType){case"NamedNode":return`<${t}>`;case"BlankNode":return"_:"+t;case"Literal":let r="";return e.language?r="@"+e.language:"http://www.w3.org/2001/XMLSchema#string"!==e.datatype.value&&(r=`^^<${e.datatype.value}>`),`"${t}"${r}`;default:throw new Error("Could not convert a term of type "+e.termType)}}triplePatterns(e,t,r,n=!1){let i=[e];n&&([i,r]=[r,i]);const a=r.join(", "),o="path"===t.termType?t.value:`<${t.value}>`;return i.map(e=>`${e} ${o} ${a}.`)}}function ye(e){let t=he[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}let ge=0;function ve(e){return"BlankNode"!==e.termType?e:(e.skolemized||(e.skolemized=Object(h["namedNode"])("urn:ldflex:sk"+ge++)),e.skolemized)}class me{handle(e,t){return(e="",r=t)=>{const n=e.replace(/^(https?:\/\/[^()[\]'"]+)$/,'["$1"]').replace(/^(?=[a-z$_])/i,".").replace(/\[([^'"`\](]*)\]/g,'["$1"]'),i='"use strict";return ldflex'+n;let a;try{a=Function("ldflex",i)}catch({message:o}){throw new Error(`Expression "${e}" is invalid: ${o}`)}return a(r)}}}class be{handle(e){let{subject:t,parent:r}=e;while(!t&&r)({subject:t,parent:r}=r);return t?Promise.resolve(t).then(t=>e.extendPath({subject:t},null)):void 0}}class we{handle(e){return e.extendPath({distinct:!0,select:"?subject",finalClause:()=>"?subject ?predicate ?object.",property:e.property})}}class _e{handle({subject:e},t){return e?e.then&&l(()=>t.subject):l(()=>a(t.results))}}class xe{handle(e,t){return async e=>{const r=[];if(A(t)){"function"!==typeof e&&(e=e=>e);let n=0;for await(const i of t)r.push(await e(i,n++))}return r}}}var Ee={__esModule:()=>{},then:new _e,[Symbol.asyncIterator]:new s,get:new ee,subject:new be,predicate:new te,properties:new se,predicates:new re,pathExpression:new J,sparql:new pe,subjects:new we,results:new q,sort:new le("ASC"),sortDesc:new le("DESC"),preload:new ae,mutationExpressions:new Q,add:new V,set:new ce,replace:new ue,delete:new B,termType:Oe("termType"),value:Oe("value"),datatype:Oe("datatype"),language:Oe("language"),canonical:Oe("canonical"),equals:u.sync("subject","equals"),toString:u.syncFunction("subject","value"),valueOf:Se(),toPrimitive:Se(),toArray:new xe,termTypes:Te((e,t)=>t.toArray(e=>e.termType)),values:Te((e,t)=>t.toArray(e=>e.value)),datatypes:Te((e,t)=>t.toArray(e=>e.datatype)),languages:Te((e,t)=>t.toArray(e=>e.language)),resolve:new me};function Te(e){return{handle:e}}function Oe(e){return Te(({subject:t},r)=>t&&e in t?t[e]:r.then&&r.then(t=>null===t||void 0===t?void 0:t[e]))}function Se(){return Te(({subject:e})=>()=>"string"!==typeof(null===e||void 0===e?void 0:e.termType)?void 0:M(e))}class Ne{constructor(e,t){this._settings=e={...e},this._data=t={...t};const r=e.handlers||Ee;for(const i in r)r[i]=Ie(r[i]);for(const i of Object.getOwnPropertySymbols(r))r[i]=Ie(r[i]);const n=(e.resolvers||[]).map(Re);if(e.context){const t=new G(e.context);n.push(new Z(t)),n.push(new z(t)),e.parsedContext=(new $["ContextParser"]).parse(e.context).then(({contextRaw:e})=>e)}else e.context=e.parsedContext={};this._pathProxy=new X({handlers:r,resolvers:n}),delete e.handlers,delete e.resolvers}create(e={},t){return t||([t,e]=[e,null]),this._pathProxy.createPath(Object.assign(Object.create(null),this._settings,e),Object.assign(Object.create(null),this._data,t))}}function Ie(e){return"function"===typeof e.handle?e:{handle:e}}function Re(e){return"function"===typeof e.resolve?e:{supports:ke,resolve:e}}function ke(){return!0}Ne.defaultHandlers=Ee},60174:function(e,t,r){(function(e,t){(function(e,r){"use strict";if(!e.setImmediate){var n,i=1,a={},o=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?h():p()?y():e.MessageChannel?g():s&&"onreadystatechange"in s.createElement("script")?v():m(),u.setImmediate=c,u.clearImmediate=l}function c(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};return a[i]=o,n(i),i++}function l(e){delete a[e]}function d(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n);break}}function f(e){if(o)setTimeout(f,0,e);else{var t=a[e];if(t){o=!0;try{d(t)}finally{l(e),o=!1}}}}function h(){n=function(e){t.nextTick((function(){f(e)}))}}function p(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}function y(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"===typeof r.data&&0===r.data.indexOf(t)&&f(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),n=function(r){e.postMessage(t+r,"*")}}function g(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;f(t)},n=function(t){e.port2.postMessage(t)}}function v(){var e=s.documentElement;n=function(t){var r=s.createElement("script");r.onreadystatechange=function(){f(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}function m(){n=function(e){setTimeout(f,0,e)}}})("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,r("c8ba"),r("4362"))},"606c":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("970b")),a=n(r("5bc3")),o=n(r("3c96")),s=n(r("ed6d")),u=n(r("6b58")),c=n(r("36c6")),l=n(r("9523")),d=n(r("21b4")),f=n(r("33e3")),h=r("43f5"),p=r("073a"),y=r("ab32");function g(e){var t=v();return function(){var r,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var m=function(e){(0,s.default)(r,e);var t=g(r);function r(e){var n;if((0,i.default)(this,r),n=t.call(this,(0,p.termValue)(e)),(0,l.default)((0,o.default)(n),"termType",h.NamedNodeTermType),(0,l.default)((0,o.default)(n),"classOrder",d.default.NamedNode),!n.value)throw new Error("Missing IRI for NamedNode");if(!n.value.includes(":"))throw new Error('NamedNode IRI "'+e+'" must be absolute.');if(n.value.includes(" ")){var a='Error: NamedNode IRI "'+e+'" must not contain unencoded spaces.';throw new Error(a)}return n}return(0,a.default)(r,[{key:"dir",value:function(){var e=this.value.split("#")[0],t=e.slice(0,-1).lastIndexOf("/"),n=e.indexOf("//");return n>=0&&t<n+2||t<0?null:new r(e.slice(0,t+1))}},{key:"site",value:function(){var e=this.value.split("#")[0],t=e.indexOf("//");if(t<0)throw new Error("This URI does not have a web site part (origin)");var n=e.indexOf("/",t+2);return new r(n<0?e.slice(0)+"/":e.slice(0,n+1))}},{key:"doc",value:function(){return this.value.indexOf("#")<0?this:new r(this.value.split("#")[0])}},{key:"toString",value:function(){return"<"+this.value+">"}},{key:"id",value:function(){return this.value.split("#")[1]}},{key:"uri",get:function(){return this.value},set:function(e){this.value=e}}],[{key:"fromValue",value:function(e){return"undefined"===typeof e||null===e||(0,y.isTerm)(e)?e:new r(e)}}]),r}(f.default);t.default=m},"65c2":function(e,t,r){"use strict";e.exports=r("30ba").NQuads},"65e1":function(e,t,r){"use strict";const n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i=n+"langString",a="http://www.w3.org/2001/XMLSchema#string",o="NamedNode",s="BlankNode",u="Literal",c="DefaultGraph",l={};function d(e,t){return e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType&&(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value&&(e.object.termType!==u||e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value))}(()=>{const e="(?:<([^:]+:[^>]*)>)",t="A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�",r=t+"_",n=r+"0-9-·̀-ͯ‿-⁀",i="(_:(?:["+r+"0-9])(?:(?:["+n+".])*(?:["+n+"]))?)",a=i,o='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',s="(?:\\^\\^"+e+")",u="(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))",c="(?:"+o+"(?:"+s+"|"+u+")?)",d="[ \\t]+",f="[ \\t]*",h="(?:"+e+"|"+a+")"+d,p=e+d,y="(?:"+e+"|"+a+"|"+c+")"+f,g="(?:\\.|(?:(?:"+e+"|"+a+")"+f+"\\.))";l.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,l.empty=new RegExp("^"+f+"$"),l.quad=new RegExp("^"+f+h+p+y+g+f+"$")})(),e.exports=class e{static parse(e){const t=[],r={},n=e.split(l.eoln);let f=0;for(const h of n){if(f++,l.empty.test(h))continue;const e=h.match(l.quad);if(null===e)throw new Error("N-Quads parse error on line "+f+".");const n={subject:null,predicate:null,object:null,graph:null};if(void 0!==e[1]?n.subject={termType:o,value:e[1]}:n.subject={termType:s,value:e[2]},n.predicate={termType:o,value:e[3]},void 0!==e[4]?n.object={termType:o,value:e[4]}:void 0!==e[5]?n.object={termType:s,value:e[5]}:(n.object={termType:u,value:void 0,datatype:{termType:o}},void 0!==e[7]?n.object.datatype.value=e[7]:void 0!==e[8]?(n.object.datatype.value=i,n.object.language=e[8]):n.object.datatype.value=a,n.object.value=y(e[6])),void 0!==e[9]?n.graph={termType:o,value:e[9]}:void 0!==e[10]?n.graph={termType:s,value:e[10]}:n.graph={termType:c,value:""},n.graph.value in r){let e=!0;const i=r[n.graph.value];for(const t of i)if(d(t,n)){e=!1;break}e&&(i.push(n),t.push(n))}else r[n.graph.value]=[n],t.push(n)}return t}static serialize(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));const r=[];for(const n of t)r.push(e.serializeQuad(n));return r.sort().join("")}static serializeQuad(e){const t=e.subject,r=e.predicate,n=e.object,u=e.graph;let c="";return t.termType===o?c+=`<${t.value}>`:c+=""+t.value,c+=` <${r.value}> `,n.termType===o?c+=`<${n.value}>`:n.termType===s?c+=n.value:(c+=`"${h(n.value)}"`,n.datatype.value===i?n.language&&(c+="@"+n.language):n.datatype.value!==a&&(c+=`^^<${n.datatype.value}>`)),u.termType===o?c+=` <${u.value}>`:u.termType===s&&(c+=" "+u.value),c+=" .\n",c}static legacyDatasetToQuads(e){const t=[],r={"blank node":s,IRI:o,literal:u};for(const n in e){const l=e[n];l.forEach(e=>{const l={};for(const t in e){const n=e[t],s={termType:r[n.type],value:n.value};s.termType===u&&(s.datatype={termType:o},"datatype"in n&&(s.datatype.value=n.datatype),"language"in n?("datatype"in n||(s.datatype.value=i),s.language=n.language):"datatype"in n||(s.datatype.value=a)),l[t]=s}l.graph="@default"===n?{termType:c,value:""}:{termType:n.startsWith("_:")?s:o,value:n},t.push(l)})}return t}};const f=/["\\\n\r]/g;function h(e){return e.replace(f,(function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))}const p=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function y(e){return e.replace(p,(function(e,t,r,n){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(n)throw new Error("Unsupported U escape")}))}},"65f0":function(e,t,r){var n=r("861d"),i=r("e8b5"),a=r("b622"),o=a("species");e.exports=function(e,t){var r;return i(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!i(r.prototype)?n(r)&&(r=r[o],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},6655:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r("19f2")),i=o(r("f703")),a=o(r("f62b"));function o(e){return e&&e.__esModule?e:{default:e}}var s=new n.default({createQueryEngine:e=>new i.default(e,new a.default(e))});t.default=s},"668b":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("a4d3"),r("e01a"),r("d3b7"),r("b636"),r("d28b"),r("3ca3"),r("ddb0");function n(e){var t;if("undefined"!==typeof Symbol){if(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator],null!=t))return t.call(e);if(Symbol.iterator&&(t=e[Symbol.iterator],null!=t))return t.call(e)}throw new TypeError("Object is not async iterable")}},"68dd":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("8171");t.collectNamedTerms=n.collectNamedTerms,t.everyTerms=n.everyTerms,t.filterQuadTermNames=n.filterQuadTermNames,t.filterTerms=n.filterTerms,t.forEachTerms=n.forEachTerms,t.getNamedTerms=n.getNamedTerms,t.getTerms=n.getTerms,t.getTermsNested=n.getTermsNested,t.mapTerms=n.mapTerms,t.matchPattern=n.matchPattern,t.matchPatternComplete=n.matchPatternComplete,t.QUAD_TERM_NAMES=n.QUAD_TERM_NAMES,t.reduceTerms=n.reduceTerms,t.someTerms=n.someTerms,t.TRIPLE_TERM_NAMES=n.TRIPLE_TERM_NAMES;const i=r("ae15");t.getBlankNodes=i.getBlankNodes,t.getDefaultGraphs=i.getDefaultGraphs,t.getLiterals=i.getLiterals,t.getNamedNodes=i.getNamedNodes,t.getTermsOfType=i.getTermsOfType,t.getVariables=i.getVariables,t.TERM_TYPES=i.TERM_TYPES,t.uniqTerms=i.uniqTerms},"68fa":function(e,t,r){"use strict";const n={};e.exports=n,n.isArray=Array.isArray,n.isBoolean=e=>"boolean"===typeof e||"[object Boolean]"===Object.prototype.toString.call(e),n.isDouble=e=>n.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21),n.isEmptyObject=e=>n.isObject(e)&&0===Object.keys(e).length,n.isNumber=e=>"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e),n.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),n.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),n.isString=e=>"string"===typeof e||"[object String]"===Object.prototype.toString.call(e),n.isUndefined=e=>"undefined"===typeof e},"691a":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("9523")),a=n(r("c947")),o=n(r("902d")),s=n(r("f6d5"));function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=c(c({},s.default),{},{fetcher:function(e,t){return new o.default(e,t)},graph:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return new a.default(e,t||{rdfFactory:s.default})},lit:function(e,t,r){return this.literal(""+e,t||r)},st:function(e,t,r,n){return this.quad(e,t,r,n)}}),d=l;t.default=d},"694b":function(e,t,r){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;0!==i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(i=n;0!==i--;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;0!==i--;){var o=a[i];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r}},"6b58":function(e,t,r){var n=r("7037")["default"],i=r("3c96");function a(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?i(e):t}e.exports=a,e.exports["default"]=e.exports,e.exports.__esModule=!0},"6d61":function(e,t,r){"use strict";var n=r("23e7"),i=r("da84"),a=r("94ca"),o=r("6eeb"),s=r("f183"),u=r("2266"),c=r("19aa"),l=r("861d"),d=r("d039"),f=r("1c7e"),h=r("d44e"),p=r("7156");e.exports=function(e,t,r){var y=-1!==e.indexOf("Map"),g=-1!==e.indexOf("Weak"),v=y?"set":"add",m=i[e],b=m&&m.prototype,w=m,_={},x=function(e){var t=b[e];o(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:function(e,r){return t.call(this,0===e?0:e,r),this})},E=a(e,"function"!=typeof m||!(g||b.forEach&&!d((function(){(new m).entries().next()}))));if(E)w=r.getConstructor(t,e,y,v),s.REQUIRED=!0;else if(a(e,!0)){var T=new w,O=T[v](g?{}:-0,1)!=T,S=d((function(){T.has(1)})),N=f((function(e){new m(e)})),I=!g&&d((function(){var e=new m,t=5;while(t--)e[v](t,t);return!e.has(-0)}));N||(w=t((function(t,r){c(t,w,e);var n=p(new m,t,w);return void 0!=r&&u(r,n[v],{that:n,AS_ENTRIES:y}),n})),w.prototype=b,b.constructor=w),(S||I)&&(x("delete"),x("has"),y&&x("get")),(I||O)&&x(v),g&&b.clear&&delete b.clear}return _[e]=w,n({global:!0,forced:w!=m},_),h(w,e),g||r.setStrong(w,e,y),w}},"6dc9":function(e,t,r){"use strict";r.r(t),r.d(t,"v1",(function(){return y})),r.d(t,"v3",(function(){return D})),r.d(t,"v4",(function(){return L})),r.d(t,"v5",(function(){return V}));var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16);function a(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}for(var o=[],s=0;s<256;++s)o[s]=(s+256).toString(16).substr(1);function u(e,t){var r=t||0,n=o;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}var c,l,d=u,f=0,h=0;function p(e,t,r){var n=t&&r||0,i=t||[];e=e||{};var o=e.node||c,s=void 0!==e.clockseq?e.clockseq:l;if(null==o||null==s){var u=e.random||(e.rng||a)();null==o&&(o=c=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==s&&(s=l=16383&(u[6]<<8|u[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),y=void 0!==e.nsecs?e.nsecs:h+1,g=p-f+(y-h)/1e4;if(g<0&&void 0===e.clockseq&&(s=s+1&16383),(g<0||p>f)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=p,h=y,l=s,p+=122192928e5;var v=(1e4*(268435455&p)+y)%4294967296;i[n++]=v>>>24&255,i[n++]=v>>>16&255,i[n++]=v>>>8&255,i[n++]=255&v;var m=p/4294967296*1e4&268435455;i[n++]=m>>>8&255,i[n++]=255&m,i[n++]=m>>>24&15|16,i[n++]=m>>>16&255,i[n++]=s>>>8|128,i[n++]=255&s;for(var b=0;b<6;++b)i[n+b]=o[b];return t||d(i)}var y=p;function g(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}function v(e){e=unescape(encodeURIComponent(e));for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}var m="6ba7b810-9dad-11d1-80b4-00c04fd430c8",b="6ba7b811-9dad-11d1-80b4-00c04fd430c8",w=function(e,t,r){var n=function(e,n,i,a){var o=i&&a||0;if("string"==typeof e&&(e=v(e)),"string"==typeof n&&(n=g(n)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(n)||16!==n.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var s=r(n.concat(e));if(s[6]=15&s[6]|t,s[8]=63&s[8]|128,i)for(var u=0;u<16;++u)i[o+u]=s[u];return i||d(s)};try{n.name=e}catch(i){}return n.DNS=m,n.URL=b,n};function _(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Array(t.length);for(var r=0;r<t.length;r++)e[r]=t.charCodeAt(r)}return x(E(T(e),8*e.length))}function x(e){var t,r,n,i=[],a=32*e.length,o="0123456789abcdef";for(t=0;t<a;t+=8)r=e[t>>5]>>>t%32&255,n=parseInt(o.charAt(r>>>4&15)+o.charAt(15&r),16),i.push(n);return i}function E(e,t){var r,n,i,a,o;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var s=1732584193,u=-271733879,c=-1732584194,l=271733878;for(r=0;r<e.length;r+=16)n=s,i=u,a=c,o=l,s=I(s,u,c,l,e[r],7,-680876936),l=I(l,s,u,c,e[r+1],12,-389564586),c=I(c,l,s,u,e[r+2],17,606105819),u=I(u,c,l,s,e[r+3],22,-1044525330),s=I(s,u,c,l,e[r+4],7,-176418897),l=I(l,s,u,c,e[r+5],12,1200080426),c=I(c,l,s,u,e[r+6],17,-1473231341),u=I(u,c,l,s,e[r+7],22,-45705983),s=I(s,u,c,l,e[r+8],7,1770035416),l=I(l,s,u,c,e[r+9],12,-1958414417),c=I(c,l,s,u,e[r+10],17,-42063),u=I(u,c,l,s,e[r+11],22,-1990404162),s=I(s,u,c,l,e[r+12],7,1804603682),l=I(l,s,u,c,e[r+13],12,-40341101),c=I(c,l,s,u,e[r+14],17,-1502002290),u=I(u,c,l,s,e[r+15],22,1236535329),s=R(s,u,c,l,e[r+1],5,-165796510),l=R(l,s,u,c,e[r+6],9,-1069501632),c=R(c,l,s,u,e[r+11],14,643717713),u=R(u,c,l,s,e[r],20,-373897302),s=R(s,u,c,l,e[r+5],5,-701558691),l=R(l,s,u,c,e[r+10],9,38016083),c=R(c,l,s,u,e[r+15],14,-660478335),u=R(u,c,l,s,e[r+4],20,-405537848),s=R(s,u,c,l,e[r+9],5,568446438),l=R(l,s,u,c,e[r+14],9,-1019803690),c=R(c,l,s,u,e[r+3],14,-187363961),u=R(u,c,l,s,e[r+8],20,1163531501),s=R(s,u,c,l,e[r+13],5,-1444681467),l=R(l,s,u,c,e[r+2],9,-51403784),c=R(c,l,s,u,e[r+7],14,1735328473),u=R(u,c,l,s,e[r+12],20,-1926607734),s=k(s,u,c,l,e[r+5],4,-378558),l=k(l,s,u,c,e[r+8],11,-2022574463),c=k(c,l,s,u,e[r+11],16,1839030562),u=k(u,c,l,s,e[r+14],23,-35309556),s=k(s,u,c,l,e[r+1],4,-1530992060),l=k(l,s,u,c,e[r+4],11,1272893353),c=k(c,l,s,u,e[r+7],16,-155497632),u=k(u,c,l,s,e[r+10],23,-1094730640),s=k(s,u,c,l,e[r+13],4,681279174),l=k(l,s,u,c,e[r],11,-358537222),c=k(c,l,s,u,e[r+3],16,-722521979),u=k(u,c,l,s,e[r+6],23,76029189),s=k(s,u,c,l,e[r+9],4,-640364487),l=k(l,s,u,c,e[r+12],11,-421815835),c=k(c,l,s,u,e[r+15],16,530742520),u=k(u,c,l,s,e[r+2],23,-995338651),s=j(s,u,c,l,e[r],6,-198630844),l=j(l,s,u,c,e[r+7],10,1126891415),c=j(c,l,s,u,e[r+14],15,-1416354905),u=j(u,c,l,s,e[r+5],21,-57434055),s=j(s,u,c,l,e[r+12],6,1700485571),l=j(l,s,u,c,e[r+3],10,-1894986606),c=j(c,l,s,u,e[r+10],15,-1051523),u=j(u,c,l,s,e[r+1],21,-2054922799),s=j(s,u,c,l,e[r+8],6,1873313359),l=j(l,s,u,c,e[r+15],10,-30611744),c=j(c,l,s,u,e[r+6],15,-1560198380),u=j(u,c,l,s,e[r+13],21,1309151649),s=j(s,u,c,l,e[r+4],6,-145523070),l=j(l,s,u,c,e[r+11],10,-1120210379),c=j(c,l,s,u,e[r+2],15,718787259),u=j(u,c,l,s,e[r+9],21,-343485551),s=O(s,n),u=O(u,i),c=O(c,a),l=O(l,o);return[s,u,c,l]}function T(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e[t/8])<<t%32;return r}function O(e,t){var r=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(r>>16);return n<<16|65535&r}function S(e,t){return e<<t|e>>>32-t}function N(e,t,r,n,i,a){return O(S(O(O(t,e),O(n,a)),i),r)}function I(e,t,r,n,i,a,o){return N(t&r|~t&n,e,t,i,a,o)}function R(e,t,r,n,i,a,o){return N(t&n|r&~n,e,t,i,a,o)}function k(e,t,r,n,i,a,o){return N(t^r^n,e,t,i,a,o)}function j(e,t,r,n,i,a,o){return N(r^(t|~n),e,t,i,a,o)}var A=_,C=w("v3",48,A),D=C;function P(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||a)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;++o)t[n+o]=i[o];return t||d(i)}var L=P;function F(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function M(e,t){return e<<t|e>>>32-t}function U(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=new Array(n.length);for(var i=0;i<n.length;i++)e[i]=n.charCodeAt(i)}e.push(128);var a=e.length/4+2,o=Math.ceil(a/16),s=new Array(o);for(i=0;i<o;i++){s[i]=new Array(16);for(var u=0;u<16;u++)s[i][u]=e[64*i+4*u]<<24|e[64*i+4*u+1]<<16|e[64*i+4*u+2]<<8|e[64*i+4*u+3]}s[o-1][14]=8*(e.length-1)/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=8*(e.length-1)&4294967295;for(i=0;i<o;i++){for(var c=new Array(80),l=0;l<16;l++)c[l]=s[i][l];for(l=16;l<80;l++)c[l]=M(c[l-3]^c[l-8]^c[l-14]^c[l-16],1);var d=r[0],f=r[1],h=r[2],p=r[3],y=r[4];for(l=0;l<80;l++){var g=Math.floor(l/20),v=M(d,5)+F(g,f,h,p)+y+t[g]+c[l]>>>0;y=p,p=h,h=M(f,30)>>>0,f=d,d=v}r[0]=r[0]+d>>>0,r[1]=r[1]+f>>>0,r[2]=r[2]+h>>>0,r[3]=r[3]+p>>>0,r[4]=r[4]+y>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}var B=U,q=w("v5",80,B),V=q},"6f5c":function(e,t,r){"use strict";const n=r("5950"),i=r("c92f"),a=r("68fa"),o=r("89ae"),{RDF_LIST:s,RDF_FIRST:u,RDF_REST:c,RDF_NIL:l,RDF_TYPE:d,RDF_JSON_LITERAL:f,XSD_BOOLEAN:h,XSD_DOUBLE:p,XSD_INTEGER:y,XSD_STRING:g}=r("feb1"),v=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,m={};function b(e,t,r){if(e.termType.endsWith("Node"))return{"@id":e.value};const i={"@value":e.value};if(e.language)i["@language"]=e.language;else{let s=e.datatype.value;if(s||(s=g),s===f){s="@json";try{i["@value"]=JSON.parse(i["@value"])}catch(o){throw new n("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:i["@value"],cause:o})}}if(t){if(s===h)"true"===i["@value"]?i["@value"]=!0:"false"===i["@value"]&&(i["@value"]=!1);else if(a.isNumeric(i["@value"]))if(s===y){const e=parseInt(i["@value"],10);e.toFixed(0)===i["@value"]&&(i["@value"]=e)}else s===p&&(i["@value"]=parseFloat(i["@value"]));[h,y,p,g].includes(s)||(i["@type"]=s)}else if("i18n-datatype"===r&&s.startsWith("https://www.w3.org/ns/i18n#")){const[,e,t]=s.split(/[#_]/);e.length>0&&(i["@language"]=e,e.match(v)||console.warn("@language must be valid BCP47: "+e)),i["@direction"]=t}else s!==g&&(i["@type"]=s)}return i}e.exports=m,m.fromRDF=async(e,{useRdfType:t=!1,useNativeTypes:r=!1,rdfDirection:n=null})=>{const f={},h={"@default":f},p={};for(const i of e){const e="DefaultGraph"===i.graph.termType?"@default":i.graph.value;e in h||(h[e]={}),"@default"===e||e in f||(f[e]={"@id":e});const a=h[e],s=i.subject.value,u=i.predicate.value,c=i.object;s in a||(a[s]={"@id":s});const y=a[s],g=c.termType.endsWith("Node");if(g&&!(c.value in a)&&(a[c.value]={"@id":c.value}),u===d&&!t&&g){o.addValue(y,"@type",c.value,{propertyIsArray:!0});continue}const v=b(c,r,n);if(o.addValue(y,u,v,{propertyIsArray:!0}),g)if(c.value===l){const e=a[c.value];"usages"in e||(e.usages=[]),e.usages.push({node:y,property:u,value:v})}else c.value in p?p[c.value]=!1:p[c.value]={node:y,property:u,value:v}}for(const o in h){const e=h[o];if(!(l in e))continue;const t=e[l];if(t.usages){for(let r of t.usages){let t=r.node,n=r.property,o=r.value;const l=[],d=[];let f=Object.keys(t).length;while(n===c&&a.isObject(p[t["@id"]])&&a.isArray(t[u])&&1===t[u].length&&a.isArray(t[c])&&1===t[c].length&&(3===f||4===f&&a.isArray(t["@type"])&&1===t["@type"].length&&t["@type"][0]===s))if(l.push(t[u][0]),d.push(t["@id"]),r=p[t["@id"]],t=r.node,n=r.property,o=r.value,f=Object.keys(t).length,!i.isBlankNode(t))break;delete o["@id"],o["@list"]=l.reverse();for(const r of d)delete e[r]}delete t.usages}}const y=[],g=Object.keys(f).sort();for(const a of g){const e=f[a];if(a in h){const t=e["@graph"]=[],r=h[a],n=Object.keys(r).sort();for(const e of n){const n=r[e];i.isSubjectReference(n)||t.push(n)}}i.isSubjectReference(e)||y.push(e)}return y}},7037:function(e,t,r){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports["default"]=e.exports,e.exports.__esModule=!0),n(t)}r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),e.exports=n,e.exports["default"]=e.exports,e.exports.__esModule=!0},7096:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlankNode=void 0;class n{constructor(e){this.termType="BlankNode",this.value=e}equals(e){return!!e&&"BlankNode"===e.termType&&e.value===this.value}}t.BlankNode=n},7156:function(e,t,r){var n=r("861d"),i=r("d2bb");e.exports=function(e,t,r){var a,o;return i&&"function"==typeof(a=t.constructor)&&a!==r&&n(o=a.prototype)&&o!==r.prototype&&i(e,o),e}},71563:function(e,t,r){"use strict";const{parseLinkHeader:n,buildHeaders:i}=r("89ae"),{LINK_HEADER_CONTEXT:a}=r("feb1"),o=r("5950"),s=r("40ce"),{prependBase:u}=r("ddd7"),c=/(^|(\r\n))link:/i;function l(e,t,r){e=e||XMLHttpRequest;const n=new e;return new Promise((e,i)=>{n.onload=()=>e(n),n.onerror=e=>i(e),n.open("GET",t,!0);for(const t in r)n.setRequestHeader(t,r[t]);n.send()})}e.exports=({secure:e,headers:t={},xhr:r}={headers:{}})=>{t=i(t);const d=new s;return d.wrapLoader(f);async function f(i){if(0!==i.indexOf("http:")&&0!==i.indexOf("https:"))throw new o('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:i});if(e&&0!==i.indexOf("https"))throw new o('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:i});let s;try{s=await l(r,i,t)}catch(g){throw new o("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:i,cause:g})}if(s.status>=400)throw new o("URL could not be dereferenced: "+s.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:i,httpStatusCode:s.status});let d={contextUrl:null,documentUrl:i,document:s.response},h=null;const p=s.getResponseHeader("Content-Type");let y;if(c.test(s.getAllResponseHeaders())&&(y=s.getResponseHeader("Link")),y&&"application/ld+json"!==p){const e=n(y),t=e[a];if(Array.isArray(t))throw new o("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:i});t&&(d.contextUrl=t.target),h=e["alternate"],h&&"application/ld+json"==h.type&&!(p||"").match(/^application\/(\w*\+)?json$/)&&(d=await f(u(i,h.target)))}return d}}},"71a7":function(e,t){function r(e,t){for(var r in e)t[r]=e[r]}function n(e,t){var n=e.prototype;if(!(n instanceof t)){function i(){}i.prototype=t.prototype,i=new i,r(n,i),e.prototype=n=i}n.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),n.constructor=e)}var i="http://www.w3.org/1999/xhtml",a={},o=a.ELEMENT_NODE=1,s=a.ATTRIBUTE_NODE=2,u=a.TEXT_NODE=3,c=a.CDATA_SECTION_NODE=4,l=a.ENTITY_REFERENCE_NODE=5,d=a.ENTITY_NODE=6,f=a.PROCESSING_INSTRUCTION_NODE=7,h=a.COMMENT_NODE=8,p=a.DOCUMENT_NODE=9,y=a.DOCUMENT_TYPE_NODE=10,g=a.DOCUMENT_FRAGMENT_NODE=11,v=a.NOTATION_NODE=12,m={},b={},w=(m.INDEX_SIZE_ERR=(b[1]="Index size error",1),m.DOMSTRING_SIZE_ERR=(b[2]="DOMString size error",2),m.HIERARCHY_REQUEST_ERR=(b[3]="Hierarchy request error",3)),_=(m.WRONG_DOCUMENT_ERR=(b[4]="Wrong document",4),m.INVALID_CHARACTER_ERR=(b[5]="Invalid character",5),m.NO_DATA_ALLOWED_ERR=(b[6]="No data allowed",6),m.NO_MODIFICATION_ALLOWED_ERR=(b[7]="No modification allowed",7),m.NOT_FOUND_ERR=(b[8]="Not found",8)),x=(m.NOT_SUPPORTED_ERR=(b[9]="Not supported",9),m.INUSE_ATTRIBUTE_ERR=(b[10]="Attribute in use",10));m.INVALID_STATE_ERR=(b[11]="Invalid state",11),m.SYNTAX_ERR=(b[12]="Syntax error",12),m.INVALID_MODIFICATION_ERR=(b[13]="Invalid modification",13),m.NAMESPACE_ERR=(b[14]="Invalid namespace",14),m.INVALID_ACCESS_ERR=(b[15]="Invalid access",15);function E(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,b[e]),this.message=b[e],Error.captureStackTrace&&Error.captureStackTrace(this,E);return r.code=e,t&&(this.message=this.message+": "+t),r}function T(){}function O(e,t){this._node=e,this._refresh=t,S(this)}function S(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);oe(e,"length",n.length),r(n,e),e._inc=t}}function N(){}function I(e,t){var r=e.length;while(r--)if(e[r]===t)return r}function R(e,t,r,n){if(n?t[I(t,n)]=r:t[t.length++]=r,e){r.ownerElement=e;var i=e.ownerDocument;i&&(n&&F(i,e,n),L(i,e,r))}}function k(e,t,r){var n=I(t,r);if(!(n>=0))throw E(_,new Error(e.tagName+"@"+r));var i=t.length-1;while(n<i)t[n]=t[++n];if(t.length=i,e){var a=e.ownerDocument;a&&(F(a,e,r),r.ownerElement=null)}}function j(e){if(this._features={},e)for(var t in e)this._features=e[t]}function A(){}function C(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function D(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(D(e,t))return!0}while(e=e.nextSibling)}function P(){}function L(e,t,r){e&&e._inc++;var n=r.namespaceURI;"http://www.w3.org/2000/xmlns/"==n&&(t._nsMap[r.prefix?r.localName:""]=r.value)}function F(e,t,r,n){e&&e._inc++;var i=r.namespaceURI;"http://www.w3.org/2000/xmlns/"==i&&delete t._nsMap[r.prefix?r.localName:""]}function M(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{var i=t.firstChild,a=0;while(i)n[a++]=i,i=i.nextSibling;n.length=a}}}function U(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,M(e.ownerDocument,e),t}function B(e,t,r){var n=t.parentNode;if(n&&n.removeChild(t),t.nodeType===g){var i=t.firstChild;if(null==i)return t;var a=t.lastChild}else i=a=t;var o=r?r.previousSibling:e.lastChild;i.previousSibling=o,a.nextSibling=r,o?o.nextSibling=i:e.firstChild=i,null==r?e.lastChild=a:r.previousSibling=a;do{i.parentNode=e}while(i!==a&&(i=i.nextSibling));return M(e.ownerDocument||e,e),t.nodeType==g&&(t.firstChild=t.lastChild=null),t}function q(e,t){var r=t.parentNode;if(r){var n=e.lastChild;r.removeChild(t);n=e.lastChild}n=e.lastChild;return t.parentNode=e,t.previousSibling=n,t.nextSibling=null,n?n.nextSibling=t:e.firstChild=t,e.lastChild=t,M(e.ownerDocument,e,t),t}function V(){this._nsMap={}}function $(){}function G(){}function H(){}function z(){}function Q(){}function J(){}function W(){}function X(){}function K(){}function Y(){}function Z(){}function ee(){}function te(e,t){var r=[],n=9==this.nodeType&&this.documentElement||this,i=n.prefix,a=n.namespaceURI;if(a&&null==i){i=n.lookupPrefix(a);if(null==i)var o=[{namespace:a,prefix:null}]}return ne(this,r,e,t,o),r.join("")}function re(e,t,r){var n=e.prefix||"",i=e.namespaceURI;if(!n&&!i)return!1;if("xml"===n&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;var a=r.length;while(a--){var o=r[a];if(o.prefix==n)return o.namespace!=i}return!0}function ne(e,t,r,n,a){if(n){if(e=n(e),!e)return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case o:a||(a=[]);a.length;var d=e.attributes,v=d.length,m=e.firstChild,b=e.tagName;r=i===e.namespaceURI||r,t.push("<",b);for(var w=0;w<v;w++){var _=d.item(w);"xmlns"==_.prefix?a.push({prefix:_.localName,namespace:_.value}):"xmlns"==_.nodeName&&a.push({prefix:"",namespace:_.value})}for(w=0;w<v;w++){_=d.item(w);if(re(_,r,a)){var x=_.prefix||"",E=_.namespaceURI,T=x?" xmlns:"+x:" xmlns";t.push(T,'="',E,'"'),a.push({prefix:x,namespace:E})}ne(_,t,r,n,a)}if(re(e,r,a)){x=e.prefix||"",E=e.namespaceURI,T=x?" xmlns:"+x:" xmlns";t.push(T,'="',E,'"'),a.push({prefix:x,namespace:E})}if(m||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(b)){if(t.push(">"),r&&/^script$/i.test(b))while(m)m.data?t.push(m.data):ne(m,t,r,n,a),m=m.nextSibling;else while(m)ne(m,t,r,n,a),m=m.nextSibling;t.push("</",b,">")}else t.push("/>");return;case p:case g:m=e.firstChild;while(m)ne(m,t,r,n,a),m=m.nextSibling;return;case s:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,C),'"');case u:return t.push(e.data.replace(/[<&]/g,C));case c:return t.push("<![CDATA[",e.data,"]]>");case h:return t.push("\x3c!--",e.data,"--\x3e");case y:var O=e.publicId,S=e.systemId;if(t.push("<!DOCTYPE ",e.name),O)t.push(' PUBLIC "',O),S&&"."!=S&&t.push('" "',S),t.push('">');else if(S&&"."!=S)t.push(' SYSTEM "',S,'">');else{var N=e.internalSubset;N&&t.push(" [",N,"]"),t.push(">")}return;case f:return t.push("<?",e.target," ",e.data,"?>");case l:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ie(e,t,r){var n;switch(t.nodeType){case o:n=t.cloneNode(!1),n.ownerDocument=e;case g:break;case s:r=!0;break}if(n||(n=t.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,r){var i=t.firstChild;while(i)n.appendChild(ie(e,i,r)),i=i.nextSibling}return n}function ae(e,t,r){var n=new t.constructor;for(var i in t){var a=t[i];"object"!=typeof a&&a!=n[i]&&(n[i]=a)}switch(t.childNodes&&(n.childNodes=new T),n.ownerDocument=e,n.nodeType){case o:var u=t.attributes,c=n.attributes=new N,l=u.length;c._ownerElement=n;for(var d=0;d<l;d++)n.setAttributeNode(ae(e,u.item(d),!0));break;case s:r=!0}if(r){var f=t.firstChild;while(f)n.appendChild(ae(e,f,r)),f=f.nextSibling}return n}function oe(e,t,r){e[t]=r}E.prototype=Error.prototype,r(m,E),T.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var r=[],n=0;n<this.length;n++)ne(this[n],r,e,t);return r.join("")}},O.prototype.item=function(e){return S(this),this[e]},n(O,T),N.prototype={length:0,item:T.prototype.item,getNamedItem:function(e){var t=this.length;while(t--){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new E(x);var r=this.getNamedItem(e.nodeName);return R(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t,r=e.ownerElement;if(r&&r!=this._ownerElement)throw new E(x);return t=this.getNamedItemNS(e.namespaceURI,e.localName),R(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return k(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return k(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){var r=this.length;while(r--){var n=this[r];if(n.localName==t&&n.namespaceURI==e)return n}return null}},j.prototype={hasFeature:function(e,t){var r=this._features[e.toLowerCase()];return!(!r||t&&!(t in r))},createDocument:function(e,t,r){var n=new P;if(n.implementation=this,n.childNodes=new T,n.doctype=r,r&&n.appendChild(r),t){var i=n.createElementNS(e,t);n.appendChild(i)}return n},createDocumentType:function(e,t,r){var n=new J;return n.name=e,n.nodeName=e,n.publicId=t,n.systemId=r,n}},A.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return B(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return U(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return ae(this.ownerDocument||this,this,e)},normalize:function(){var e=this.firstChild;while(e){var t=e.nextSibling;t&&t.nodeType==u&&e.nodeType==u?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){var t=this;while(t){var r=t._nsMap;if(r)for(var n in r)if(r[n]==e)return n;t=t.nodeType==s?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){var t=this;while(t){var r=t._nsMap;if(r&&e in r)return r[e];t=t.nodeType==s?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return null==t}},r(a,A),r(a,A.prototype),P.prototype={nodeName:"#document",nodeType:p,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==g){var r=e.firstChild;while(r){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return null==this.documentElement&&e.nodeType==o&&(this.documentElement=e),B(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),U(this,e)},importNode:function(e,t){return ie(this,e,t)},getElementById:function(e){var t=null;return D(this.documentElement,(function(r){if(r.nodeType==o&&r.getAttribute("id")==e)return t=r,!0})),t},getElementsByClassName:function(e){const t=new RegExp(`(^|\\s)${e}(\\s|$)`);return new O(this,e=>{var r=[];return D(e.documentElement,n=>{n!==e&&n.nodeType==o&&t.test(n.getAttribute("class"))&&r.push(n)}),r})},createElement:function(e){var t=new V;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new T;var r=t.attributes=new N;return r._ownerElement=t,t},createDocumentFragment:function(){var e=new Y;return e.ownerDocument=this,e.childNodes=new T,e},createTextNode:function(e){var t=new H;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new z;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new Q;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new Z;return r.ownerDocument=this,r.tagName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new $;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new K;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new V,n=t.split(":"),i=r.attributes=new N;return r.childNodes=new T,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,i._ownerElement=r,r},createAttributeNS:function(e,t){var r=new $,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}},n(P,A),V.prototype={nodeType:o,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===g?this.insertBefore(e,null):q(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new O(this,(function(t){var r=[];return D(t,(function(n){n===t||n.nodeType!=o||"*"!==e&&n.tagName!=e||r.push(n)})),r}))},getElementsByTagNameNS:function(e,t){return new O(this,(function(r){var n=[];return D(r,(function(i){i===r||i.nodeType!==o||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||n.push(i)})),n}))}},P.prototype.getElementsByTagName=V.prototype.getElementsByTagName,P.prototype.getElementsByTagNameNS=V.prototype.getElementsByTagNameNS,n(V,A),$.prototype.nodeType=s,n($,A),G.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(b[w])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){var n=this.data.substring(0,e),i=this.data.substring(e+t);r=n+r+i,this.nodeValue=this.data=r,this.length=r.length}},n(G,A),H.prototype={nodeName:"#text",nodeType:u,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},n(H,G),z.prototype={nodeName:"#comment",nodeType:h},n(z,G),Q.prototype={nodeName:"#cdata-section",nodeType:c},n(Q,G),J.prototype.nodeType=y,n(J,A),W.prototype.nodeType=v,n(W,A),X.prototype.nodeType=d,n(X,A),K.prototype.nodeType=l,n(K,A),Y.prototype.nodeName="#document-fragment",Y.prototype.nodeType=g,n(Y,A),Z.prototype.nodeType=f,n(Z,A),ee.prototype.serializeToString=function(e,t,r){return te.call(e,t,r)},A.prototype.toString=te;try{if(Object.defineProperty){function se(e){switch(e.nodeType){case o:case g:var t=[];e=e.firstChild;while(e)7!==e.nodeType&&8!==e.nodeType&&t.push(se(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(O.prototype,"length",{get:function(){return S(this),this.$$length}}),Object.defineProperty(A.prototype,"textContent",{get:function(){return se(this)},set:function(e){switch(this.nodeType){case o:case g:while(this.firstChild)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),oe=function(e,t,r){e["$$"+t]=r}}}catch(ue){}t.Node=A,t.DOMImplementation=j,t.XMLSerializer=ee},7274:function(e,t){(function(e){(function(t){var r={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};function n(e){return e&&DataView.prototype.isPrototypeOf(e)}if(r.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&i.indexOf(Object.prototype.toString.call(e))>-1};function o(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function s(e){return"string"!==typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r.iterable&&(t[Symbol.iterator]=function(){return t}),t}function c(e){this.map={},e instanceof c?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function l(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function f(e){var t=new FileReader,r=d(t);return t.readAsArrayBuffer(e),r}function h(e){var t=new FileReader,r=d(t);return t.readAsText(e),r}function p(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:r.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:r.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():r.arrayBuffer&&r.blob&&n(e)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return h(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(p(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(e,t){e=o(e),t=s(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},c.prototype["delete"]=function(e){delete this.map[o(e)]},c.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},c.prototype.set=function(e,t){this.map[o(e)]=s(t)},c.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},c.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),u(e)},c.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),u(e)},c.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),u(e)},r.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e){var t=e.toUpperCase();return v.indexOf(t)>-1?t:e}function b(e,t){t=t||{};var r=t.body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=m(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function _(e){var t=new c,r=e.replace(/\r?\n[\t ]+/g," ");return r.split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t}function x(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},g.call(b.prototype),g.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},x.error=function(){var e=new x(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];x.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new x(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(O){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function T(e,n){return new Promise((function(i,a){var o=new b(e,n);if(o.signal&&o.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:_(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;i(new x(t,e))},s.onerror=function(){a(new TypeError("Network request failed"))},s.ontimeout=function(){a(new TypeError("Network request failed"))},s.onabort=function(){a(new t.DOMException("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&r.blob&&(s.responseType="blob"),o.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",u)}),s.send("undefined"===typeof o._bodyInit?null:o._bodyInit)}))}T.polyfill=!0,e.fetch||(e.fetch=T,e.Headers=c,e.Request=b,e.Response=x),t.Headers=c,t.Request=b,t.Response=x,t.fetch=T,Object.defineProperty(t,"__esModule",{value:!0})})({})})("undefined"!==typeof self?self:this)},"730c":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(r("3c962"));function a(e){var t=0;function r(e){for(var t=u()+"SELECT ",r=0;r<e.vars.length;r++)t+=e.vars[r]+" ";return t+="\n",t}function n(e){var t="",r=e.statements;for(var n in r)i.default.debug("Found statement: "+r),t+=u()+r[n]+"\n";return t}function a(e){var t="";for(var r in e.constraints){var n=e.constraints[r];t+=u()+"FILTER ( "+n.describe(r)+" ) \n"}return t}function o(e){for(var r="",s=0;s<e.optional.length;s++)i.default.debug("Found optional query"),r+=u()+"OPTIONAL { \n",t++,r+=n(e.optional[s]),r+=a(e.optional[s]),r+=o(e.optional[s]),t--,r+=u()+"}\n";return r}function s(e){var r=u()+"WHERE \n{ \n";return t++,r+=n(e),r+=a(e),r+=o(e),t--,r+="}",r}function u(){for(var e="",r=0;r<t;r++)e+="    ";return e}function c(e){return r(e)+s(e.pat)}return c(e)}},"746f":function(e,t,r){var n=r("428f"),i=r("5135"),a=r("e538"),o=r("9bf2").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},7646:function(e,t,r){"use strict";const{createNodeMap:n}=r("796c"),{isKeyword:i}=r("d1e70"),a=r("c92f"),o=r("5727"),s=r("68fa"),u=r("89ae"),{RDF_FIRST:c,RDF_REST:l,RDF_NIL:d,RDF_TYPE:f,RDF_JSON_LITERAL:h,RDF_LANGSTRING:p,XSD_BOOLEAN:y,XSD_DOUBLE:g,XSD_INTEGER:v,XSD_STRING:m}=r("feb1"),{isAbsolute:b}=r("ddd7"),w={};function _(e,t,r,n,a){const o=Object.keys(t).sort();for(const s of o){const o=t[s],u=Object.keys(o).sort();for(let t of u){const u=o[t];if("@type"===t)t=f;else if(i(t))continue;for(const i of u){const o={termType:s.startsWith("_:")?"BlankNode":"NamedNode",value:s};if(!b(s))continue;const u={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(!b(t))continue;if("BlankNode"===u.termType&&!a.produceGeneralizedRdf)continue;const c=E(i,n,e,r,a.rdfDirection);c&&e.push({subject:o,predicate:u,object:c,graph:r})}}}}function x(e,t,r,n,i){const a={termType:"NamedNode",value:c},o={termType:"NamedNode",value:l},s={termType:"NamedNode",value:d},u=e.pop(),f=u?{termType:"BlankNode",value:t.getId()}:s;let h=f;for(const c of e){const e=E(c,t,r,n,i),s={termType:"BlankNode",value:t.getId()};r.push({subject:h,predicate:a,object:e,graph:n}),r.push({subject:h,predicate:o,object:s,graph:n}),h=s}if(u){const e=E(u,t,r,n,i);r.push({subject:h,predicate:a,object:e,graph:n}),r.push({subject:h,predicate:o,object:s,graph:n})}return f}function E(e,t,r,n,i){const u={};if(a.isValue(e)){u.termType="Literal",u.value=void 0,u.datatype={termType:"NamedNode"};let t=e["@value"];const r=e["@type"]||null;if("@json"===r)u.value=o(t),u.datatype.value=h;else if(s.isBoolean(t))u.value=t.toString(),u.datatype.value=r||y;else if(s.isDouble(t)||r===g)s.isDouble(t)||(t=parseFloat(t)),u.value=t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),u.datatype.value=r||g;else if(s.isNumber(t))u.value=t.toFixed(0),u.datatype.value=r||v;else if("i18n-datatype"===i&&"@direction"in e){const r="https://www.w3.org/ns/i18n#"+(e["@language"]||"")+"_"+e["@direction"];u.datatype.value=r,u.value=t}else"@language"in e?(u.value=t,u.datatype.value=r||p,u.language=e["@language"]):(u.value=t,u.datatype.value=r||m)}else if(a.isList(e)){const a=x(e["@list"],t,r,n,i);u.termType=a.termType,u.value=a.value}else{const t=s.isObject(e)?e["@id"]:e;u.termType=t.startsWith("_:")?"BlankNode":"NamedNode",u.value=t}return"NamedNode"!==u.termType||b(u.value)?u:null}e.exports=w,w.toRDF=(e,t)=>{const r=new u.IdentifierIssuer("_:b"),i={"@default":{}};n(e,i,"@default",r);const a=[],o=Object.keys(i).sort();for(const n of o){let e;if("@default"===n)e={termType:"DefaultGraph",value:""};else{if(!b(n))continue;e=n.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},e.value=n}_(a,i[n],e,r,t)}return a}},"796c":function(e,t,r){"use strict";const{isKeyword:n}=r("d1e70"),i=r("c92f"),a=r("68fa"),o=r("89ae"),s=r("5950"),u={};e.exports=u,u.createMergedNodeMap=(e,t)=>{t=t||{};const r=t.issuer||new o.IdentifierIssuer("_:b"),n={"@default":{}};return u.createNodeMap(e,n,"@default",r),u.mergeNodeMaps(n)},u.createNodeMap=(e,t,r,c,l,d)=>{if(a.isArray(e)){for(const n of e)u.createNodeMap(n,t,r,c,void 0,d);return}if(!a.isObject(e))return void(d&&d.push(e));if(i.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=c.getId(t))}return void(d&&d.push(e))}if(d&&i.isList(e)){const n=[];return u.createNodeMap(e["@list"],t,r,c,l,n),void d.push({"@list":n})}if("@type"in e){const t=e["@type"];for(const e of t)0===e.indexOf("_:")&&c.getId(e)}a.isUndefined(l)&&(l=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"]),d&&d.push({"@id":l});const f=t[r],h=f[l]=f[l]||{};h["@id"]=l;const p=Object.keys(e).sort();for(let a of p){if("@id"===a)continue;if("@reverse"===a){const n={"@id":l},a=e["@reverse"];for(const e in a){const s=a[e];for(const a of s){let s=a["@id"];i.isBlankNode(a)&&(s=c.getId(s)),u.createNodeMap(a,t,r,c,s),o.addValue(f[s],e,n,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===a){l in t||(t[l]={}),u.createNodeMap(e[a],t,l,c);continue}if("@included"===a){u.createNodeMap(e[a],t,r,c);continue}if("@type"!==a&&n(a)){if("@index"===a&&a in h&&(e[a]!==h[a]||e[a]["@id"]!==h[a]["@id"]))throw new s("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:h});h[a]=e[a];continue}const d=e[a];if(0===a.indexOf("_:")&&(a=c.getId(a)),0!==d.length)for(let e of d)if("@type"===a&&(e=0===e.indexOf("_:")?c.getId(e):e),i.isSubject(e)||i.isSubjectReference(e)){if("@id"in e&&!e["@id"])continue;const n=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"];o.addValue(h,a,{"@id":n},{propertyIsArray:!0,allowDuplicate:!1}),u.createNodeMap(e,t,r,c,n)}else if(i.isValue(e))o.addValue(h,a,e,{propertyIsArray:!0,allowDuplicate:!1});else if(i.isList(e)){const n=[];u.createNodeMap(e["@list"],t,r,c,l,n),e={"@list":n},o.addValue(h,a,e,{propertyIsArray:!0,allowDuplicate:!1})}else u.createNodeMap(e,t,r,c,l),o.addValue(h,a,e,{propertyIsArray:!0,allowDuplicate:!1});else o.addValue(h,a,[],{propertyIsArray:!0})}},u.mergeNodeMapGraphs=e=>{const t={};for(const r of Object.keys(e).sort())for(const i of Object.keys(e[r]).sort()){const a=e[r][i];i in t||(t[i]={"@id":i});const s=t[i];for(const e of Object.keys(a).sort())if(n(e)&&"@type"!==e)s[e]=o.clone(a[e]);else for(const t of a[e])o.addValue(s,e,o.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t},u.mergeNodeMaps=e=>{const t=e["@default"],r=Object.keys(e).sort();for(const n of r){if("@default"===n)continue;const r=e[n];let a=t[n];a?"@graph"in a||(a["@graph"]=[]):t[n]=a={"@id":n,"@graph":[]};const o=a["@graph"];for(const e of Object.keys(r).sort()){const t=r[e];i.isSubjectReference(t)||o.push(t)}}return t}},7971:function(e,t,r){"use strict";var n=r("dbce"),i=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;i(r("606c")),i(r("43f6"));var a=n(r("3897")),o=n(r("4b68")),s=i(r("8fd3")),u=r("8764"),c=function(){var e=function(e){this.flags="",this.base=null,this.prefixes=[],this.namespaces=[],this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.suggestPrefix("xml","reserved:reservedForFutureUse"),this.namespacesUsed=[],this.keywords=["a"],this.prefixchars="abcdefghijklmnopqustuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",this.incoming=null,this.formulas=[],this.store=e,this.rdfFactory=e.rdfFactory||s.default,this.xsd=(0,u.createXSD)(this.rdfFactory)};function t(e){return encodeURI(e)}function r(e){for(var t,r="",n=0;n<e.length;n++)t=e.charCodeAt(n),r+=t>65535?"\\U"+("00000000"+t.toString(16)).slice(-8):t>126?"\\u"+("0000"+t.toString(16)).slice(-4):e[n];return r}e.prototype.setBase=function(e){return this.base=e,this},e.prototype.setFlags=function(e){return this.flags=e||"",this},e.prototype.toStr=function(e){var t=e.toNT();return"Graph"===e.termType&&(this.formulas[t]=e),t},e.prototype.fromStr=function(e){if("{"===e[0]){var t=this.formulas[e];return t||console.log("No formula object for "+e),t}return this.store.fromNT(e)},e.prototype.suggestPrefix=function(e,t){"default"!==e.slice(0,7)&&"ns"!==e.slice(0,2)&&e&&t&&(e in this.namespaces||t in this.prefixes||(this.prefixes[t]=e,this.namespaces[e]=t))},e.prototype.suggestNamespaces=function(e){for(var t in e)this.suggestPrefix(t,e[t]);return this},e.prototype.checkIntegrity=function(){var e,t;for(e in this.namespaces)if(this.prefixes[this.namespaces[e]]!==e)throw new Error("Serializer integity error 1: "+e+", "+this.namespaces[e]+", "+this.prefixes[this.namespaces[e]]+"!");for(t in this.prefixes)if(this.namespaces[this.prefixes[t]]!==t)throw new Error("Serializer integity error 2: "+t+", "+this.prefixs[t]+", "+this.namespaces[this.prefixes[t]]+"!")},e.prototype.makeUpPrefix=function(t){var r=t;function n(r){return!!e.prototype.validPrefix.test(r)&&("ns"!==r&&(!(r in this.namespaces)&&(this.prefixes[t]=r,this.namespaces[r]=t,r)))}var i=n.bind(this);"#/".indexOf(r[r.length-1])>=0&&(r=r.slice(0,-1));var a=r.lastIndexOf("/");a>=0&&(r=r.slice(a+1));var o=0;while(o<r.length){if(!this.prefixchars.indexOf(r[o]))break;o++}if(r=r.slice(0,o),r.length<6&&i(r))return r;if(i(r.slice(0,3)))return r.slice(0,3);if(i(r.slice(0,2)))return r.slice(0,2);if(i(r.slice(0,4)))return r.slice(0,4);if(i(r.slice(0,1)))return r.slice(0,1);if(i(r.slice(0,5)))return r.slice(0,5);e.prototype.validPrefix.test(r)||(r="n");for(var s=0;;s++)if(i(r.slice(0,3)+s))return r.slice(0,3)+s},e.prototype.rootSubjects=function(e){for(var t={},r={},n={},i=0;i<e.length;i++){var a=e[i],o=function(e){t.hasOwnProperty(e)||(t[e]=[]),t[e].push(a.subject)},s=[a.subject,a.predicate,a.object];s.map((function(e){"BlankNode"===e.termType?n[e.toNT()]=!0:"Collection"===e.termType&&e.elements.forEach((function(e){o(e)}))})),o(e[i].object);var u=r[this.toStr(a.subject)];u||(u=[]),u.push(a),r[this.toStr(a.subject)]=u}var c=[];for(var l in r)if(r.hasOwnProperty(l)){var d=this.fromStr(l);"BlankNode"===d.termType&&t[d]&&1===t[d].length||c.push(d)}this.incoming=t;for(var f={},h=0;h<c.length;h++)f[c[h].toNT()]=!0;return{roots:c,subjects:r,rootsHash:f,incoming:t}},e.prototype.toN3=function(e){return this.statementsToN3(e.statements)},e.prototype._notQNameChars="\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~",e.prototype._notNameChars=e.prototype._notQNameChars+":",e.prototype.explicitURI=function(e){return e=this.flags.indexOf("r")<0&&this.base?a.refTo(this.base,e):this.flags.indexOf("u")>=0?r(e):t(e),"<"+e+">"},e.prototype.statementsToNTriples=function(e){var t=e.slice();t.sort();for(var r="",n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i=this,a=this.store,o=this.rdfFactory,s=function e(t){if("Collection"!==t.termType)return i.atomicTermToN3(t);for(var s=t.elements,u=a.sym(n+"nill"),c=s.length-1;c>=0;c--){var l=o.blankNode();r+=e(l)+" "+e(a.sym(n+"first"))+" "+e(s[c])+".\n",r+=e(l)+" "+e(a.sym(n+"rest"))+" "+e(u)+".\n",u=l}return i.atomicTermToN3(u)},u=0;u<t.length;u++){var c=t[u],l="";l+=s(c.subject)+" ",l+=s(c.predicate)+" ",l+=s(c.object)+" ",this.flags.indexOf("q")>=0&&(l+=s(c.why)+" "),l+=".\n",r+=l}return r},e.prototype.statementsToN3=function(t){var r=4,n=80,i=this.store,a={"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":"aaa:00"},s=function(e,t){return o.heavyCompareSPO(e,t,i,a)};t.sort(s),this.base&&!this.defaultNamespace&&(this.defaultNamespace=this.base+"#");var u={};this.flags.indexOf("s")<0&&(u["http://www.w3.org/2002/07/owl#sameAs"]="="),this.flags.indexOf("t")<0&&(u["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]="a"),this.flags.indexOf("i")<0&&(u["http://www.w3.org/2000/10/swap/log#implies"]="=>");var c=function(e){for(var t="",r=0;r<e;r++)t+=" ";return t},l=function e(t){for(var r="",n=0;n<t.length;n++){var i=t[n],a="string"===typeof i?i:e(i);if(0!==n){var o=r.slice(-1)||" ";","===a||";"===a||("."!==a||"0123456789.".includes(o))&&(r+=" ")}r+=a}return r},d=function e(t,i){var a="",o=1e5;void 0===i&&(i=-1);for(var s=0;s<t.length;s++){var u=t[s];if("string"!==typeof u){var d=e(u,i+1);if(d.length<10*(n-r*i)&&d.indexOf('"""')<0){var f=l(u);f.length<n-r*i&&(u=f,d="")}d&&(o=1e4),a+=d}if("string"===typeof u){if(1===u.length&&"\n"===a.slice(-1)&&",.;".indexOf(u)>=0){a=a.slice(0,-1)+u+"\n",o+=1;continue}if(o<r*i+4||o+u.length+1<n&&";.".indexOf(a[a.length-2])<0)a=a.slice(0,-1)+" "+u+"\n",o+=u.length+1;else{var h=c(r*i)+u;a+=h+"\n",o=h.length,i<0&&(a+="\n",o=1e5)}}}return a};function f(e){for(var t=this.rootSubjects(e),r=t.roots,n=[],i=0;i<r.length;i++){var a=r[i];n.push(p(a,t))}return n}var h=f.bind(this);function p(e,t){return"BlankNode"!==e.termType||t.incoming[e]?[w(e,t)].concat([g(e,t)]).concat(["."]):m(e,t,!0).concat(["."])}function y(e,t){var r=[],n=null,i=t.subjects[this.toStr(e)]||[];if("undefined"===typeof i)throw new Error("Cant find statements for "+e);for(var a=[],o=0;o<i.length;o++){var s=i[o];s.predicate.uri===n?a.push(","):(n&&(r=r.concat([a]).concat([";"]),a=[]),r.push(u[s.predicate.uri]?u[s.predicate.uri]:w(s.predicate,t))),n=s.predicate.uri,a.push(m(s.object,t))}return r=r.concat([a]),r}var g=y.bind(this);function v(e,t,r){return"BlankNode"!==e.termType||!r&&void 0!==t.rootsHash[e.toNT()]?w(e,t):t.subjects[this.toStr(e)]?["[",g(e,t),"]"]:"[]"}var m=v.bind(this);function b(e,t){var r,n;switch(e.termType){case"Graph":return n=["{"],n=n.concat(h(e.statements)),n.concat(["}"]);case"Collection":for(n=["("],r=0;r<e.elements.length;r++)n.push([m(e.elements[r],t)]);return n.push(")"),n;default:return this.atomicTermToN3(e)}}e.prototype.termToN3=w;var w=b.bind(this);function _(){var e="";for(var t in this.defaultNamespace&&(e+="@prefix : "+this.explicitURI(this.defaultNamespace)+".\n"),this.prefixes)this.prefixes.hasOwnProperty(t)&&this.namespacesUsed[t]&&(e+="@prefix "+this.prefixes[t]+": "+this.explicitURI(t)+".\n");return e+"\n"}var x=_.bind(this),E=h(t);return x()+d(E)},e.prototype.atomicTermToN3=function(e,t){switch(e.termType){case"BlankNode":case"Variable":return e.toNT();case"Literal":var r=e.value;if("string"!==typeof r)throw new TypeError("Value of RDF literal node must be a string");if(e.datatype&&this.flags.indexOf("x")<0)switch(e.datatype.uri){case"http://www.w3.org/2001/XMLSchema#integer":return r;case"http://www.w3.org/2001/XMLSchema#decimal":return r.indexOf(".")<0&&(r+=".0"),r;case"http://www.w3.org/2001/XMLSchema#double":return r.indexOf(".")<0&&(r+=".0"),r.indexOf("e")<0&&(r+="e0"),r;case"http://www.w3.org/2001/XMLSchema#boolean":return"1"===e.value?"true":"false"}var n=this.stringToN3(e.value);return e.language?n+="@"+e.language:e.datatype.equals(this.xsd.string)||(n+="^^"+this.atomicTermToN3(e.datatype,t)),n;case"NamedNode":return this.symbolToN3(e);default:throw new Error("Internal: atomicTermToN3 cannot handle "+e+" of termType: "+e.termType)}},e.prototype.validPrefix=new RegExp(/^[a-zA-Z][a-zA-Z0-9]*$/),e.prototype.forbidden1=new RegExp(/[\\"\b\f\r\v\t\n\u0080-\uffff]/gm),e.prototype.forbidden3=new RegExp(/[\\"\b\f\r\v\u0080-\uffff]/gm),e.prototype.stringToN3=function(t,r){r||(r="e");var n,i,a,o,s,u="";for(t.length>20&&'"'!==t.slice(-1)&&r.indexOf("n")<0&&(t.indexOf("\n")>0||t.indexOf('"')>0)?(o='"""',s=e.prototype.forbidden3):(o='"',s=e.prototype.forbidden1),n=0;n<t.length;){s.lastIndex=0;var c=s.exec(t.slice(n));if(null==c)break;i=n+s.lastIndex-1,u+=t.slice(n,i);var l=t[i];'"'===l&&'"""'===o&&'"""'!==t.slice(i,i+3)?u+=l:(a='\b\f\r\t\v\n\\"'.indexOf(l),a>=0?u+="\\"+'bfrtvn\\"'[a]:r.indexOf("e")>=0?u+="\\u"+("000"+l.charCodeAt(0).toString(16).toLowerCase()).slice(-4):u+=l),n=i+1}return o+u+t.slice(n)+o},e.prototype.symbolToN3=function(t){var r=t.uri,n=r.indexOf("#");if(n<0&&this.flags.indexOf("/")<0&&(n=r.lastIndexOf("/")),n>=0&&this.flags.indexOf("p")<0&&(0===r.indexOf("http")||0===r.indexOf("ws")||0===r.indexOf("file"))){for(var i=!0,a=n+1;a<r.length;a++)if(e.prototype._notNameChars.indexOf(r[a])>=0){i=!1;break}if(i){var o=r.slice(n+1),s=r.slice(0,n+1);if(this.defaultNamespace&&this.defaultNamespace===s&&this.flags.indexOf("d")<0)return this.flags.indexOf("k")>=0&&this.keyords.indexOf(o)<0?o:":"+o;var u=this.prefixes[s];if(u||(u=this.makeUpPrefix(s)),u)return this.namespacesUsed[s]=!0,u+":"+o}}return this.explicitURI(r)},e.prototype.writeStore=function(e){var t=this.store,r=t.fetcher,n=r&&r.appNode,i=this.store.index[3];for(var a in i){var o=t.fromNT(a);n&&o.equals(n)||e("\n"+this.atomicTermToN3(o)+" "+this.atomicTermToN3(t.sym("http://www.w3.org/2000/10/swap/log#semantics"))+" { "+this.statementsToN3(t.statementsMatching(void 0,void 0,void 0,o))+" }.\n")}t.statementsMatching(void 0,t.sym("http://www.w3.org/2007/ont/link#requestedURI")).map((function(r){e("\n<"+r.object.value+"> log:metadata {\n");var n=t.statementsMatching(void 0,void 0,void 0,r.subject);e(this.statementsToN3(this.statementsToN3(n))),e("}.\n")}));var s=[];n&&s.push(n);var u=[];s.map((function(e){u=u.concat(t.statementsMatching(void 0,void 0,void 0,e))})),e(this.statementsToN3(u))},e.prototype.statementsToXML=function(t){var r=4,n=80,i=[];i["http://www.w3.org/1999/02/22-rdf-syntax-ns#"]=!0;var a="http://www.w3.org/1999/02/22-rdf-syntax-ns#_",s=function(e){for(var t="",r=0;r<e;r++)t+=" ";return t},u=function e(t){for(var r="",n=0;n<t.length;n++){var i=t[n],a="string"===typeof i?i:e(i);r+=a}return r},c=function e(t,i){var a,o="",c=1e5;i||(i=0);for(var l=0;l<t.length;l++){var d=t[l];if("string"!==typeof d){var f=e(d,i+1);f.length<10*(n-r*i)&&f.indexOf('"""')<0&&(a=u(d),a.length<n-r*i&&(d="   "+a,f="")),f&&(c=1e4),o+=f}"string"===typeof d&&(c<r*i+4?(o=o.slice(0,-1)+" "+d+"\n",c+=d.length+1):(a=s(r*i)+d,o+=a+"\n",c=a.length))}return o};function l(e){this.suggestPrefix("rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#");for(var t=this.rootSubjects(e),r=t.roots,n=[],i=0;i<r.length;i++){var a=r[i];n.push(g(a,t))}return n}var d=l.bind(this);function f(e){return"undefined"===typeof e?"@@@undefined@@@@":e.replace(/[&<"]/g,(function(e){switch(e[0]){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;"}}))}function h(e){return f(this.base?o.uri.refTo(this.base,e.uri):e.uri)}var p=h.bind(this);function y(e,t){var r,n,i,o,s=[],u=t.subjects[this.toStr(e)];if("undefined"===typeof u)return b(e,t);u.sort((function(e,t){var r=e.predicate.uri,n=t.predicate.uri;if(r.substring(0,a.length)===a||n.substring(0,a.length)===a)return r.localeCompare(n);var i=r.substring(a.length),o=n.substring(a.length),s=parseInt(i,10),u=parseInt(o,10);return isNaN(s)||isNaN(u)||s!==i||u!==o?r.localeCompare(n):s-u}));for(var c=0;c<u.length;c++)if(i=u[c],"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"!==i.predicate.uri||r||"symbol"!==i.object.termType){if(o=i.predicate,o.uri.substr(0,a.length)===a){var l=o.uri.substr(a.length),d=parseInt(l,10);l===d.toString()&&(o=this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#li"))}switch(n=_(o),i.object.termType){case"BlankNode":s=1===t.incoming[i.object].length?s.concat(["<"+n+' rdf:parseType="Resource">',g(i.object,t),"</"+n+">"]):s.concat(["<"+n+' rdf:nodeID="'+i.object.toNT().slice(2)+'"/>']);break;case"NamedNode":s=s.concat(["<"+n+' rdf:resource="'+p(i.object)+'"/>']);break;case"Literal":s=s.concat(["<"+n+(i.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+f(i.object.datatype.uri)+'"')+(i.object.language?' xml:lang="'+i.object.language+'"':"")+">"+f(i.object.value)+"</"+n+">"]);break;case"Collection":s=s.concat(["<"+n+' rdf:parseType="Collection">',v(i.object,t),"</"+n+">"]);break;default:throw new Error("Can't serialize object of type "+i.object.termType+" into XML")}}else r=i.object;var h=r?_(r):"rdf:Description",y="";return"BlankNode"===e.termType?t.incoming[e]&&1===t.incoming[e].length||(y=' rdf:nodeID="'+e.toNT().slice(2)+'"'):y=' rdf:about="'+p(e)+'"',["<"+h+y+">"].concat([s]).concat(["</"+h+">"])}var g=y.bind(this);function v(e,t){for(var r=[],n=0;n<e.elements.length;n++)r.push(g(e.elements[n],t));return r}function m(e,t){var r=[],n=t.subjects[this.toStr(e)];if(!n)return r;n.sort();for(var i=0;i<n.length;i++){var a=n[i];switch(a.object.termType){case"BlankNode":r=t.rootsHash[a.object.toNT()]?r.concat(["<"+_(a.predicate)+' rdf:nodeID="'+a.object.toNT().slice(2)+'">',"</"+_(a.predicate)+">"]):r.concat(["<"+_(a.predicate)+' rdf:parseType="Resource">',b(a.object,t),"</"+_(a.predicate)+">"]);break;case"NamedNode":r=r.concat(["<"+_(a.predicate)+' rdf:resource="'+p(a.object)+'"/>']);break;case"Literal":r=r.concat(["<"+_(a.predicate)+(a.object.datatype.equals(this.xsd.string)?"":' rdf:datatype="'+f(a.object.datatype.value)+'"')+(a.object.language?' xml:lang="'+a.object.language+'"':"")+">"+f(a.object.value)+"</"+_(a.predicate)+">"]);break;case"Collection":r=r.concat(["<"+_(a.predicate)+' rdf:parseType="Collection">',v(a.object,t),"</"+_(a.predicate)+">"]);break;default:throw new Error("Can't serialize object of type "+a.object.termType+" into XML")}}return r}var b=m.bind(this);function w(t){var r=t.uri,n=r.indexOf("#");if(n<0&&this.flags.indexOf("/")<0&&(n=r.lastIndexOf("/")),n<0)throw new Error("Cannot make qname out of <"+r+">");for(var a=n+1;a<r.length;a++)if(e.prototype._notNameChars.indexOf(r[a])>=0)throw new Error('Invalid character "'+r[a]+'" cannot be in XML qname for URI: '+r);var o=r.slice(n+1),s=r.slice(0,n+1);if(this.defaultNamespace&&this.defaultNamespace===s&&this.flags.indexOf("d")<0)return o;var u=this.prefixes[s];return u||(u=this.makeUpPrefix(s)),i[s]=!0,u+":"+o}var _=w.bind(this),x=d(t),E="<rdf:RDF";for(var T in this.defaultNamespace&&(E+=' xmlns="'+f(this.defaultNamespace)+'"'),i)if(i.hasOwnProperty(T)){var O=this.base&&this.flags.includes("z")?o.uri.refTo(this.base,T):T;E+="\n xmlns:"+this.prefixes[T]+'="'+f(O)+'"'}E+=">";var S=[E,x,"</rdf:RDF>"];return c(S,-1)};var n=function(t){return new e(t)};return n}();t.default=c},"7f9c":function(e,t,r){"use strict";(function(t,n){var i;e.exports=R,R.ReadableState=I;r("faa1").EventEmitter;var a=function(e,t){return e.listeners(t).length},o=r("e772"),s=r("b639").Buffer,u=t.Uint8Array||function(){};function c(e){return s.from(e)}function l(e){return s.isBuffer(e)||e instanceof u}var d,f=r(24);d=f&&f.debuglog?f.debuglog("stream"):function(){};var h,p,y,g=r("ca6f"),v=r("aa42"),m=r("16cc"),b=m.getHighWaterMark,w=r("ad69").codes,_=w.ERR_INVALID_ARG_TYPE,x=w.ERR_STREAM_PUSH_AFTER_EOF,E=w.ERR_METHOD_NOT_IMPLEMENTED,T=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r("3fb5")(R,o);var O=v.errorOrDestroy,S=["error","close","destroy","pause","resume"];function N(e,t,r){if("function"===typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function I(e,t,n){i=i||r("0884"),e=e||{},"boolean"!==typeof n&&(n=t instanceof i),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=b(this,e,"readableHighWaterMark",n),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=r("7d72").StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function R(e){if(i=i||r("0884"),!(this instanceof R))return new R(e);var t=this instanceof i;this._readableState=new I(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function k(e,t,r,n,i){d("readableAddChunk",t);var a,o=e._readableState;if(null===t)o.reading=!1,L(e,o);else if(i||(a=A(o,t)),a)O(e,a);else if(o.objectMode||t&&t.length>0)if("string"===typeof t||o.objectMode||Object.getPrototypeOf(t)===s.prototype||(t=c(t)),n)o.endEmitted?O(e,new T):j(e,o,t,!0);else if(o.ended)O(e,new x);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?j(e,o,t,!1):U(e,o)):j(e,o,t,!1)}else n||(o.reading=!1,U(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function j(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&F(e)),U(e,t)}function A(e,t){var r;return l(t)||"string"===typeof t||void 0===t||e.objectMode||(r=new _("chunk",["string","Buffer","Uint8Array"],t)),r}Object.defineProperty(R.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),R.prototype.destroy=v.destroy,R.prototype._undestroy=v.undestroy,R.prototype._destroy=function(e,t){t(e)},R.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"===typeof e&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=s.from(e,t),t=""),r=!0),k(this,e,t,!1,r)},R.prototype.unshift=function(e){return k(this,e,null,!0,!1)},R.prototype.isPaused=function(){return!1===this._readableState.flowing},R.prototype.setEncoding=function(e){h||(h=r("7d72").StringDecoder);var t=new h(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;var n=this._readableState.buffer.head,i="";while(null!==n)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var C=1073741824;function D(e){return e>=C?e=C:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function P(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=D(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function L(e,t){if(d("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?F(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,M(e)))}}function F(e){var t=e._readableState;d("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(M,e))}function M(e){var t=e._readableState;d("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,z(e)}function U(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(B,e,t))}function B(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length)){var r=t.length;if(d("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function q(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,z(e))}}function V(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function $(e){d("readable nexttick read 0"),e.read(0)}function G(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(H,e,t))}function H(e,t){d("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),z(e),t.flowing&&!t.reading&&e.read(0)}function z(e){var t=e._readableState;d("flow",t.flowing);while(t.flowing&&null!==e.read());}function Q(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function J(e){var t=e._readableState;d("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(W,t,e))}function W(e,t){if(d("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function X(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}R.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?J(this):F(this),null;if(e=P(e,t),0===e&&t.ended)return 0===t.length&&J(this),null;var n,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,d("length less than watermark",i)),t.ended||t.reading?(i=!1,d("reading or ended",i)):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=P(r,t))),n=e>0?Q(e,t):null,null===n?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&J(this)),null!==n&&this.emit("data",n),n},R.prototype._read=function(e){O(this,new E("_read()"))},R.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e);break}i.pipesCount+=1,d("pipe count=%d opts=%j",i.pipesCount,t);var o=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr,s=o?c:m;function u(e,t){d("onunpipe"),e===r&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,h())}function c(){d("onend"),e.end()}i.endEmitted?n.nextTick(s):r.once("end",s),e.on("unpipe",u);var l=q(r);e.on("drain",l);var f=!1;function h(){d("cleanup"),e.removeListener("close",g),e.removeListener("finish",v),e.removeListener("drain",l),e.removeListener("error",y),e.removeListener("unpipe",u),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",p),f=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l()}function p(t){d("ondata");var n=e.write(t);d("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==X(i.pipes,e))&&!f&&(d("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function y(t){d("onerror",t),m(),e.removeListener("error",y),0===a(e,"error")&&O(e,t)}function g(){e.removeListener("finish",v),m()}function v(){d("onfinish"),e.removeListener("close",g),m()}function m(){d("unpipe"),r.unpipe(e)}return r.on("data",p),N(e,"error",y),e.once("close",g),e.once("finish",v),e.emit("pipe",r),i.flowing||(d("pipe resume"),r.resume()),e},R.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,{hasUnpiped:!1});return this}var o=X(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},R.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,d("on readable",i.length,i.reading),i.length?F(this):i.reading||n.nextTick($,this))),r},R.prototype.addListener=R.prototype.on,R.prototype.removeListener=function(e,t){var r=o.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(V,this),r},R.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(V,this),t},R.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!e.readableListening,G(this,e)),e.paused=!1,this},R.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},R.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(d("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){if(d("wrapped data"),r.decoder&&(i=r.decoder.write(i)),(!r.objectMode||null!==i&&void 0!==i)&&(r.objectMode||i&&i.length)){var a=t.push(i);a||(n=!0,e.pause())}})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<S.length;a++)e.on(S[a],this.emit.bind(this,S[a]));return this._read=function(t){d("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"===typeof Symbol&&(R.prototype[Symbol.asyncIterator]=function(){return void 0===p&&(p=r("20a3")),p(this)}),Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(R.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(R.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),R._fromList=Q,Object.defineProperty(R.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(R.from=function(e,t){return void 0===y&&(y=r("c9cd")),y(R,e,t)})}).call(this,r("c8ba"),r("4362"))},8026:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Quad=void 0;class n{constructor(e,t,r,n){this.termType="Quad",this.value="",this.subject=e,this.predicate=t,this.object=r,this.graph=n}equals(e){return!!e&&("Quad"===e.termType||!e.termType)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}}t.Quad=n},8171:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("c513"),i=new n.DataFactory;function a(e,t){return t&&"DefaultGraph"===e.graph.termType?[e.subject,e.predicate,e.object]:[e.subject,e.predicate,e.object,e.graph]}function o(e,t){const r=[];for(const n of a(e,t))"Quad"===n.termType?o(n,t).forEach(e=>r.push(e)):r.push(n);return r}function s(e){return[{key:"subject",value:e.subject},{key:"predicate",value:e.predicate},{key:"object",value:e.object},{key:"graph",value:e.graph}]}function u(e,t,r){const n={};return e.forEach(e=>n[e.key]=e.value),t&&(n.subject=n.subject||t("subject"),n.predicate=n.predicate||t("predicate"),n.object=n.object||t("object"),n.graph=n.graph||t("graph")),(r||i).quad(n.subject,n.predicate,n.object,n.graph)}function c(e,t){t(e.subject,"subject"),t(e.predicate,"predicate"),t(e.object,"object"),t(e.graph,"graph")}function l(e,t){const r=[];return t(e.subject,"subject")&&r.push(e.subject),t(e.predicate,"predicate")&&r.push(e.predicate),t(e.object,"object")&&r.push(e.object),t(e.graph,"graph")&&r.push(e.graph),r}function d(e,t){const r=[];return t(e.subject,"subject")&&r.push("subject"),t(e.predicate,"predicate")&&r.push("predicate"),t(e.object,"object")&&r.push("object"),t(e.graph,"graph")&&r.push("graph"),r}function f(e,t,r){return(r||i).quad(t(e.subject,"subject"),t(e.predicate,"predicate"),t(e.object,"object"),t(e.graph,"graph"))}function h(e,t,r){let n=r;return n=t(n,e.subject,"subject"),n=t(n,e.predicate,"predicate"),n=t(n,e.object,"object"),t(n,e.graph,"graph")}function p(e,t){return t(e.subject,"subject")&&t(e.predicate,"predicate")&&t(e.object,"object")&&t(e.graph,"graph")}function y(e,t){return t(e.subject,"subject")||t(e.predicate,"predicate")||t(e.object,"object")||t(e.graph,"graph")}function g(e,t){return!t||"Variable"===t.termType||"Quad"===t.termType&&"Quad"===e.termType&&m(e,t)||t.equals(e)}function v(e,t,r,n,i){return g(e.subject,t)&&g(e.predicate,r)&&g(e.object,n)&&g(e.graph,i)}function m(e,t){return v(e,t.subject,t.predicate,t.object,t.graph)}t.QUAD_TERM_NAMES=["subject","predicate","object","graph"],t.TRIPLE_TERM_NAMES=["subject","predicate","object"],t.getTerms=a,t.getTermsNested=o,t.getNamedTerms=s,t.collectNamedTerms=u,t.forEachTerms=c,t.filterTerms=l,t.filterQuadTermNames=d,t.mapTerms=f,t.reduceTerms=h,t.everyTerms=p,t.someTerms=y,t.matchTerm=g,t.matchPattern=v,t.matchPatternComplete=m},8322:function(e,t,r){"use strict";e.exports=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,r)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}},"851f":function(e,t,r){"use strict";var n=r("dbce"),i=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0});var a={term:!0,NextId:!0,fromNT:!0,fetcher:!0,graph:!0,lit:!0,st:!0,sym:!0,namedNode:!0,blankNode:!0,defaultGraph:!0,literal:!0,quad:!0,triple:!0,variable:!0,BlankNode:!0,Collection:!0,convert:!0,Empty:!0,Fetcher:!0,Formula:!0,Store:!0,IndexedFormula:!0,jsonParser:!0,Literal:!0,log:!0,N3Parser:!0,NamedNode:!0,Namespace:!0,Node:!0,parse:!0,Query:!0,queryToSPARQL:!0,RDFaProcessor:!0,RDFParser:!0,serialize:!0,Serializer:!0,SPARQLToQuery:!0,sparqlUpdateParser:!0,Statement:!0,UpdateManager:!0,UpdatesSocket:!0,UpdatesVia:!0,uri:!0,Util:!0,Variable:!0,DataFactory:!0,termValue:!0};Object.defineProperty(t,"BlankNode",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Collection",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"Empty",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"Fetcher",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"Formula",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"Store",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"IndexedFormula",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"jsonParser",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"Literal",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"log",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"N3Parser",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"NamedNode",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"Namespace",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"Node",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"Query",{enumerable:!0,get:function(){return _.Query}}),Object.defineProperty(t,"queryToSPARQL",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"RDFaProcessor",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"RDFParser",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(t,"serialize",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"Serializer",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(t,"SPARQLToQuery",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(t,"sparqlUpdateParser",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(t,"Statement",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(t,"UpdateManager",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"UpdatesSocket",{enumerable:!0,get:function(){return j.UpdatesSocket}}),Object.defineProperty(t,"UpdatesVia",{enumerable:!0,get:function(){return j.UpdatesVia}}),Object.defineProperty(t,"Variable",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(t,"DataFactory",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,"termValue",{enumerable:!0,get:function(){return F.termValue}}),t.Util=t.uri=t.convert=t.variable=t.triple=t.quad=t.literal=t.defaultGraph=t.blankNode=t.namedNode=t.sym=t.st=t.lit=t.graph=t.fetcher=t.fromNT=t.NextId=t.term=void 0;var o=i(r("43f6")),s=i(r("b1e9")),u=n(r("cc85"));t.convert=u;var c=i(r("b7d2")),l=i(r("902d")),d=i(r("f7ae")),f=i(r("c947")),h=i(r("fd4e")),p=i(r("085a")),y=i(r("3c962")),g=i(r("dfa6")),v=i(r("606c")),m=i(r("491a")),b=i(r("5125")),w=i(r("0d60")),_=r("b19c"),x=i(r("730c")),E=i(r("f51a")),T=i(r("c2f2")),O=i(r("b80f")),S=i(r("7971")),N=i(r("234b")),I=i(r("15a8")),R=i(r("c749")),k=i(r("e40c")),j=r("2321"),A=n(r("3897"));t.uri=A;var C=n(r("4b68"));t.Util=C;var D=i(r("089a")),P=i(r("691a")),L=r("ab32");Object.keys(L).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===L[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return L[e]}}))}));var F=r("073a"),M={};for(var U in P.default)"function"===typeof P.default[U]&&(M[U]=P.default[U].bind(P.default));var B=M.fetcher,q=M.graph,V=M.lit,$=M.st,G=M.namedNode,H=M.variable,z=M.blankNode,Q=M.defaultGraph,J=M.literal,W=M.quad,X=M.triple;t.triple=X,t.quad=W,t.literal=J,t.defaultGraph=Q,t.blankNode=z,t.variable=H,t.namedNode=t.sym=G,t.st=$,t.lit=V,t.graph=q,t.fetcher=B;var K=new d.default,Y=function(e){return K.fromNT(e)};t.fromNT=Y;var Z=b.default.fromValue;t.term=Z;var ee=o.default.nextId;t.NextId=ee},8764:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.createXSD=o,t.default=void 0;var i=n(r("970b")),a=n(r("8fd3"));function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.default,t=function e(){(0,i.default)(this,e)};return t.boolean=e.namedNode("http://www.w3.org/2001/XMLSchema#boolean"),t.dateTime=e.namedNode("http://www.w3.org/2001/XMLSchema#dateTime"),t.decimal=e.namedNode("http://www.w3.org/2001/XMLSchema#decimal"),t.double=e.namedNode("http://www.w3.org/2001/XMLSchema#double"),t.integer=e.namedNode("http://www.w3.org/2001/XMLSchema#integer"),t.langString=e.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.string=e.namedNode("http://www.w3.org/2001/XMLSchema#string"),t}var s=o(a.default),u=s;t.default=u},"89ae":function(e,t,r){"use strict";const n=r("c92f"),i=r("68fa"),a=r("30ba").IdentifierIssuer,o=r("5950"),s=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,u=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,c=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,l={headers:{accept:"application/ld+json, application/json"}},d={};function f(e,t){if(i.isArray(t))for(let r=0;r<t.length;++r)t[r]=f(e,t[r]);else if(n.isList(t))t["@list"]=f(e,t["@list"]);else if(i.isObject(t)){n.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const r=Object.keys(t).sort();for(let n=0;n<r.length;++n){const i=r[n];"@id"!==i&&(t[i]=f(e,t[i]))}}return t}e.exports=d,d.IdentifierIssuer=a,d.clone=function(e){if(e&&"object"===typeof e){let t;if(i.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=d.clone(e[r])}else if(e instanceof Map){t=new Map;for(const[r,n]of e)t.set(r,d.clone(n))}else if(e instanceof Set){t=new Set;for(const r of e)t.add(d.clone(r))}else if(i.isObject(e)){t={};for(const r in e)t[r]=d.clone(e[r])}else t=e.toString();return t}return e},d.asArray=function(e){return Array.isArray(e)?e:[e]},d.buildHeaders=(e={})=>{const t=Object.keys(e).some(e=>"accept"===e.toLowerCase());if(t)throw new RangeError('Accept header may not be specified; only "'+l.headers.accept+'" is supported.');return Object.assign({Accept:l.headers.accept},e)},d.parseLinkHeader=e=>{const t={},r=e.match(s);for(let n=0;n<r.length;++n){let e=r[n].match(u);if(!e)continue;const i={target:e[1]},a=e[2];while(e=c.exec(a))i[e[1]]=void 0===e[2]?e[3]:e[2];const o=i["rel"]||"";Array.isArray(t[o])?t[o].push(i):t.hasOwnProperty(o)?t[o]=[t[o],i]:t[o]=i}return t},d.validateTypeValue=(e,t)=>{if(!i.isString(e)&&(!i.isArray(e)||!e.every(e=>i.isString(e)))){if(t&&i.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&d.asArray(e["@default"]).every(e=>i.isString(e)))return}throw new o('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},d.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const r=e[t];return!i.isArray(r)||r.length>0}return!1},d.hasValue=(e,t,r)=>{if(d.hasProperty(e,t)){let a=e[t];const o=n.isList(a);if(i.isArray(a)||o){o&&(a=a["@list"]);for(let e=0;e<a.length;++e)if(d.compareValues(r,a[e]))return!0}else if(!i.isArray(r))return d.compareValues(r,a)}return!1},d.addValue=(e,t,r,n)=>{if(n=n||{},"propertyIsArray"in n||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),"prependValue"in n||(n.prependValue=!1),n.valueIsArray)e[t]=r;else if(i.isArray(r)){0===r.length&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),n.prependValue&&(r=r.concat(e[t]),e[t]=[]);for(let i=0;i<r.length;++i)d.addValue(e,t,r[i],n)}else if(e.hasOwnProperty(t)){const a=!n.allowDuplicate&&d.hasValue(e,t,r);i.isArray(e[t])||a&&!n.propertyIsArray||(e[t]=[e[t]]),a||(n.prependValue?e[t].unshift(r):e[t].push(r))}else e[t]=n.propertyIsArray?[r]:r},d.getValues=(e,t)=>[].concat(e[t]||[]),d.removeProperty=(e,t)=>{delete e[t]},d.removeValue=(e,t,r,n)=>{n=n||{},"propertyIsArray"in n||(n.propertyIsArray=!1);const i=d.getValues(e,t).filter(e=>!d.compareValues(e,r));0===i.length?d.removeProperty(e,t):1!==i.length||n.propertyIsArray?e[t]=i:e[t]=i[0]},d.relabelBlankNodes=(e,t)=>{t=t||{};const r=t.issuer||new a("_:b");return f(r,e)},d.compareValues=(e,t)=>e===t||(!(!n.isValue(e)||!n.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(i.isObject(e)&&"@id"in e&&i.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"]),d.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1},"8acc":function(e,t,r){"use strict";e.exports=class e{constructor(e,t=new Map,r=0){this.prefix=e,this._existing=t,this.counter=r}clone(){const{prefix:t,_existing:r,counter:n}=this;return new e(t,new Map(r),n)}getId(e){const t=e&&this._existing.get(e);if(t)return t;const r=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,r),r}hasId(e){return this._existing.has(e)}getOldIds(){return[...this._existing.keys()]}}},"8be9":function(e,t){var r="http://www.w3.org/2001/XMLSchema#integer",n="http://www.w3.org/2001/XMLSchema#string";function i(e){this._options=e=e||{};var t=e.prefixes||{};this._prefixByIri={};var r=[];for(var n in t){var i=t[n];c(i)&&(this._prefixByIri[i]=n,r.push(i))}var a=r.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+a+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._sparqlStar=e.sparqlStar,this._indent=c(e.indent)?e.indent:"  ",this._newline=c(e.newline)?e.newline:"\n",this._explicitDatatype=Boolean(e.explicitDatatype)}i.prototype.toQuery=function(e){var t="";return e.queryType&&(t+=e.queryType.toUpperCase()+" "),e.reduced&&(t+="REDUCED "),e.distinct&&(t+="DISTINCT "),e.variables?t+=f(e.variables,void 0,(function(e){return l(e)?this.toEntity(e):"("+this.toExpression(e.expression)+" AS "+u(e.variable)+")"}),this)+" ":e.template&&(t+=this.group(e.template,!0)+this._newline),e.from&&(t+=this.graphs("FROM ",e.from.default)+this.graphs("FROM NAMED ",e.from.named)),e.where&&(t+="WHERE "+this.group(e.where,!0)+this._newline),e.updates&&(t+=f(e.updates,";"+this._newline,this.toUpdate,this)),e.group&&(t+="GROUP BY "+f(e.group,void 0,(function(e){var t=c(e.expression)?e.expression:"("+this.toExpression(e.expression)+")";return e.variable?"("+t+" AS "+u(e.variable)+")":t}),this)+this._newline),e.having&&(t+="HAVING ("+f(e.having,void 0,this.toExpression,this)+")"+this._newline),e.order&&(t+="ORDER BY "+f(e.order,void 0,(function(e){var t="("+this.toExpression(e.expression)+")";return e.descending?"DESC "+t:t}),this)+this._newline),e.offset&&(t+="OFFSET "+e.offset+this._newline),e.limit&&(t+="LIMIT "+e.limit+this._newline),e.values&&(t+=this.values(e)),t=this.baseAndPrefixes(e)+t,t.trim()},i.prototype.baseAndPrefixes=function(e){var t=e.base?"BASE <"+e.base+">"+this._newline:"",r="";for(var n in e.prefixes)(this._options.allPrefixes||this._usedPrefixes[n])&&(r+="PREFIX "+n+": <"+e.prefixes[n]+">"+this._newline);return t+r},i.prototype.toPattern=function(e){var t=e.type||e instanceof Array&&"array"||(e.subject&&e.predicate&&e.object?"triple":"");if(!(t in this))throw new Error("Unknown entry type: "+t);return this[t](e)},i.prototype.triple=function(e){return this.toEntity(e.subject)+" "+this.toEntity(e.predicate)+" "+this.toEntity(e.object)+"."},i.prototype.array=function(e){return f(e,this._newline,this.toPattern,this)},i.prototype.bgp=function(e){return this.encodeTriples(e.triples)},i.prototype.encodeTriples=function(e){if(!e.length)return"";for(var t=[],r=void 0,n=void 0,i=0;i<e.length;i++){var a=e[i];d(a.subject,r)?d(a.predicate,n)?t.push(","):(n=a.predicate,t.push(";"+this._newline,this._indent,this.toEntity(n))):(r&&t.push("."+this._newline),r=a.subject,n=a.predicate,t.push(this.toEntity(r)," ",this.toEntity(n))),t.push(" ",this.toEntity(a.object))}return t.push("."),t.join("")},i.prototype.graph=function(e){return"GRAPH "+this.toEntity(e.name)+" "+this.group(e)},i.prototype.graphs=function(e,t){return t&&0!==t.length?f(t,"",(function(t){return e+this.toEntity(t)+this._newline}),this):""},i.prototype.group=function(e,t){return e=!0!==t?this.array(e.patterns||e.triples):this.toPattern("group"!==e.type?e:e.patterns),-1===e.indexOf(this._newline)?"{ "+e+" }":"{"+this._newline+this.indent(e)+this._newline+"}"},i.prototype.query=function(e){return this.toQuery(e)},i.prototype.filter=function(e){return"FILTER("+this.toExpression(e.expression)+")"},i.prototype.bind=function(e){return"BIND("+this.toExpression(e.expression)+" AS "+u(e.variable)+")"},i.prototype.optional=function(e){return"OPTIONAL "+this.group(e)},i.prototype.union=function(e){return f(e.patterns,this._newline+"UNION"+this._newline,(function(e){return this.group(e,!0)}),this)},i.prototype.minus=function(e){return"MINUS "+this.group(e)},i.prototype.values=function(e){var t,r,n=Object.keys(e.values.reduce((function(e,t){for(var r in t)e[r]=!0;return e}),{}));return 1===n.length?t=r="":(t="(",r=")"),"VALUES "+t+n.join(" ")+r+" {"+this._newline+f(e.values,this._newline,(function(e){return"  "+t+f(n,void 0,(function(t){return e[t]?this.toEntity(e[t]):"UNDEF"}),this)+r}),this)+this._newline+"}"},i.prototype.service=function(e){return"SERVICE "+(e.silent?"SILENT ":"")+this.toEntity(e.name)+" "+this.group(e)},i.prototype.toExpression=function(e){if(l(e))return this.toEntity(e);switch(e.type.toLowerCase()){case"aggregate":return e.aggregation.toUpperCase()+"("+(e.distinct?"DISTINCT ":"")+this.toExpression(e.expression)+(e.separator?'; SEPARATOR = "'+e.separator.replace(a,o)+'"':"")+")";case"functioncall":return this.toEntity(e.function)+"("+f(e.args,", ",this.toExpression,this)+")";case"operation":var t=e.operator.toUpperCase(),r=e.args||[];switch(e.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(l(r[0])?this.toEntity(r[0]):"("+this.toExpression(r[0])+")")+" "+t+" "+(l(r[1])?this.toEntity(r[1]):"("+this.toExpression(r[1])+")");case"!":return"!("+this.toExpression(r[0])+")";case"uminus":return"-("+this.toExpression(r[0])+")";case"notin":t="NOT IN";case"in":return this.toExpression(r[0])+" "+t+"("+(c(r[1])?r[1]:f(r[1],", ",this.toExpression,this))+")";case"notexists":t="NOT EXISTS";case"exists":return t+" "+this.group(r[0],!0);default:return t+"("+f(r,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+e.type)}},i.prototype.toEntity=function(e){if(l(e))switch(e.termType){case"Wildcard":return"*";case"Variable":return u(e);case"BlankNode":return"_:"+e.value;case"Literal":var t=e.value||"",i=e.language||"",s=e.datatype;if(e='"'+t.replace(a,o)+'"',i)e+="@"+i;else if(s){if(!this._explicitDatatype)switch(s.value){case n:return e;case r:if(/^\d+$/.test(t))return t+" "}e+="^^"+this.encodeIRI(s.value)}return e;case"Quad":if(!this._sparqlStar)throw new Error("SPARQL* support is not enabled");return e.graph&&"DefaultGraph"!==e.graph.termType?"<< GRAPH "+this.toEntity(e.graph)+" { "+this.toEntity(e.subject)+" "+this.toEntity(e.predicate)+" "+this.toEntity(e.object)+" }  >>":"<< "+this.toEntity(e.subject)+" "+this.toEntity(e.predicate)+" "+this.toEntity(e.object)+" >>";default:return this.encodeIRI(e.value)}else{var c=e.items.map(this.toEntity,this),d=e.pathType;switch(d){case"^":case"!":return d+c[0];case"*":case"+":case"?":return"("+c[0]+d+")";default:return"("+c.join(d)+")"}}};var a=/["\\\t\n\r\b\f]/g,o=function(e){return s[e]},s={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function u(e){return"?"+e.value}function c(e){return"string"===typeof e}function l(e){return"string"===typeof e.termType}function d(e,t){if(!e||!l(e))return!1;if(!t||!l(t))return!1;if(e.termType!==t.termType)return!1;switch(e.termType){case"Literal":return e.value===t.value&&e.language===t.language&&d(e.datatype,t.datatype);case"Quad":return d(e.subject,t.subject)&&d(e.predicate,t.predicate)&&d(e.object,t.object)&&d(e.graph,t.graph);default:return e.value===t.value}}function f(e,t,r,n){return e.map(r,n).join(c(t)?t:" ")}i.prototype.encodeIRI=function(e){var t=this._prefixRegex.exec(e);if(t){var r=this._prefixByIri[t[1]];return this._usedPrefixes[r]=!0,r+":"+t[2]}return"<"+e+">"},i.prototype.toUpdate=function(e){switch(e.type||e.updateType){case"load":return"LOAD"+(e.source?" "+this.toEntity(e.source):"")+(e.destination?" INTO GRAPH "+this.toEntity(e.destination):"");case"insert":return"INSERT DATA "+this.group(e.insert,!0);case"delete":return"DELETE DATA "+this.group(e.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(e.delete,!0);case"insertdelete":return(e.graph?"WITH "+this.toEntity(e.graph)+this._newline:"")+(e.delete.length?"DELETE "+this.group(e.delete,!0)+this._newline:"")+(e.insert.length?"INSERT "+this.group(e.insert,!0)+this._newline:"")+(e.using?this.graphs("USING ",e.using.default):"")+(e.using?this.graphs("USING NAMED ",e.using.named):"")+"WHERE "+this.group(e.where,!0);case"add":case"copy":case"move":return e.type.toUpperCase()+(e.source.default?" DEFAULT ":" ")+"TO "+this.toEntity(e.destination.name);case"create":case"clear":case"drop":return e.type.toUpperCase()+(e.silent?" SILENT ":" ")+(e.graph.default?"DEFAULT":e.graph.named?"NAMED":e.graph.all?"ALL":"GRAPH "+this.toEntity(e.graph.name));default:throw new Error("Unknown update query type: "+e.type)}},i.prototype.indent=function(e){return e.replace(/^/gm,this._indent)},e.exports=function(e={}){return{stringify:function(t){var r=Object.create(e);return r.prefixes=t.prefixes,new i(r).toQuery(t)},createGenerator:function(){return new i(e)}}}},"8ce0":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Literal=void 0;const n=r("9935");class i{constructor(e,t){this.termType="Literal",this.value=e,"string"===typeof t?(this.language=t,this.datatype=i.RDF_LANGUAGE_STRING):t?(this.language="",this.datatype=t):(this.language="",this.datatype=i.XSD_STRING)}equals(e){return!!e&&"Literal"===e.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}}t.Literal=i,i.RDF_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.XSD_STRING=new n.NamedNode("http://www.w3.org/2001/XMLSchema#string")},"8eeb":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("41e0"),t)},"8fd3":function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"defaultGraphURI",{enumerable:!0,get:function(){return y.defaultGraphURI}}),t.default=void 0;var i,a=n(r("9523")),o=n(r("43f6")),s=n(r("085a")),u=n(r("606c")),c=n(r("c749")),l=n(r("089a")),d=r("43f5"),f=n(r("03fd")),h=r("037b"),p=r("ab32"),y=r("5c0f"),g=new f.default,v={supports:(i={},(0,a.default)(i,h.Feature.collections,!1),(0,a.default)(i,h.Feature.defaultGraphType,!1),(0,a.default)(i,h.Feature.equalsMethod,!0),(0,a.default)(i,h.Feature.identity,!1),(0,a.default)(i,h.Feature.id,!0),(0,a.default)(i,h.Feature.reversibleId,!1),(0,a.default)(i,h.Feature.variableType,!0),i),blankNode:function(e){return new o.default(e)},defaultGraph:function(){return g},equals:function(e,t){return e===t||!e||!t||((0,p.isQuad)(e)||(0,p.isQuad)(t)?!(!(0,p.isQuad)(e)||!(0,p.isQuad)(t))&&(this.equals(e.subject,t.subject)&&this.equals(e.predicate,t.predicate)&&this.equals(e.object,t.object)&&this.equals(e.graph,t.graph)):!(!(0,p.isTerm)(e)||!(0,p.isTerm)(t))&&this.id(e)===this.id(t))},id:function(e){if(!e)return"undefined";if((0,p.isQuad)(e))return this.quadToNQ(e);switch(e.termType){case d.DefaultGraphTermType:return"defaultGraph";case d.VariableTermType:return l.default.toString(e);default:var t=this.termToNQ(e);if(t)return t;throw new Error("Can't id term with type '".concat(e.termType,"'"))}},isQuad:function(e){return e instanceof c.default},literal:function(e,t){if("string"!==typeof e&&!t)return s.default.fromValue(e);var r="string"===typeof e?e:""+e;return"string"===typeof t?-1===t.indexOf(":")?new s.default(r,t):new s.default(r,null,this.namedNode(t)):new s.default(r,null,t)},namedNode:function(e){return new u.default(e)},quad:function(e,t,r,n){return new c.default(e,t,r,n||g)},triple:function(e,t,r,n){return this.quad(e,t,r,n)},quadToNQ:function(e){return"".concat(this.termToNQ(e.subject)," ").concat(this.termToNQ(e.predicate)," ").concat(this.termToNQ(e.object)," ").concat(this.termToNQ(e.graph)," .")},termToNQ:function(e){var t=this;switch(e.termType){case d.BlankNodeTermType:return"_:"+e.value;case d.DefaultGraphTermType:return"";case d.EmptyTermType:return"<http://www.w3.org/1999/02/22-rdf-syntax-ns#nil>";case d.LiteralTermType:return s.default.toNT(e);case d.GraphTermType:case d.NamedNodeTermType:return"<"+e.value+">";case d.CollectionTermType:return"("+e.elements.map((function(e){return t.termToNQ(e)})).join(" ")+")";default:throw new Error("Can't serialize nonstandard term type (was '".concat(e.termType,"')"))}},toNQ:function(e){return this.isQuad(e)?this.quadToNQ(e):this.termToNQ(e)},variable:function(e){return new l.default(e)}},m=v;t.default=m},"902d":function(e,t,r){"use strict";var n=r("dbce"),i=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(r("a34a")),o=i(r("c973")),s=i(r("5bc3")),u=i(r("ed6d")),c=i(r("6b58")),l=i(r("36c6")),d=i(r("970b")),f=i(r("9523")),h=i(r("c947")),p=i(r("3c962")),y=i(r("dfa6")),g=i(r("606c")),v=i(r("491a")),m=i(r("0d60")),b=r("f51a"),w=i(r("c2f2")),_=n(r("3897")),x=r("ab32"),E=n(r("4b68")),T=i(r("b80f")),O=n(r("5d61")),S=r("43f5"),N=r("073a"),I=i(r("e1b7"));function R(e){var t=k();return function(){var r,n=(0,l.default)(e);if(t){var i=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var j={"text/n3":!0,"text/turtle":!0,"application/rdf+xml":!0,"application/xhtml+xml":!0,"text/html":!0,"application/ld+json":!0},A={rdf:S.RDFXMLContentType,owl:S.RDFXMLContentType,n3:"text/n3",ttl:"text/turtle",nt:"text/n3",acl:"text/n3",html:"text/html",xml:"text/xml"},C=function(e){return{link:(0,v.default)("http://www.w3.org/2007/ont/link#",e),http:(0,v.default)("http://www.w3.org/2007/ont/http#",e),httph:(0,v.default)("http://www.w3.org/2007/ont/httph#",e),rdf:(0,v.default)("http://www.w3.org/1999/02/22-rdf-syntax-ns#",e),rdfs:(0,v.default)("http://www.w3.org/2000/01/rdf-schema#",e),dc:(0,v.default)("http://purl.org/dc/elements/1.1/",e),ldp:(0,v.default)("http://www.w3.org/ns/ldp#",e)}},D=C(),P=function e(t,r){(0,d.default)(this,e),(0,f.default)(this,"response",void 0),(0,f.default)(this,"dom",void 0),this.response=t,this.dom=r};(0,f.default)(P,"pattern",void 0);var L=function(e){(0,u.default)(r,e);var t=R(r);function r(){return(0,d.default)(this,r),t.apply(this,arguments)}return(0,s.default)(r,[{key:"parse",value:function(e,t,r){var n=e.store;this.dom||(this.dom=E.parseXML(t));var i=this.dom.documentElement;if("parsererror"===i.nodeName)return e.failFetch(r,"Badly formed XML in "+r.resource.value,"parse_error");var a=new w.default(n);try{a.parse(this.dom,r.original.value,r.original)}catch(o){return e.failFetch(r,"Syntax error parsing RDF/XML! "+o,"parse_error")}return r.noMeta||n.add(r.original,D.rdf("type"),D.link("RDFDocument"),e.appNode),e.doneFetch(r,this.response)}}],[{key:"toString",value:function(){return"RDFXMLHandler"}},{key:"register",value:function(e){e.mediatypes[S.RDFXMLContentType]={q:.9}}}]),r}(P);L.pattern=new RegExp("application/rdf\\+xml");var F=function(e){(0,u.default)(r,e);var t=R(r);function r(){return(0,d.default)(this,r),t.apply(this,arguments)}return(0,s.default)(r,[{key:"parse",value:function(e,t,r){var n,i;this.dom||(this.dom=E.parseXML(t));var a=e.store,o=this.dom.getElementsByTagName("title");o.length>0&&a.add(r.resource,D.dc("title"),a.rdfFactory.literal(o[0].textContent),r.resource);for(var s=this.dom.getElementsByTagName("link"),u=s.length-1;u>=0;u--)n=s[u].getAttribute("rel"),i=!1,n||(n=s[u].getAttribute("rev"),i=!0),n&&e.linkData(r.original,n,s[u].getAttribute("href"),r.resource,i);for(var c=this.dom.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l].getAttribute("type");j[d]&&((0,m.default)(c[l].textContent,a,r.original.value,d),(0,m.default)(c[l].textContent,a,r.original.value,d))}if(r.noMeta||a.add(r.resource,D.rdf("type"),D.link("WebPage"),e.appNode),!r.noRDFa&&b.parseRDFaDOM)try{(0,b.parseRDFaDOM)(this.dom,a,r.original.value)}catch(h){var f="Error trying to parse "+r.resource+" as RDFa:\n"+h+":\n"+h.stack;return e.failFetch(r,f,"parse_error")}return e.doneFetch(r,this.response)}}],[{key:"toString",value:function(){return"XHTMLHandler"}},{key:"register",value:function(e){e.mediatypes[S.XHTMLContentType]={}}}]),r}(P);F.pattern=new RegExp("application/xhtml");var M=function(e){(0,u.default)(r,e);var t=R(r);function r(){return(0,d.default)(this,r),t.apply(this,arguments)}return(0,s.default)(r,[{key:"parse",value:function(e,t,r){for(var n=E.parseXML(t),i=0;i<n.childNodes.length;i++)if(1===n.childNodes[i].nodeType){var a=n.childNodes[i].namespaceURI;if(a&&a===a["rdf"]){e.addStatus(r.req,"Has XML root element in the RDF namespace, so assume RDF/XML.");var o=new L(this.response,n);return o.parse(e,t,r)}break}if(n.doctype&&"html"===n.doctype.name&&n.doctype.publicId.match(/^-\/\/W3C\/\/DTD XHTML/)&&n.doctype.systemId.match(/http:\/\/www.w3.org\/TR\/xhtml/)){e.addStatus(r.req,"Has XHTML DOCTYPE. Switching to XHTML Handler.\n");var s=new F(this.response,n);return s.parse(e,t,r)}var u=n.getElementsByTagName("html")[0];if(u){var c=u.getAttribute("xmlns");if(c&&c.match(/^http:\/\/www.w3.org\/1999\/xhtml/)){e.addStatus(r.req,"Has a default namespace for XHTML. Switching to XHTMLHandler.\n");var l=new F(this.response,n);return l.parse(e,t,r)}}return e.failFetch(r,"Unsupported dialect of XML: not RDF or XHTML namespace, etc.\n"+t.slice(0,80),901)}}],[{key:"toString",value:function(){return"XMLHandler"}},{key:"register",value:function(e){e.mediatypes["text/xml"]={q:.5},e.mediatypes["application/xml"]={q:.5}}}]),r}(P);M.pattern=new RegExp("(text|application)/(.*)xml");var U=function(e){(0,u.default)(r,e);var t=R(r);function r(){return(0,d.default)(this,r),t.apply(this,arguments)}return(0,s.default)(r,[{key:"parse",value:function(e,t,r){var n=e.store;if(H(t)){e.addStatus(r.req,"Has an XML declaration. We'll assume it's XHTML as the content-type was text/html.\n");var i=new F(this.response);return i.parse(e,t,r)}if(G(t)){e.addStatus(r.req,"Has XHTML DOCTYPE. Switching to XHTMLHandler.\n");var a=new F(this.response);return a.parse(e,t,r)}if(z(t)){e.addStatus(r.req,"Has default namespace for XHTML, so switching to XHTMLHandler.\n");var o=new F(this.response);return o.parse(e,t,r)}var s=new RegExp("<title>([\\s\\S]+?)</title>","im").exec(t);return s&&n.add(r.resource,D.dc("title"),n.rdfFactory.literal(s[1]),r.resource),n.add(r.resource,D.rdf("type"),D.link("WebPage"),e.appNode),e.addStatus(r.req,"non-XML HTML document, not parsed for data."),e.doneFetch(r,this.response)}}],[{key:"toString",value:function(){return"HTMLHandler"}},{key:"register",value:function(e){e.mediatypes["text/html"]={q:.9}}}]),r}(P);U.pattern=new RegExp("text/html");var B=function(e){(0,u.default)(r,e);var t=R(r);function r(){return(0,d.default)(this,r),t.apply(this,arguments)}return(0,s.default)(r,[{key:"parse",value:function(e,t,r,n){var i=e.store;return new Promise((function(a,o){try{(0,I.default)(t,i,r.original.value,a)}catch(u){var s="Error trying to parse "+r.resource+" as JSON-LD:\n"+u;a(e.failFetch(r,s,"parse_error",n))}}))}}],[{key:"toString",value:function(){return"JsonLdHandler"}},{key:"register",value:function(e){e.mediatypes["application/ld+json"]={q:.9}}}]),r}(P);B.pattern=/application\/ld\+json/;var q=function(e){(0,u.default)(r,e);var t=R(r);function r(){return(0,d.default)(this,r),t.apply(this,arguments)}return(0,s.default)(r,[{key:"parse",value:function(e,t,r){if(H(t)){e.addStatus(r.req,"Warning: "+r.resource+" has an XML declaration. We'll assume it's XML but its content-type wasn't XML.\n");var n=new M(this.response);return n.parse(e,t,r)}if(t.slice(0,500).match(/xmlns:/)){e.addStatus(r.req,"May have an XML namespace. We'll assume it's XML but its content-type wasn't XML.\n");var i=new M(this.response);return i.parse(e,t,r)}return e.addStatus(r.req,"Plain text document, no known RDF semantics."),e.doneFetch(r,this.response)}}],[{key:"toString",value:function(){return"TextHandler"}},{key:"register",value:function(e){e.mediatypes["text/plain"]={q:.5}}}]),r}(P);q.pattern=new RegExp("text/plain");var V=function(e){(0,u.default)(r,e);var t=R(r);function r(){return(0,d.default)(this,r),t.apply(this,arguments)}return(0,s.default)(r,[{key:"parse",value:function(e,t,r,n){var i=e.store,a=(0,y.default)(i,i,r.original.value,r.original.value,null,null,"",null);try{a.loadBuf(t)}catch(s){var o="Error trying to parse "+r.resource+" as Notation3:\n"+s;return e.failFetch(r,o,"parse_error",n)}return e.addStatus(r.req,"N3 parsed: "+a.statementCount+" triples in "+a.lines+" lines."),e.store.add(r.original,D.rdf("type"),D.link("RDFDocument"),e.appNode),e.doneFetch(r,this.response)}}],[{key:"toString",value:function(){return"N3Handler"}},{key:"register",value:function(e){e.mediatypes["text/n3"]={q:"1.0"},e.mediatypes["text/turtle"]={q:1}}}]),r}(P);V.pattern=new RegExp("(application|text)/(x-)?(rdf\\+)?(n3|turtle)");var $={RDFXMLHandler:L,XHTMLHandler:F,XMLHandler:M,HTMLHandler:U,TextHandler:q,N3Handler:V,JsonLdHandler:B};function G(e){var t=e.indexOf("<!DOCTYPE html"),r=e.indexOf(">");return!(-1===t||-1===r||t>r)&&-1!==e.substr(t,r-t).indexOf("XHTML")}function H(e){var t=e.match(/\s*<\?xml\s+version\s*=[^<>]+\?>/);return!!t}function z(e){var t=e.match(/[^(<html)]*<html\s+[^<]*xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml["'][^<]*>/);return!!t}var Q=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,d.default)(this,e),(0,f.default)(this,"store",void 0),(0,f.default)(this,"timeout",void 0),(0,f.default)(this,"_fetch",void 0),(0,f.default)(this,"mediatypes",void 0),(0,f.default)(this,"appNode",void 0),(0,f.default)(this,"requested",void 0),(0,f.default)(this,"timeouts",void 0),(0,f.default)(this,"redirectedTo",void 0),(0,f.default)(this,"fetchQueue",void 0),(0,f.default)(this,"fetchCallbacks",void 0),(0,f.default)(this,"nonexistent",void 0),(0,f.default)(this,"lookedUp",void 0),(0,f.default)(this,"handlers",void 0),(0,f.default)(this,"ns",void 0),(0,f.default)(this,"fireCallbacks",void 0),this.store=t||new h.default,this.ns=C(this.store.rdfFactory),this.timeout=n.timeout||3e4,this._fetch=n.fetch||"undefined"!==typeof window&&window.solidFetcher||O.default,!this._fetch)throw new Error("No _fetch function available for Fetcher");this.appNode=this.store.rdfFactory.blankNode(),this.store.fetcher=this,this.requested={},this.timeouts={},this.redirectedTo={},this.fetchQueue={},this.fetchCallbacks={},this.nonexistent={},this.lookedUp={},this.handlers=[],this.mediatypes={"image/*":{q:.9},"*/*":{q:.1}},E.callbackify(this,["request","fail","refresh","retract","done"]),Object.keys(n.handlers||$).map((function(e){return r.addHandler($[e])}))}return(0,s.default)(e,[{key:"load",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r=Object.assign({},r),e instanceof Array)return Promise.all(e.map((function(e){return t.load(e,Object.assign({},r))})));var n=e,i=(0,N.termValue)(n);i=i.split("#")[0],r=this.initFetchOptions(i,r);var a=this.initFetchOptions(i,r);return this.pendingFetchPromise(i,a.baseURI,a)}},{key:"pendingFetchPromise",value:function(e,t,r){var n,i=this;return!r.force&&this.fetchQueue[t]?n=this.fetchQueue[t]:(n=Promise.race([this.setRequestTimeout(e,r),this.fetchUri(e,r)]),this.fetchQueue[t]=n,this.cleanupFetchRequest(t,void 0,this.timeout)),n.then((function(t){return e in i.timeouts&&(i.timeouts[e].forEach(clearTimeout),delete i.timeouts[e]),t}))}},{key:"cleanupFetchRequest",value:function(e,t,r){var n=this;void 0!==t&&console.warn("_options is deprecated"),this.timeouts[e]=(this.timeouts[e]||[]).concat(setTimeout((function(){n.isPending(e)||delete n.fetchQueue[e]}),r))}},{key:"initFetchOptions",value:function(t,r){var n=this.store,i=!r.method||"GET"===r.method.toUpperCase();i||(r.force=!0),r.resource=n.rdfFactory.namedNode(t),r.baseURI=r.baseURI||t,r.original=n.rdfFactory.namedNode(r.baseURI),r.req=n.bnode(),r.headers=r.headers||new O.Headers,r.contentType&&(r.headers["content-type"]=r.contentType),r.force&&(r.cache="no-cache");var a=this.acceptString();r.headers["accept"]=a;var o=e.offlineOverride(t);r.requestedURI=o,e.setCredentials(o,r);var s=e.proxyIfNecessary(o);return o!==s&&(r.proxyUsed=!0),r.actualProxyURI=s,r}},{key:"fetchUri",value:function(t,r){var n=this;if(!t)return Promise.reject(new Error("Cannot fetch an empty uri"));if(e.unsupportedProtocol(t))return this.failFetch(r,"fetcher: Unsupported protocol","unsupported_protocol");var i=this.getState(t);if(r.force)delete this.nonexistent[t];else{if("fetched"===i)return Promise.resolve(this.doneFetch(r,{status:200,ok:!0,statusText:"Already loaded into quadstore."}));if("failed"===i&&404===this.requested[t]){var a="Previously failed: "+this.requested[t],o={url:t,status:this.requested[t],statusText:a,responseText:a,headers:new O.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return this.failFetch(r,a,this.requested[t],o)}}this.fireCallbacks("request",[t]),this.requested[t]=!0,r.noMeta||this.saveRequestMetadata(t,r);var s=r.actualProxyURI;return this._fetch(s,r).then((function(e){return n.handleResponse(e,t,r)}),(function(e){var i={url:s,status:999,statusText:(e.name||"network failure")+": "+(e.errno||e.code||e.type),responseText:e.message,headers:new O.Headers,ok:!1,body:null,bodyUsed:!1,size:0,timeout:0};return console.log("Fetcher: <"+s+"> Non-HTTP fetch exception: "+e),n.handleError(i,t,r)}))}},{key:"nowOrWhenFetched",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=(0,N.termValue)(e);"function"===typeof t?r=t:"undefined"===typeof t||((0,x.isNamedNode)(t)?n.referringTerm=t:n=t),this.load(i,n).then((function(e){if(r)if(e)if(e.ok)r(!0,"OK",e);else{var t="HTTP error: Status "+e.status+" ("+e.statusText+")";e.responseText&&(t+=" "+e.responseText),console.log(t+" fetching "+i),r(!1,t,e)}else{var n="@@ nowOrWhenFetched:  no response object!";console.log(n),r(!1,n)}}),(function(e){var t=e.message||e.statusText;t="Failed to load  <"+i+"> "+t,console.log(t),e.response&&e.response.status&&(t+=" status: "+e.response.status),r(!1,t,e.response)}))}},{key:"addStatus",value:function(e,t){var r=new Date;t="["+r.getHours()+":"+r.getMinutes()+":"+r.getSeconds()+"."+r.getMilliseconds()+"] "+t;var n=this.store,i=n.the(e,this.ns.link("status"));(0,x.isCollection)(i)?i.append(n.rdfFactory.literal(t)):p.default.warn("web.js: No list to add to: "+i+","+t)}},{key:"failFetch",value:function(e,t,r,n){this.addStatus(e.req,t),e.noMeta||this.store.add(e.original,this.ns.link("error"),this.store.rdfFactory.literal(t));var i=(e.method||"GET").toUpperCase(),a="GET"===i||"HEAD"===i;a&&(e.resource.equals(e.original),this.requested[_.docpart(e.original.value)]=r,this.fireCallbacks("fail",[e.original.value,t]));var o=new Error("Fetcher: "+t);return o.status=r,o.statusText=t,o.response=n,Promise.reject(o)}},{key:"linkData",value:function(e,t,r,n,i){if(r){var a,o=this.store,s=o.rdfFactory.namedNode(_.join(r,e.value));if("alternate"===t||"seeAlso"===t||"meta"===t||"describedby"===t){if(s.value===e.value)return;a=this.ns.rdfs("seeAlso")}else a="type"===t?o.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):o.rdfFactory.namedNode(_.join(encodeURIComponent(t),"http://www.iana.org/assignments/link-relations/"));i?o.add(s,a,e,n):o.add(e,a,s,n)}}},{key:"parseLinkHeader",value:function(e,t,r){if(e){var n=/<[^>]*>\s*(\s*;\s*[^()<>@,;:"/[\]?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*")))*(,|$)/g,i=/[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*"))/g,a=e.match(n);if(null!=a)for(var o=0;o<a.length;o++){var s=a[o].split(">"),u=s[0].substring(1),c=s[1],l=c.match(i);if(null==l)return;for(var d=0;d<l.length;d++){var f=l[d],h=f.split("="),p=h[1].replace(/["']/g,"");this.linkData(t,p,u,r)}}}}},{key:"doneFetch",value:function(e,t){return this.addStatus(e.req,"Done."),this.requested[e.original.value]="done",this.fireCallbacks("done",[e.original.value]),t.req=e.req,t}},{key:"nowKnownAs",value:function(e,t){this.lookedUp[e.value]?this.lookedUp[t.value]||this.lookUpThing(t,e):this.lookedUp[t.value]&&(this.lookedUp[e.value]||this.lookUpThing(e,t))}},{key:"putBack",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,N.termValue)(e),n=new g.default(r).doc();return t.contentType=t.contentType||S.TurtleContentType,t.data=(0,T.default)(n,this.store,n.value,t.contentType),this.webOperation("PUT",r,t)}},{key:"webCopy",value:function(e,t,r){var n=this;return this.webOperation("GET",e).then((function(e){return n.webOperation("PUT",t,{data:e.responseText,contentType:r})}))}},{key:"delete",value:function(e,t){var r=this;return this.webOperation("DELETE",e,t).then((function(t){return r.requested[e]=404,r.nonexistent[e]=!0,r.unload(r.store.rdfFactory.namedNode(e)),t}))}},{key:"createIfNotExists",value:function(){var e=(0,o.default)(a.default.mark((function e(t){var r,n,i,o,s=arguments;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:S.TurtleContentType,n=s.length>2&&void 0!==s[2]?s[2]:"",i=this,e.prev=3,e.next=6,i.load(t);case 6:o=e.sent,e.next=29;break;case 9:if(e.prev=9,e.t0=e["catch"](3),404!==e.t0.response.status){e.next=27;break}return console.log("createIfNotExists: doc does NOT exist, will create... "+t),e.prev=13,e.next=16,i.webOperation("PUT",t.value,{data:n,contentType:r});case 16:o=e.sent,e.next=23;break;case 19:throw e.prev=19,e.t1=e["catch"](13),console.log("createIfNotExists doc FAILED: "+t+": "+e.t1),e.t1;case 23:return delete i.requested[t.value],e.abrupt("return",o);case 27:throw console.log("createIfNotExists doc load error NOT 404:  "+t+": "+e.t0),e.t0;case 29:return e.abrupt("return",o);case 30:case"end":return e.stop()}}),e,this,[[3,9],[13,19]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createContainer",value:function(e,t,r){var n={"content-type":S.TurtleContentType,link:this.ns.ldp("BasicContainer")+'; rel="type"'};t&&(n["slug"]=t);var i={headers:n};return r&&(i.body=r),this.webOperation("POST",e,i)}},{key:"invalidateCache",value:function(e){var t=(0,N.termValue)(e),r=this;if(r.fetchQueue&&r.fetchQueue[t]){console.log("Internal error - fetchQueue exists "+t);var n=r.fetchQueue[t];"resolved"===n["PromiseStatus"]?delete r.fetchQueue[t]:(delete r.fetchQueue[t],console.log("*** Fetcher: pending fetchQueue deleted "+t))}if(r.requested[t]&&"done"!==r.requested[t]&&"failed"!==r.requested[t]&&404!==r.requested[t]){var i="Rdflib: fetcher: Destructive operation on <".concat(r.requested[t],"> file being fetched! ")+t;console.error(i)}else delete r.requested[t],delete r.nonexistent[t]}},{key:"webOperation",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(0,N.termValue)(r);n.method=t,n.body=n.data||n.body,n.force=!0;var a=this;if(n.body&&!n.contentType)throw new Error("Web operation sending data must have a defined contentType.");return n.contentType&&(n.headers=n.headers||{},n.headers["content-type"]=n.contentType),e.setCredentials(i,n),new Promise((function(e,r){a._fetch(i,n).then((function(n){if(n.ok)"PUT"!==t&&"PATCH"!==t&&"POST"!==t&&"DELETE"!==t||a.invalidateCache(i),n.body?n.text().then((function(t){n.responseText=t,e(n)})):e(n);else{var o="Web error: "+n.status;n.statusText&&(o+=" ("+n.statusText+")"),o+=" on "+t+" of <"+i+">",n.responseText&&(o+=": "+n.responseText);var s=new Error(o);s.response=n,r(s)}}),(function(e){var n="Fetch error for "+t+" of <"+i+">:"+e;r(new Error(n))}))}))}},{key:"lookUpThing",value:function(e,t){var r=this,n=this.store.uris(e);return n=n.map((function(e){return _.docpart(e)})),n.forEach((function(e){r.lookedUp[e]=!0})),this.load(n,{referringTerm:t})}},{key:"getHeader",value:function(e,t){for(var r=this.store,n=e.value,i=r.each(void 0,this.ns.link("requestedURI"),r.rdfFactory.literal(n)),a=0;a<i.length;a++){var o=i[a];if(void 0!==o){var s=r.any(o,this.ns.link("response"));if(void 0!==s&&r.anyValue(s,this.ns.http("status"))&&r.anyValue(s,this.ns.http("status")).startsWith("2")){var u=r.each(s,this.ns.httph(t.toLowerCase()));return u.length?u.map((function(e){return e.value})):[]}}}}},{key:"saveRequestMetadata",value:function(e,t){var r=t.req,n=this.store,i=t.referringTerm;this.addStatus(t.req,"Accept: "+t.headers["accept"]),(0,x.isNamedNode)(i)&&n.add(n.rdfFactory.namedNode(e),this.ns.link("requestedBy"),i,this.appNode),t.original&&t.original.value!==e&&n.add(r,this.ns.link("orginalURI"),n.rdfFactory.literal(t.original.value),this.appNode);var a=new Date,o="["+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()+"] ";n.add(r,this.ns.rdfs("label"),n.rdfFactory.literal(o+" Request for "+e),this.appNode),n.add(r,this.ns.link("requestedURI"),n.rdfFactory.literal(e),this.appNode),n.add(r,this.ns.link("status"),n.collection(),this.appNode)}},{key:"saveResponseMetadata",value:function(e,t){var r=this,n=this.store,i=n.bnode();return n.add(t.req,this.ns.link("response"),i,i),n.add(i,this.ns.http("status"),n.rdfFactory.literal(e.status),i),n.add(i,this.ns.http("statusText"),n.rdfFactory.literal(e.statusText),i),t.resource.value.startsWith("http")?(e.headers.forEach((function(e,a){n.add(i,r.ns.httph(a),r.store.rdfFactory.literal(e),i),"content-type"===a&&n.add(t.resource,r.ns.rdf("type"),n.rdfFactory.namedNode(E.mediaTypeClass(e).value),i)})),i):i}},{key:"objectRefresh",value:function(e){var t=this.store.uris(e);if("undefined"!==typeof t)for(var r=0;r<t.length;r++)this.refresh(this.store.rdfFactory.namedNode(_.docpart(t[r])))}},{key:"refresh",value:function(e,t){this.fireCallbacks("refresh",arguments),this.nowOrWhenFetched(e,{force:!0,clearPreviousData:!0},t)}},{key:"refreshIfExpired",value:function(e,t){var r=this.getHeader(e,"Expires");!r||new Date(r[0]).getTime()<=(new Date).getTime()?this.refresh(e,t):t(!0,"Not expired",{})}},{key:"retract",value:function(e){this.store.removeMany(void 0,void 0,void 0,e),e.value&&delete this.requested[_.docpart(e.value)],this.fireCallbacks("retract",arguments)}},{key:"getState",value:function(e){return"undefined"===typeof this.requested[e]?"unrequested":!0===this.requested[e]?"requested":"done"===this.requested[e]?"fetched":"redirected"===this.requested[e]?this.getState(this.redirectedTo[e]):"failed"}},{key:"isPending",value:function(e){return!0===this.requested[e]}},{key:"unload",value:function(e){this.store.removeDocument(e),delete this.requested[e.value]}},{key:"addHandler",value:function(e){this.handlers.push(e),e.register(this)}},{key:"retryNoCredentials",value:function(e,t){console.log("Fetcher: CORS: RETRYING with NO CREDENTIALS for "+t.resource),t.retriedWithNoCredentials=!0,delete this.requested[e],delete this.fetchQueue[e];var r=Object.assign({},t,{credentials:"omit"});return this.addStatus(t.req,"Abort: Will retry with credentials SUPPRESSED to see if that helps"),this.load(e,r)}},{key:"isCrossSite",value:function(e){if("undefined"===typeof document||!document.location)return!1;var t=_.hostpart,r=""+document.location;return(t(r)&&t(e)&&t(r))!==t(e)}},{key:"handleError",value:function(t,r,n){if(this.isCrossSite(r)){if(n.credentials&&"include"===n.credentials&&!n.retriedWithNoCredentials)return this.retryNoCredentials(r,n);var i=e.crossSiteProxy(r);if(i&&!n.proxyUsed)return console.log("web: Direct failed so trying proxy "+i),this.redirectToProxy(i,n)}var a;return t instanceof Error?a="Fetch error: "+t.message:(a=t.statusText,t.responseText&&(a+=" ".concat(t.responseText))),this.failFetch(n,a,t.status||998,t)}},{key:"addType",value:function(e,t,r,n){var i=t;if(n){var a=r.any(i,this.ns.link("requestedURI"));a&&a.value!==n&&r.add(r.rdfFactory.namedNode(n),this.ns.rdf("type"),e,this.appNode)}for(;;){var o=r.any(i,this.ns.link("requestedURI"));if(o&&o.value&&r.add(r.rdfFactory.namedNode(o.value),this.ns.rdf("type"),e,this.appNode),i=r.any(void 0,r.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#redirectedRequest"),i),!i)break;var s=r.any(i,r.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#response"));if(!s)break;var u=r.any(s,r.rdfFactory.namedNode("http://www.w3.org/2007/ont/http#status"));if(!u)break;if("301"!==u&&"302"!==u)break}}},{key:"handleResponse",value:function(e,t,r){var n=this,i=this.store,a=e.headers,o=r.req,s=this.saveResponseMetadata(e,r),u=this.normalizedContentType(r,a)||"",c=a.get("content-location");if(0===e.status)return console.log("Masked error - status 0 for "+t),this.handleError(e,t,r);if(e.status>=400)return 404===e.status&&(this.nonexistent[r.original.value]=!0,this.nonexistent[t]=!0),this.saveErrorResponse(e,s).then((function(){var t=r.resource+" "+e.statusText;return n.failFetch(r,t,e.status,e)}));var l=null,d=null;if(c&&(d=_.join(c,t),d!==t&&(l=d)),200===e.status){this.addType(this.ns.link("Document"),o,i,t),l&&this.addType(this.ns.link("Document"),o,i,l),r.clearPreviousData&&i.removeDocument(r.resource);var f=u.includes("image/")||u.includes("application/pdf");u&&f&&(this.addType(i.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),o,i,t),l&&this.addType(i.rdfFactory.namedNode("http://purl.org/dc/terms/Image"),o,i,l))}if(c){if(!r.force&&l&&"done"===this.requested[d])return this.doneFetch(r,e);this.requested[d]=!0}this.parseLinkHeader(a.get("link"),r.original,o);var h=this.handlerForContentType(u,e);return h?e.text().then((function(t){return e.responseText=t,h.parse(n,t,r,e)})):(this.addStatus(o,"Fetch over. No data handled."),this.doneFetch(r,e))}},{key:"saveErrorResponse",value:function(e,t){var r=this,n=this.store;return e.text().then((function(e){e.length>10&&n.add(t,r.ns.http("content"),n.rdfFactory.literal(e),t)}))}},{key:"handlerForContentType",value:function(e,t){if(!e)return null;var r=this.handlers.find((function(t){return e.match(t.pattern)}));return r?new r(t):null}},{key:"guessContentType",value:function(e){return A[e.split(".").pop()]}},{key:"normalizedContentType",value:function(e,t){if(e.forceContentType)return e.forceContentType;var r=t.get("content-type");if(!r||r.includes("application/octet-stream")){var n=this.guessContentType(e.resource.value);if(n)return n}var i=_.protocol(e.resource.value);return!r&&["file","chrome"].includes(i)?"text/xml":r}},{key:"redirectToProxy",value:function(e,t){var r=this;this.addStatus(t.req,"BLOCKED -> Cross-site Proxy to <"+e+">"),t.proxyUsed=!0;var n=this.store,i=t.req;t.noMeta||(n.add(i,this.ns.link("redirectedTo"),n.rdfFactory.namedNode(e),i),this.addStatus(i,"redirected to new request")),this.requested[t.resource.value]="redirected",this.redirectedTo[t.resource.value]=e;var a=Object.assign({},t);return a.baseURI=t.resource.value,this.fetchUri(e,a).then((function(e){return a.noMeta||n.add(i,r.ns.link("redirectedRequest"),a.req,r.appNode),e}))}},{key:"setRequestTimeout",value:function(e,t){var r=this;return new Promise((function(n){r.timeouts[e]=(r.timeouts[e]||[]).concat(setTimeout((function(){!r.isPending(e)||t.retriedWithNoCredentials||t.proxyUsed||n(r.failFetch(t,"Request to ".concat(e," timed out"),"timeout"))}),r.timeout))}))}},{key:"addFetchCallback",value:function(e,t){this.fetchCallbacks[e]?this.fetchCallbacks[e].push(t):this.fetchCallbacks[e]=[t]}},{key:"acceptString",value:function(){var e="";for(var t in this.mediatypes)for(var r in""!==e&&(e+=", "),e+=t,this.mediatypes[t])e+=";"+r+"="+this.mediatypes[t][r];return e}}],[{key:"crossSiteProxy",value:function(t){return e.crossSiteProxyTemplate?e.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(t)):void 0}},{key:"offlineOverride",value:function(e){var t,r=e;return"undefined"!==typeof window&&window.panes&&(t=window.panes.UI)&&t.preferences&&t.preferences.get("offlineModeUsingLocalhost")&&"http://"===r.slice(0,7)&&"localhost/"!==r.slice(7,17)&&(r="http://localhost/"+r.slice(7),p.default.warn("Localhost kludge for offline use: actually getting <"+r+">")),r}},{key:"proxyIfNecessary",value:function(t){var r;if("undefined"!==typeof window&&window.panes&&(r=window.panes.UI)&&r.isExtension)return t;if("undefined"!==typeof $SolidTestEnvironment&&$SolidTestEnvironment.localSiteMap){var n=t.split("/").slice(2),i=function e(t,r){var n=r[t.shift()];return n?"string"===typeof n?n+t.join("/"):t?e(t,n):null:null},a=i(n,$SolidTestEnvironment.localSiteMap);if(a)return a}return e.crossSiteProxyTemplate&&"undefined"!==typeof document&&document.location&&"https:"===(""+document.location).slice(0,6)&&"http:"===t.slice(0,5)?e.crossSiteProxyTemplate.replace("{uri}",encodeURIComponent(t)):t}},{key:"unsupportedProtocol",value:function(e){var t=_.protocol(e);return"tel"===t||"mailto"===t||"urn"===t}},{key:"setCredentials",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0===t.credentials&&(void 0!==t.withCredentials?t.credentials=t.withCredentials?"include":"omit":t.credentials="include")}}]),e}();t.default=Q,(0,f.default)(Q,"HANDLERS",void 0),(0,f.default)(Q,"CONTENT_TYPE_BY_EXT",void 0),(0,f.default)(Q,"crossSiteProxyTemplate",void 0),Q.HANDLERS=$,Q.CONTENT_TYPE_BY_EXT=A},9093:function(e,t,r){"use strict";const n=r("1f25"),i=10;e.exports=class{constructor({document:e}){this.document=e,this.cache=new n({max:i})}getProcessed(e){return this.cache.get(e)}setProcessed(e,t){this.cache.set(e,t)}}},9523:function(e,t){function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},9604:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("600b"),i=a(r("00e8"));function a(e){return e&&e.__esModule?e:{default:e}}class o{handle(e,t){const{root:r}=t;return(e="",a="text/turtle")=>(0,n.toIterablePromise)((async function*(){const n=new Set;for await(const e of t){const t=/^https?:\/\/[^#]+/.exec(e?e.value:"");t&&n.add(t[0])}const o=[...n].map(t=>i.default.fetch(t,{method:"PUT",headers:{"Content-Type":a},body:e}));await Promise.all(o);for(const e of n)yield r[e]}))}}t.default=o},9659:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("c513"),i=r("5189"),a=r("b4c9").Wildcard;class o{constructor(e){this.dataFactory=e||new n.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(e,t){return{type:"alt",left:e,right:t}}createAsk(e){return{type:"ask",input:e}}createBoundAggregate(e,t,r,n,i){let a=this.createAggregateExpression(t,r,n,i);return a.variable=e,a}createBgp(e){return{type:"bgp",patterns:e}}createConstruct(e,t){return{type:"construct",input:e,template:t}}createDescribe(e,t){return{type:"describe",input:e,terms:t}}createDistinct(e){return{type:"distinct",input:e}}createExtend(e,t,r){return{type:"extend",input:e,variable:t,expression:r}}createFrom(e,t,r){return{type:"from",input:e,default:t,named:r}}createFilter(e,t){return{type:"filter",input:e,expression:t}}createGraph(e,t){return{type:"graph",input:e,name:t}}createGroup(e,t,r){return{type:"group",input:e,variables:t,aggregates:r}}createInv(e){return{type:"inv",path:e}}createJoin(e,t){return{type:"join",left:e,right:t}}createLeftJoin(e,t,r){return r?{type:"leftjoin",left:e,right:t,expression:r}:{type:"leftjoin",left:e,right:t}}createLink(e){return{type:"link",iri:e}}createMinus(e,t){return{type:"minus",left:e,right:t}}createNps(e){return{type:"nps",iris:e}}createOneOrMorePath(e){return{type:"OneOrMorePath",path:e}}createOrderBy(e,t){return{type:"orderby",input:e,expressions:t}}createPath(e,t,r,n){return n?{type:"path",subject:e,predicate:t,object:r,graph:n}:{type:"path",subject:e,predicate:t,object:r,graph:this.dataFactory.defaultGraph()}}createPattern(e,t,r,n){let i=this.dataFactory.quad(e,t,r,n);return i.type="pattern",i}createProject(e,t){return{type:"project",input:e,variables:t}}createReduced(e){return{type:"reduced",input:e}}createSeq(e,t){return{type:"seq",left:e,right:t}}createService(e,t,r){return{type:"service",input:e,name:t,silent:r}}createSlice(e,t,r){return void 0===t&&(t=0),void 0!==r?{type:"slice",input:e,start:t,length:r}:{type:"slice",input:e,start:t}}createUnion(e,t){return{type:"union",left:e,right:t}}createValues(e,t){return{type:"values",variables:e,bindings:t}}createZeroOrMorePath(e){return{type:"ZeroOrMorePath",path:e}}createZeroOrOnePath(e){return{type:"ZeroOrOnePath",path:e}}createAggregateExpression(e,t,r,n){return n?{type:"expression",expressionType:"aggregate",aggregator:e,expression:t,separator:n,distinct:r}:{type:"expression",expressionType:"aggregate",aggregator:e,expression:t,distinct:r}}createExistenceExpression(e,t){return{type:"expression",expressionType:"existence",not:e,input:t}}createNamedExpression(e,t){return{type:"expression",expressionType:"named",name:e,args:t}}createOperatorExpression(e,t){return{type:"expression",expressionType:"operator",operator:e,args:t}}createTermExpression(e){return{type:"expression",expressionType:"term",term:e}}createWildcardExpression(){return{type:"expression",expressionType:"wildcard",wildcard:new a}}createTerm(e){return i.stringToTerm(e,this.dataFactory)}createCompositeUpdate(e){return{type:"compositeupdate",updates:e}}createDeleteInsert(e,t,r){const n={type:"deleteinsert"};return e&&(n.delete=e),t&&(n.insert=t),r&&(n.where=r),n}createLoad(e,t,r){const n={type:"load",source:e};return t&&(n.destination=t),this.addSilent(n,r)}createClear(e,t){return this.addSilent({type:"clear",source:e},t)}createCreate(e,t){return this.addSilent({type:"create",source:e},t)}createDrop(e,t){return this.addSilent({type:"drop",source:e},t)}createAdd(e,t,r){return this.addSilent({type:"add",source:e,destination:t},r)}createMove(e,t,r){return this.addSilent({type:"move",source:e,destination:t},r)}createCopy(e,t,r){return this.addSilent({type:"copy",source:e,destination:t},r)}addSilent(e,t){return t&&(e.silent=t),e}}t.default=o},"96cf":function(e,t,r){var n=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),o=new R(n||[]);return a._invoke=O(e,r,o),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",y={};function g(){}function v(){}function m(){}var b={};b[a]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(k([])));_&&_!==r&&n.call(_,a)&&(b=_);var x=m.prototype=g.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"===typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var i;function a(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}this._invoke=a}function O(e,t,r){var n=d;return function(i,a){if(n===h)throw new Error("Generator is already running");if(n===p){if("throw"===i)throw a;return j()}r.method=i,r.arg=a;while(1){var o=r.delegate;if(o){var s=S(o,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===d)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var u=l(e,t,r);if("normal"===u.type){if(n=r.done?p:f,u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=p,r.method="throw",r.arg=u.arg)}}}function S(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator["return"]&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=l(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function k(e){if(e){var r=e[a];if(r)return r.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){while(++i<e.length)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:j}}function j(){return{value:t,done:!0}}return v.prototype=x.constructor=m,m.constructor=v,v.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(T.prototype),T.prototype[o]=function(){return this},e.AsyncIterator=T,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new T(c(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),u(x,s,"Generator"),x[a]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){while(t.length){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;I(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:k(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}(e.exports);try{regeneratorRuntime=n}catch(i){Function("r","regeneratorRuntime = r")(n)}},"970b":function(e,t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=r,e.exports["default"]=e.exports,e.exports.__esModule=!0},9935:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamedNode=void 0;class n{constructor(e){this.termType="NamedNode",this.value=e}equals(e){return!!e&&"NamedNode"===e.termType&&e.value===this.value}}t.NamedNode=n},"9b92":function(e,t,r){var n=r("3cf1");e.exports=n},"9c67":function(e){e.exports=JSON.parse('{"@context":{"acl":"http://www.w3.org/ns/auth/acl#","app":"http://www.w3.org/ns/solid/app#","as":"https://www.w3.org/ns/activitystreams#","cert":"http://www.w3.org/ns/auth/cert#","dc":"http://purl.org/dc/elements/1.1/","dct":"http://purl.org/dc/terms/","foaf":"http://xmlns.com/foaf/0.1/","ldp":"http://www.w3.org/ns/ldp#","owl":"http://www.w3.org/2002/07/owl#","pim":"http://www.w3.org/ns/pim/space#","rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","rdfs":"http://www.w3.org/2000/01/rdf-schema#","schema":"http://schema.org/","sioc":"http://rdfs.org/sioc/ns#","solid":"http://www.w3.org/ns/solid/terms#","stat":"http://www.w3.org/ns/posix/stat#","ui":"http://www.w3.org/ns/ui#","vcard":"http://www.w3.org/2006/vcard/ns#","xsd":"http://www.w3.org/2001/XMLSchema#","accessControl":"acl:accessControl","accessTo":"acl:accessTo","accessToClass":"acl:accessToClass","agent":"acl:agent","agents":"acl:agent","agentClass":"acl:agentClass","agentClasses":"acl:agentClass","agentGroup":"acl:agentGroup","agentGroups":"acl:agentGroup","defaultAcl":"acl:default","defaultAclForNew":"acl:defaultForNew","delegates":"acl:delegates","mode":"acl:mode","modes":"acl:mode","origin":"acl:origin","origins":"acl:origin","actor":"as:actor","attachment":"as:attachment","attributedTo":"as:attributedTo","author":"as:author","bcc":"as:bcc","bto":"as:bto","cc":"as:cc","inReplyTo":"as:inReplyTo","object":"as:object","publicationDate":"as:published","subject":"as:subject","summary":"as:summary","target":"as:target","to":"as:to","abstract":"dc:abstract","abstracts":"dc:abstract","created":"dc:created","license":"dc:license","modified":"dc:modified","title":"dc:title","titles":"dc:title","account":"foaf:account","accounts":"foaf:account","age":"foaf:age","basedNear":"foaf:based_near","birthday":"foaf:birthday","blog":"foaf:weblog","depiction":"foaf:depiction","depicts":"foaf:depicts","email":"foaf:mbox","familyName":"foaf:familyName","firstName":"foaf:givenName","friend":"foaf:knows","friends":"foaf:knows","gender":"foaf:gender","givenName":"foaf:givenName","homepage":"foaf:homepage","image":"foaf:img","images":"foaf:img","interest":"foaf:topic_interest","interests":"foaf:topic_interest","knows":"foaf:knows","lastName":"foaf:familyName","logo":"foaf:logo","made":"foaf:made","maker":"foaf:maker","member":"foaf:member","name":"foaf:name","nick":"foaf:nick","page":"foaf:page","pages":"foaf:page","primaryTopic":"foaf:primaryTopic","primaryTopicOf":"foaf:primaryTopicOf","publication":"foaf:publications","publications":"foaf:publications","thumbnail":"foaf:thumbnail","thumbnails":"foaf:thumbnail","topic":"foaf:topic","topics":"foaf:topic","inbox":"ldp:inbox","inboxes":"ldp:inbox","storage":"pim:storage","preferences":"pim:preferencesFile","workspace":"pim:workspace","type":"rdf:type","types":"rdf:type","comment":"rdfs:comment","comments":"rdfs:comment","label":"rdfs:label","labels":"rdfs:label","seeAlso":"rdfs:seeAlso","definedBy":"rdfs:isDefinedBy","oidcIssuer":"solid:oidcIssuer","publicTypeIndex":"solid:publicTypeIndex","publicTypeIndexes":"solid:publicTypeIndex","privateTypeIndex":"solid:privateTypeIndex","privateTypeIndexes":"solid:privateTypeIndex"}}')},a22a:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Variable=void 0;class n{constructor(e){this.termType="Variable",this.value=e}equals(e){return!!e&&"Variable"===e.termType&&e.value===this.value}}t.Variable=n},a34a:function(e,t,r){e.exports=r("96cf")},a4d3:function(e,t,r){"use strict";var n=r("23e7"),i=r("da84"),a=r("d066"),o=r("c430"),s=r("83ab"),u=r("4930"),c=r("fdbf"),l=r("d039"),d=r("5135"),f=r("e8b5"),h=r("861d"),p=r("825a"),y=r("7b0b"),g=r("fc6a"),v=r("c04e"),m=r("5c6c"),b=r("7c73"),w=r("df75"),_=r("241c"),x=r("057f"),E=r("7418"),T=r("06cf"),O=r("9bf2"),S=r("d1e7"),N=r("9112"),I=r("6eeb"),R=r("5692"),k=r("f772"),j=r("d012"),A=r("90e3"),C=r("b622"),D=r("e538"),P=r("746f"),L=r("d44e"),F=r("69f3"),M=r("b727").forEach,U=k("hidden"),B="Symbol",q="prototype",V=C("toPrimitive"),$=F.set,G=F.getterFor(B),H=Object[q],z=i.Symbol,Q=a("JSON","stringify"),J=T.f,W=O.f,X=x.f,K=S.f,Y=R("symbols"),Z=R("op-symbols"),ee=R("string-to-symbol-registry"),te=R("symbol-to-string-registry"),re=R("wks"),ne=i.QObject,ie=!ne||!ne[q]||!ne[q].findChild,ae=s&&l((function(){return 7!=b(W({},"a",{get:function(){return W(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=J(H,t);n&&delete H[t],W(e,t,r),n&&e!==H&&W(H,t,n)}:W,oe=function(e,t){var r=Y[e]=b(z[q]);return $(r,{type:B,tag:e,description:t}),s||(r.description=t),r},se=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof z},ue=function(e,t,r){e===H&&ue(Z,t,r),p(e);var n=v(t,!0);return p(r),d(Y,n)?(r.enumerable?(d(e,U)&&e[U][n]&&(e[U][n]=!1),r=b(r,{enumerable:m(0,!1)})):(d(e,U)||W(e,U,m(1,{})),e[U][n]=!0),ae(e,n,r)):W(e,n,r)},ce=function(e,t){p(e);var r=g(t),n=w(r).concat(pe(r));return M(n,(function(t){s&&!de.call(r,t)||ue(e,t,r[t])})),e},le=function(e,t){return void 0===t?b(e):ce(b(e),t)},de=function(e){var t=v(e,!0),r=K.call(this,t);return!(this===H&&d(Y,t)&&!d(Z,t))&&(!(r||!d(this,t)||!d(Y,t)||d(this,U)&&this[U][t])||r)},fe=function(e,t){var r=g(e),n=v(t,!0);if(r!==H||!d(Y,n)||d(Z,n)){var i=J(r,n);return!i||!d(Y,n)||d(r,U)&&r[U][n]||(i.enumerable=!0),i}},he=function(e){var t=X(g(e)),r=[];return M(t,(function(e){d(Y,e)||d(j,e)||r.push(e)})),r},pe=function(e){var t=e===H,r=X(t?Z:g(e)),n=[];return M(r,(function(e){!d(Y,e)||t&&!d(H,e)||n.push(Y[e])})),n};if(u||(z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=A(e),r=function(e){this===H&&r.call(Z,e),d(this,U)&&d(this[U],t)&&(this[U][t]=!1),ae(this,t,m(1,e))};return s&&ie&&ae(H,t,{configurable:!0,set:r}),oe(t,e)},I(z[q],"toString",(function(){return G(this).tag})),I(z,"withoutSetter",(function(e){return oe(A(e),e)})),S.f=de,O.f=ue,T.f=fe,_.f=x.f=he,E.f=pe,D.f=function(e){return oe(C(e),e)},s&&(W(z[q],"description",{configurable:!0,get:function(){return G(this).description}}),o||I(H,"propertyIsEnumerable",de,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:z}),M(w(re),(function(e){P(e)})),n({target:B,stat:!0,forced:!u},{for:function(e){var t=String(e);if(d(ee,t))return ee[t];var r=z(t);return ee[t]=r,te[r]=t,r},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(d(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!s},{create:le,defineProperty:ue,defineProperties:ce,getOwnPropertyDescriptor:fe}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:he,getOwnPropertySymbols:pe}),n({target:"Object",stat:!0,forced:l((function(){E.f(1)}))},{getOwnPropertySymbols:function(e){return E.f(y(e))}}),Q){var ye=!u||l((function(){var e=z();return"[null]"!=Q([e])||"{}"!=Q({a:e})||"{}"!=Q(Object(e))}));n({target:"JSON",stat:!0,forced:ye},{stringify:function(e,t,r){var n,i=[e],a=1;while(arguments.length>a)i.push(arguments[a++]);if(n=t,(h(t)||void 0!==e)&&!se(e))return f(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!se(t))return t}),i[1]=t,Q.apply(null,i)}})}z[q][V]||N(z[q],V,z[q].valueOf),L(z,B),j[U]=!0},a55c:function(e,t){function r(e){this.value=e}r.prototype.equals=function(e){return!!e&&e.termType===this.termType&&e.value===this.value},r.prototype.termType="Variable",e.exports=r},a757:function(e,t,r){"use strict";const n=r("4284");e.exports=class extends n{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,r){return"BlankNode"!==t.termType?t:"graph"===r?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t){const r=new Map,n=this.blankNodeInfo.get(e).quads;for(const i of n){let n,a;if("BlankNode"===i.subject.termType&&i.subject.value!==e)a=i.subject.value,n="p";else{if("BlankNode"!==i.object.termType||i.object.value===e)continue;a=i.object.value,n="r"}const o=this.hashRelatedBlankNode(a,i,t,n),s=r.get(o);s?s.push(a):r.set(o,[a])}return r}}},a954:function(e,t,r){function n(e){this.options=e||{locator:{}}}function i(e,t,r){if(!e){if(t instanceof a)return t;e=t}var n={},i=e instanceof Function;function o(t){var a=e[t];!a&&i&&(a=2==e.length?function(r){e(t,r)}:e),n[t]=a&&function(e){a("[xmldom "+t+"]\t"+e+s(r))}||function(){}}return r=r||{},o("warning"),o("error"),o("fatalError"),n}function a(){this.cdata=!1}function o(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function s(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function u(e,t,r){return"string"==typeof e?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}function c(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}n.prototype.parseFromString=function(e,t){var r=this.options,n=new d,o=r.domBuilder||new a,s=r.errorHandler,u=r.locator,c=r.xmlns||{},f=/\/x?html?$/.test(t),h=f?l.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return u&&o.setDocumentLocator(u),n.errorHandler=i(s,o,u),n.domBuilder=r.domBuilder||o,f&&(c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",e?n.parse(e,c,h):n.errorHandler.error("invalid doc source"),o.doc},a.prototype={startDocument:function(){this.doc=(new f).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var i=this.doc,a=i.createElementNS(e,r||t),s=n.length;c(this,a),this.currentElement=a,this.locator&&o(this.locator,a);for(var u=0;u<s;u++){e=n.getURI(u);var l=n.getValue(u),d=(r=n.getQName(u),i.createAttributeNS(e,r));this.locator&&o(n.getLocator(u),d),d.value=d.nodeValue=l,a.setAttributeNode(d)}},endElement:function(e,t,r){var n=this.currentElement;n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&o(this.locator,r),c(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=u.apply(this,arguments),e){if(this.cdata)var n=this.doc.createCDATASection(e);else n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&o(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=u.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&o(this.locator,n),c(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(e,t,r);this.locator&&o(this.locator,i),c(this,i)}},warning:function(e){console.warn("[xmldom warning]\t"+e,s(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,s(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,s(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){a.prototype[e]=function(){return null}}));var l=r("c1a5"),d=r("cf0f").XMLReader,f=t.DOMImplementation=r("71a7").DOMImplementation;t.XMLSerializer=r("71a7").XMLSerializer,t.DOMParser=n},aa42:function(e,t,r){"use strict";(function(t){function r(e,r){var a=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(r?r(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(o,this,e)):t.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!r&&e?a._writableState?a._writableState.errorEmitted?t.nextTick(i,a):(a._writableState.errorEmitted=!0,t.nextTick(n,a,e)):t.nextTick(n,a,e):r?(t.nextTick(i,a),r(e)):t.nextTick(i,a)})),this)}function n(e,t){o(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(e,t){e.emit("error",t)}function s(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}e.exports={destroy:r,undestroy:a,errorOrDestroy:s}}).call(this,r("4362"))},ab32:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.isStatement=o,t.isStore=s,t.isCollection=u,t.isRDFlibObject=c,t.isVariable=l,t.isTerm=d,t.isLiteral=f,t.isQuad=h,t.isNamedNode=p,t.isBlankNode=y,t.isSubject=g,t.isPredicate=v,t.isRDFObject=m,t.isGraph=b;var i=n(r("7037")),a=r("43f5");function o(e){return"object"===(0,i.default)(e)&&null!==e&&"subject"in e}function s(e){return"object"===(0,i.default)(e)&&null!==e&&"statements"in e}function u(e){return d(e)&&e.termType===a.CollectionTermType}function c(e){return e&&Object.prototype.hasOwnProperty.call(e,"termType")&&(e.termType===a.NamedNodeTermType||e.termType===a.VariableTermType||e.termType===a.BlankNodeTermType||e.termType===a.CollectionTermType||e.termType===a.LiteralTermType||e.termType===a.GraphTermType)}function l(e){return d(e)&&e.termType===a.VariableTermType}function d(e){return"object"===(0,i.default)(e)&&null!==e&&"termType"in e}function f(e){return e.termType===a.LiteralTermType}function h(e){return"object"===(0,i.default)(e)&&null!==e&&"subject"in e&&"predicate"in e&&"object"in e}function p(e){return d(e)&&"NamedNode"===e.termType}function y(e){return d(e)&&"termType"in e&&"BlankNode"===e.termType}function g(e){return d(e)&&(e.termType===a.NamedNodeTermType||e.termType===a.VariableTermType||e.termType===a.BlankNodeTermType)}function v(e){return d(e)&&(e.termType===a.NamedNodeTermType||e.termType===a.VariableTermType)}function m(e){return d(e)&&(e.termType===a.NamedNodeTermType||e.termType===a.VariableTermType||e.termType===a.BlankNodeTermType||e.termType===a.LiteralTermType)}function b(e){return d(e)&&(e.termType===a.NamedNodeTermType||e.termType===a.VariableTermType||e.termType===a.BlankNodeTermType||e.termType===a.DefaultGraphTermType)}},acac:function(e,t,r){"use strict";var n=r("e2cc"),i=r("f183").getWeakData,a=r("825a"),o=r("861d"),s=r("19aa"),u=r("2266"),c=r("b727"),l=r("5135"),d=r("69f3"),f=d.set,h=d.getterFor,p=c.find,y=c.findIndex,g=0,v=function(e){return e.frozen||(e.frozen=new m)},m=function(){this.entries=[]},b=function(e,t){return p(e.entries,(function(e){return e[0]===t}))};m.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var r=b(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=y(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,c){var d=e((function(e,n){s(e,d,t),f(e,{type:t,id:g++,frozen:void 0}),void 0!=n&&u(n,e[c],{that:e,AS_ENTRIES:r})})),p=h(t),y=function(e,t,r){var n=p(e),o=i(a(t),!0);return!0===o?v(n).set(t,r):o[n.id]=r,e};return n(d.prototype,{delete:function(e){var t=p(this);if(!o(e))return!1;var r=i(e);return!0===r?v(t)["delete"](e):r&&l(r,t.id)&&delete r[t.id]},has:function(e){var t=p(this);if(!o(e))return!1;var r=i(e);return!0===r?v(t).has(e):r&&l(r,t.id)}}),n(d.prototype,r?{get:function(e){var t=p(this);if(o(e)){var r=i(e);return!0===r?v(t).get(e):r?r[t.id]:void 0}},set:function(e,t){return y(this,e,t)}}:{add:function(e){return y(this,e,!0)}}),d}}},ad69:function(e,t,r){"use strict";function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var i={};function a(e,t,r){function a(e,r,n){return"string"===typeof t?t:t(e,r,n)}r||(r=Error);var o=function(e){function t(t,r,n){return e.call(this,a(t,r,n))||this}return n(t,e),t}(r);o.prototype.name=r.name,o.prototype.code=e,i[e]=o}function o(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}function s(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function u(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function c(e,t,r){return"number"!==typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}a("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),a("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,i;if("string"===typeof t&&s(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be",u(e," argument"))i="The ".concat(e," ").concat(n," ").concat(o(t,"type"));else{var a=c(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(a," ").concat(n," ").concat(o(t,"type"))}return i+=". Received type ".concat(typeof r),i}),TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=i},ae15:function(e,t,r){"use strict";function n(e){return r("e2d8")(e,(e,t)=>e.equals(t))}function i(e,t){return e.filter(e=>e.termType===t)}function a(e){return i(e,"NamedNode")}function o(e){return i(e,"BlankNode")}function s(e){return i(e,"Literal")}function u(e){return i(e,"Variable")}function c(e){return i(e,"DefaultGraph")}function l(e){return i(e,"Quad")}Object.defineProperty(t,"__esModule",{value:!0}),t.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"],t.uniqTerms=n,t.getTermsOfType=i,t.getNamedNodes=a,t.getBlankNodes=o,t.getLiterals=s,t.getVariables=u,t.getDefaultGraphs=c,t.getQuads=l},ae29:function(e,t,r){"use strict";const n=r("8acc"),i=r("5a76"),a=r("c79e"),o=r("65e1");function s(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor(){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new n("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}async main(e){this.quads=e;for(const n of e)this._addBlankNodeQuadInfo({quad:n,component:n.subject}),this._addBlankNodeQuadInfo({quad:n,component:n.object}),this._addBlankNodeQuadInfo({quad:n,component:n.graph});const t=new Map,r=[...this.blankNodeInfo.keys()];let i=0;for(const n of r)++i%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:n,hashToBlankNodes:t});const a=[...t.keys()].sort(),u=[];for(const n of a){const e=t.get(n);if(e.length>1){u.push(e);continue}const r=e[0];this.canonicalIssuer.getId(r)}for(const o of u){const e=[];for(const t of o){if(this.canonicalIssuer.hasId(t))continue;const r=new n("_:b");r.getId(t);const i=await this.hashNDegreeQuads(t,r);e.push(i)}e.sort(s);for(const t of e){const e=t.issuer.getOldIds();for(const t of e)this.canonicalIssuer.getId(t)}}const c=[];for(const n of this.quads){const e={...n};e.subject=this._useCanonicalId({component:e.subject}),e.object=this._useCanonicalId({component:e.object}),e.graph=this._useCanonicalId({component:e.graph}),c.push(o.serializeQuad(e))}return c.sort(),c.join("")}async hashFirstDegreeQuads(e){const t=[],r=this.blankNodeInfo.get(e),n=r.quads;for(const i of n){const r={subject:null,predicate:i.predicate,object:null,graph:null};r.subject=this.modifyFirstDegreeComponent(e,i.subject,"subject"),r.object=this.modifyFirstDegreeComponent(e,i.object,"object"),r.graph=this.modifyFirstDegreeComponent(e,i.graph,"graph"),t.push(o.serializeQuad(r))}t.sort();const a=new i(this.hashAlgorithm);for(const i of t)a.update(i);return r.hash=await a.digest(),r.hash}async hashRelatedBlankNode(e,t,r,n){let a;a=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):r.hasId(e)?r.getId(e):this.blankNodeInfo.get(e).hash;const o=new i(this.hashAlgorithm);return o.update(n),"g"!==n&&o.update(this.getRelatedPredicate(t)),o.update(a),o.digest()}async hashNDegreeQuads(e,t){const r=new i(this.hashAlgorithm),n=await this.createHashToRelated(e,t),o=[...n.keys()].sort();for(const i of o){r.update(i);let e,o="";const s=new a(n.get(i));let u=0;while(s.hasNext()){const r=s.next();++u%3===0&&await this._yield();let n=t.clone(),i="";const a=[];let c=!1;for(const e of r)if(this.canonicalIssuer.hasId(e)?i+=this.canonicalIssuer.getId(e):(n.hasId(e)||a.push(e),i+=n.getId(e)),0!==o.length&&i>o){c=!0;break}if(!c){for(const e of a){const t=await this.hashNDegreeQuads(e,n);if(i+=n.getId(e),i+=`<${t.hash}>`,n=t.issuer,0!==o.length&&i>o){c=!0;break}}c||(0===o.length||i<o)&&(o=i,e=n)}}r.update(o),t=e}return{hash:await r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}async createHashToRelated(e,t){const r=new Map,n=this.blankNodeInfo.get(e).quads;let i=0;for(const a of n)++i%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:a,component:a.subject,position:"s",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:a,component:a.object,position:"o",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:a,component:a.graph,position:"g",id:e,issuer:t,hashToRelated:r})]);return r}async _hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const r=await this.hashFirstDegreeQuads(e),n=t.get(r);n?n.push(e):t.set(r,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;const r=t.value,n=this.blankNodeInfo.get(r);n?n.quads.add(e):this.blankNodeInfo.set(r,{quads:new Set([e]),hash:null})}async _addRelatedBlankNodeHash({quad:e,component:t,position:r,id:n,issuer:i,hashToRelated:a}){if("BlankNode"!==t.termType||t.value===n)return;const o=t.value,s=await this.hashRelatedBlankNode(o,e,i,r),u=a.get(s);u?u.push(o):a.set(s,[o])}_useCanonicalId({component:e}){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}async _yield(){return new Promise(e=>setImmediate(e))}}},ae55:function(e,t,r){t=e.exports=r("7f9c"),t.Stream=t,t.Readable=t,t.Writable=r("406c"),t.Duplex=r("0884"),t.Transform=r("2ce0"),t.PassThrough=r("284f"),t.finished=r("5c90"),t.pipeline=r("443a")},b19c:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.indexedFormulaQuery=l,t.Query=void 0;var i=n(r("970b")),a=n(r("c947")),o=r("5c0f"),s=n(r("3c962")),u=r("3897"),c=function e(t,r){(0,i.default)(this,e),this.pat=new a.default,this.vars=[],this.name=t,this.id=r};function l(e,t,r,n){function i(e){var t,r="";for(t in e)e.hasOwnProperty(t)&&(r+="    "+t+" -> "+e[t]);return r}function a(e){var t,r="Bindings: ",n=e.length;for(t=0;t<n;t++)r+=i(e[t][0])+";\n\t";return r}function c(e,t,r,n){var i=r[e];if(void 0===i){if(e.isVar){var a=[];return a[e]=t,[[a,null]]}i=e}if(!i.complexType)return n.redirections[i]&&(i=n.redirections[i]),n.redirections[t]&&(t=n.redirections[t]),i.equals(t)||i.uri&&i.uri===o.defaultGraphURI?[[[],null]]:[];if(e instanceof Array)return t instanceof Array?l(e,t,r):[];throw new Error("query.js: oops - code not written yet")}function l(e,t,r,n){var i;if(e.length!==t.length)return[];if(!e.length)return[[[],null]];var a=c(e[0],t[0],r,n);if(0===a.length)return a;var o,s,u,d,f,h,p,y=[],g=a.length;for(o=0;o<g;o++){for(f in s=a[o][0],p=[],s)s.hasOwnProperty(f)&&(p[f]=s[f]);for(f in r)r.hasOwnProperty(f)&&(p[f]=r[f]);for(i=l(e.slice(1),t.slice(1),p,n),d=i.length,u=0;u<d;u++){for(f in h=i[u][0],s)s.hasOwnProperty(f)&&(h[f]=s[f]);y.push([h,null])}}return y}function d(e,t){var r=t[e];return void 0===r?e:r}function f(e,t){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function h(e,t){return this.trunkBindings=t,this.originalCallback=e,this.branches=[],this}function p(e,t){return this.count=0,this.success=!1,this.done=!1,this.callback=e,this.onDone=t,this}h.prototype.checkAllDone=function(){var e;for(e=0;e<this.branches.length;e++)if(!this.branches[e].done)return;s.default.debug("OPTIONAL BIDNINGS ALL DONE:"),this.doCallBacks(this.branches.length-1,this.trunkBindings)},h.prototype.doCallBacks=function(e,t){var r;if(e<0)return this.originalCallback(t);for(r=0;r<this.branches[e].results.length;r++)this.doCallBacks(e-1,f(t,this.branches[e].results[r]))},p.prototype.reportMatch=function(e){this.callback(e),this.success=!0},p.prototype.reportDone=function(){this.done=!0,s.default.info("Mandatory query branch finished.***"),void 0!==this.onDone&&this.onDone()};var y=function(e){return this.count=0,this.done=!1,this.results=[],this.junction=e,e.branches.push(this),this};function g(e,t,r){var n,i,a,s;for(t.nvars=0,t.index=null,n=[t.subject,t.predicate,t.object,t.why],s=[e.subjectIndex,e.predicateIndex,e.objectIndex,e.whyIndex],a=0;a<4;a++){var u=n[a];if(u.uri&&u.uri===o.defaultGraphURI);else if(u.isVar&&void 0===r[u])t.nvars++;else{if(u=d(n[a],r),e.redirections[e.id(u)]&&(u=e.redirections[e.id(u)]),i=s[a][e.id(u)],!i)return t.index=[],!1;(null===t.index||t.index.length>i.length)&&(t.index=i)}}return null===t.index&&(t.index=e.statements),!0}function v(e,t){return e.nvars!==t.nvars?e.nvars-t.nvars:e.index.length-t.index.length}y.prototype.reportMatch=function(e){this.results.push(e)},y.prototype.reportDone=function(){s.default.debug("Optional branch finished - results.length = "+this.results.length),0===this.results.length&&(this.results.push({}),s.default.debug("Optional branch FAILED - that's OK.")),this.done=!0,this.junction.checkAllDone()};var m=0,b=function e(r,n,a,o,c,l,d){s.default.debug("Match begins, Branch count now: "+d.count+" for "+d.pattern_debug);var f,p,g=n.statements;if(0===g.length){if(s.default.debug("FOUND MATCH WITH BINDINGS:"+i(a)),0===n.optional.length)d.reportMatch(a);else{s.default.debug("OPTIONAL: "+n.optional);var v,b=new h(t,a),w=[];for(v=0;v<n.optional.length;v++)w[v]=new y(b),w[v].pattern_debug=n.optional[v];for(v=0;v<n.optional.length;v++)w[v].count=w[v].count+1,e(r,n.optional[v],a,"",c,t,w[v])}return d.count--,void s.default.debug("Match ends -- success , Branch count now: "+d.count+" for "+d.pattern_debug)}var x=g.length;if(c){var E="match"+m++,T=function(t,i){var s=t.uri.split("#")[0];c.nowOrWhenFetched(s,void 0,(function(i,s,u){i||console.log("Error following link to <"+t.uri+"> in query: "+s),e(r,n,a,o,c,l,d)}))};for(p=0;p<x;p++){if(f=g[p],void 0!==a[f.subject]&&a[f.subject].uri&&c&&"unrequested"===c.getState((0,u.docpart)(a[f.subject].uri)))return void T(a[f.subject],E);if(void 0!==a[f.object]&&a[f.object].uri&&c&&"unrequested"===c.getState((0,u.docpart)(a[f.object].uri)))return void T(a[f.object],E)}}_(r,n,a,o,c,l,d)},w=function(e,t){var r,n,i=!0;for(r in e)e.hasOwnProperty(r)&&t[r]&&(n=t[r].test,n&&!n(e[r])&&(i=!1));return i},_=function(e,t,r,n,o,u,c){var d,f,h,p,y,m,_,x=t.statements,E=x.length;for(d=0;d<E;d++)_=x[d],g(e,_,r);x.sort(v),_=x[0];var T,O=e.formula();O.optional=t.optional,O.constraints=t.constraints,O.statements=x.slice(1),s.default.debug(n+"match2 searching "+_.index.length+" for "+_+"; bindings so far="+i(r));var S,N,I=_.index.length,R=0;for(T=0;T<I;T++)for(N=_.index[T],S=l([_.subject,_.predicate,_.object,_.why],[N.subject,N.predicate,N.object,N.why],r,e),s.default.info(n+" From first: "+S.length+": "+a(S)),h=S.length,f=0;f<h;f++)if(y=[],m=S[f][0],w(m,t.constraints)){for(p in m)m.hasOwnProperty(p)&&(y[p]=m[p]);for(p in r)r.hasOwnProperty(p)&&(y[p]=r[p]);c.count++,R++,b(e,O,y,n+"  ",o,u,c)}else s.default.debug("Branch count CS: "+c.count);c.count--,0===R&&s.default.debug("Match2 fails completely on "+_),s.default.debug("Match2 ends, Branch count: "+c.count+" for "+c.pattern_debug),0===c.count&&(s.default.debug("Branch finished."),c.reportDone())},x=this;s.default.debug("Query on "+this.statements.length);var E=new p(t,n);E.count++,e.sync?b(x,e.pat,e.pat.initBindings,"",r,t,E):setTimeout((function(){b(x,e.pat,e.pat.initBindings,"",r,t,E)}),0)}t.Query=c},b1e9:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.fromValue=b,t.default=void 0;var i=n(r("970b")),a=n(r("5bc3")),o=n(r("3c96")),s=n(r("ed6d")),u=n(r("6b58")),c=n(r("36c6")),l=n(r("9523")),d=n(r("43f6")),f=n(r("21b4")),h=n(r("085a")),p=n(r("33e3")),y=r("43f5"),g=r("ab32");function v(e){var t=m();return function(){var r,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function b(e){return"undefined"===typeof e||null===e||(0,g.isTerm)(e)?e:Array.isArray(e)?new w(e):h.default.fromValue(e)}var w=function(e){(0,s.default)(r,e);var t=v(r);function r(e){var n;return(0,i.default)(this,r),n=t.call(this,(d.default.nextId++).toString()),(0,l.default)((0,o.default)(n),"termType",y.CollectionTermType),(0,l.default)((0,o.default)(n),"classOrder",f.default.Collection),(0,l.default)((0,o.default)(n),"closed",!1),(0,l.default)((0,o.default)(n),"compareTerm",d.default.prototype.compareTerm),(0,l.default)((0,o.default)(n),"elements",[]),(0,l.default)((0,o.default)(n),"isVar",0),e&&e.length>0&&e.forEach((function(e){n.elements.push(b(e))})),n}return(0,a.default)(r,[{key:"append",value:function(e){return this.elements.push(e)}},{key:"close",value:function(){return this.closed=!0,this.closed}},{key:"shift",value:function(){return this.elements.shift()}},{key:"substitute",value:function(e){var t=this.elements.map((function(t){return t.substitute(e)}));return new r(t)}},{key:"toNT",value:function(){return r.toNT(this)}},{key:"toString",value:function(){return"("+this.elements.join(" ")+")"}},{key:"unshift",value:function(e){return this.elements.unshift(e)}},{key:"id",get:function(){return this.value},set:function(e){this.value=e}}],[{key:"toNT",value:function(e){return d.default.NTAnonymousNodePrefix+e.id}}]),r}(p.default);t.default=w,(0,l.default)(w,"termType",y.CollectionTermType)},b474:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r("ef3c")),i=r("f947");function a(e){return e&&e.__esModule?e:{default:e}}const o="SELECT ?subject ?predicate ?object WHERE {\n  ?subject a _:type;\n      <https://www.w3.org/ns/activitystreams#actor> _:actor;\n      <https://www.w3.org/ns/activitystreams#object> _:object.\n  ?subject ?predicate ?object.\n}\n",s=["?subject","?predicate","?object"];class u extends n.default{async*createResults(e,t,r){const n=(0,i.replaceVariables)(o,e);for await(const a of r.execute(n,t)){const e=s.map(e=>(0,i.termToString)(a.get(e)));yield"".concat(e.join(" "),".\n")}}async processResults(e,t,r){const n="DELETE {\n".concat(e.join(""),"}");return await r.executeUpdate(n,t).next(),[]}}t.default=u},b4c9:function(e,t,r){var n=r("f036").Parser,i=r("8be9"),a=r("51b7").Wildcard,{DataFactory:o}=r("c513");e.exports={Parser:function({prefixes:e,baseIRI:t,factory:r,sparqlStar:i,skipUngroupedVariableCheck:a}={}){var s={};for(var u in e||{})s[u]=e[u];var c=new n;return c.parse=function(){return n.base=t||"",n.prefixes=Object.create(s),n.factory=r||new o,n.sparqlStar=Boolean(i),n.skipUngroupedVariableCheck=Boolean(a),n.prototype.parse.apply(c,arguments)},c._resetBlanks=n._resetBlanks,c},Generator:i,Wildcard:a}},b636:function(e,t,r){var n=r("746f");n("asyncIterator")},b727:function(e,t,r){var n=r("0366"),i=r("44ad"),a=r("7b0b"),o=r("50c4"),s=r("65f0"),u=[].push,c=function(e){var t=1==e,r=2==e,c=3==e,l=4==e,d=6==e,f=7==e,h=5==e||d;return function(p,y,g,v){for(var m,b,w=a(p),_=i(w),x=n(y,g,3),E=o(_.length),T=0,O=v||s,S=t?O(p,E):r||f?O(p,0):void 0;E>T;T++)if((h||T in _)&&(m=_[T],b=x(m,T,w),e))if(t)S[T]=b;else if(b)switch(e){case 3:return!0;case 5:return m;case 6:return T;case 2:u.call(S,m)}else switch(e){case 4:return!1;case 7:u.call(S,m)}return d?-1:c||l?l:S}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},b7d2:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("970b")),a=n(r("5bc3")),o=n(r("3c96")),s=n(r("ed6d")),u=n(r("6b58")),c=n(r("36c6")),l=n(r("9523")),d=n(r("33e3")),f=r("43f5");function h(e){var t=p();return function(){var r,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var y=function(e){(0,s.default)(r,e);var t=h(r);function r(){var e;return(0,i.default)(this,r),e=t.call(this,""),(0,l.default)((0,o.default)(e),"termType",f.EmptyTermType),e}return(0,a.default)(r,[{key:"toString",value:function(){return"()"}}]),r}(d.default);t.default=y},b80f:function(e,t,r){"use strict";var n=r("4ea4"),i=r("dbce");Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var a=i(r("cc85")),o=n(r("7971")),s=r("43f5");function u(e,t,r,n,i,u){r=r||e.value;var c=u||{};n=n||s.TurtleContentType;var l=null;try{var d=(0,o.default)(t);c.flags&&d.setFlags(c.flags);var f,h=t.statementsMatching(void 0,void 0,void 0,e);switch(d.suggestNamespaces(t.namespaces),d.setBase(r),n){case s.RDFXMLContentType:return l=d.statementsToXML(h),p(null,l);case s.N3ContentType:case s.N3LegacyContentType:return l=d.statementsToN3(h),p(null,l);case s.TurtleContentType:case s.TurtleLegacyContentType:return d.setFlags("si"),l=d.statementsToN3(h),p(null,l);case s.NTriplesContentType:return d.setFlags("deinprstux"),l=d.statementsToNTriples(h),p(null,l);case s.JSONLDContentType:d.setFlags("deinprstux"),f=d.statementsToNTriples(h),a.convertToJson(f,i);break;case s.NQuadsContentType:case s.NQuadsAltContentType:return d.setFlags("deinprstux q"),l=d.statementsToNTriples(h),p(null,l);default:throw new Error("Serialize: Content-type "+n+" not supported for data write.")}}catch(y){if(i)return i(y,void 0);throw y}function p(e,t){return i?void i(e,t):t}}},bb2f:function(e,t,r){var n=r("d039");e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bd36:function(e,t,r){"use strict";function n(e,t){t=t||"";const r=t.indexOf("#");if(r>0&&(t=t.substr(0,r)),!e.length){if(t.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);return t}if(e.startsWith("?")){const r=t.indexOf("?");return r>0&&(t=t.substr(0,r)),t+e}if(e.startsWith("#"))return t+e;if(!t.length){const t=e.indexOf(":");if(t<0)throw new Error(`Found invalid relative IRI '${e}' for a missing baseIRI`);return a(e,t)}const n=e.indexOf(":");if(n>=0)return a(e,n);const o=t.indexOf(":");if(o<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);const s=t.substr(0,o+1);if(0===e.indexOf("//"))return s+a(e,n);let u;if(t.indexOf("//",o)===o+1){if(u=t.indexOf("/",o+3),u<0)return t.length>o+3?t+"/"+a(e,n):s+a(e,n)}else if(u=t.indexOf("/",o+1),u<0)return s+a(e,n);if(0===e.indexOf("/"))return t.substr(0,u)+i(e);let c=t.substr(u);const l=c.lastIndexOf("/");return l>=0&&l<c.length-1&&(c=c.substr(0,l+1),"."===e[0]&&"."!==e[1]&&"/"!==e[1]&&e[2]&&(e=e.substr(1))),e=c+e,e=i(e),t.substr(0,u)+e}function i(e){const t=[];let r=0;while(r<e.length)switch(e[r]){case"/":if("."===e[r+1])if("."===e[r+2]){if(!o(e[r+3])){t.push([]),r++;break}t.pop(),e[r+3]||t.push([]),r+=3}else{if(!o(e[r+2])){t.push([]),r++;break}e[r+2]||t.push([]),r+=2}else t.push([]),r++;break;case"#":case"?":t.length||t.push([]),t[t.length-1].push(e.substr(r)),r=e.length;break;default:t.length||t.push([]),t[t.length-1].push(e[r]),r++;break}return"/"+t.map(e=>e.join("")).join("/")}function a(e,t){let r=t+1;t>=0?"/"===e[t+1]&&"/"===e[t+2]&&(r=t+3):"/"===e[0]&&"/"===e[1]&&(r=2);const n=e.indexOf("/",r);if(n<0)return e;const a=e.substr(0,n),o=e.substr(n);return a+i(o)}function o(e){return!e||"#"===e||"?"===e||"/"===e}Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=n,t.removeDotSegments=i,t.removeDotSegmentsOfPath=a},bdfe:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("600b"),i=a(r("e88a"));function a(e){return e&&e.__esModule?e:{default:e}}class o{constructor(e){this._paths=e}handle({settings:e}){return t=>new n.PathFactory({handlers:{...n.defaultHandlers},resolvers:[new i.default(this._paths,t)]}).create(e,{})}}t.default=o},c1a5:function(e,t){t.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",auml:"ä",Aring:"Å",aring:"å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",ouml:"ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}},c2f2:function(e,t,r){"use strict";var n=r("dbce");Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(r("3897"));function a(e){var t={ns:{RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDFS:"http://www.w3.org/2000/01/rdf-schema#"},nodeType:{ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12}};this.frameFactory=function(e,r,n){return{NODE:1,ARC:2,parent:r,parser:e,store:e.store,element:n,lastChild:0,base:null,lang:null,node:null,nodeType:null,listIndex:1,rdfid:null,datatype:null,collection:!1,terminateFrame:function(){this.collection&&this.node.close()},addSymbol:function(e,t){t=i.join(t,this.base),this.node=this.store.sym(t),this.nodeType=e},loadTriple:function(){if(this.parent.parent.collection?this.parent.parent.node.append(this.node):this.store.add(this.parent.parent.node,this.parent.node,this.node,this.parser.why),null!=this.parent.rdfid){var e=this.store.sym(i.join("#"+this.parent.rdfid,this.base));this.store.add(e,this.store.sym(t.ns.RDF+"type"),this.store.sym(t.ns.RDF+"Statement"),this.parser.why),this.store.add(e,this.store.sym(t.ns.RDF+"subject"),this.parent.parent.node,this.parser.why),this.store.add(e,this.store.sym(t.ns.RDF+"predicate"),this.parent.node,this.parser.why),this.store.add(e,this.store.sym(t.ns.RDF+"object"),this.node,this.parser.why)}},isTripleToLoad:function(){return null!=this.parent&&null!=this.parent.parent&&this.nodeType===this.NODE&&this.parent.nodeType===this.ARC&&this.parent.parent.nodeType===this.NODE},addNode:function(e){this.addSymbol(this.NODE,e),this.isTripleToLoad()&&this.loadTriple()},addCollection:function(){this.nodeType=this.NODE,this.node=this.store.collection(),this.collection=!0,this.isTripleToLoad()&&this.loadTriple()},addCollectionArc:function(){this.nodeType=this.ARC},addBNode:function(e){null!=e?null!=this.parser.bnodes[e]?this.node=this.parser.bnodes[e]:this.node=this.parser.bnodes[e]=this.store.bnode():this.node=this.store.bnode(),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()},addArc:function(e){e===t.ns.RDF+"li"&&(e=t.ns.RDF+"_"+this.parent.listIndex,this.parent.listIndex++),this.addSymbol(this.ARC,e)},addLiteral:function(e){this.parent.datatype&&this.parent.datatype!==t.ns.RDF+"langString"?this.node=this.store.literal(e,this.store.sym(this.parent.datatype)):this.node=this.store.literal(e,this.lang),this.nodeType=this.NODE,this.isTripleToLoad()&&this.loadTriple()}}},this.getAttributeNodeNS=function(e,t,r){var n=null;if(e.getAttributeNodeNS)n=e.getAttributeNodeNS(t,r);else for(var i,a,o=e.attributes,s=0;s<o.length;++s)if(i=o[s],i.namespaceURI===t&&(a=i.prefix?i.prefix+":"+r:r,a===i.nodeName)){n=i;break}return n},this.store=e,this.bnodes={},this.why=null,this.reify=!1,this.parse=function(e,r,n){var i,a=e.childNodes;if(this.cleanParser(),e.nodeType===t.nodeType.DOCUMENT){for(var o=0;o<a.length;o++)if(a[o].nodeType===t.nodeType.ELEMENT){i=a[o];break}}else{if(e.nodeType!==t.nodeType.ELEMENT)throw new Error("RDFParser: can't find root in "+r+". Halting. ");i=e}this.why=n;var s=this.frameFactory(this);return this.base=r,s.base=r,s.lang=null,this.parseDOM(this.buildFrame(s,i)),!0},this.parseDOM=function(e){var r,n=function(e){var t="";if(null==e.namespaceURI)throw new Error("RDF/XML syntax error: No namespace for "+e.localName+" in "+this.base);return e.namespaceURI&&(t+=e.namespaceURI),e.localName?t+=e.localName:e.nodeName&&(e.nodeName.indexOf(":")>=0?t+=e.nodeName.split(":")[1]:t+=e.nodeName),t}.bind(this),a=!0;while(e.parent){var o=e.element,s=o.attributes;if(o.nodeType===t.nodeType.TEXT||o.nodeType===t.nodeType.CDATA_SECTION)e.parent.nodeType===e.NODE&&(e.addArc(t.ns.RDF+"value"),e=this.buildFrame(e)),e.addLiteral(o.nodeValue);else if(n(o)!==t.ns.RDF+"RDF")if(e.parent&&e.parent.collection&&(e.addCollectionArc(),e=this.buildFrame(e,e.element),e.parent.element=null),e.parent&&e.parent.nodeType&&e.parent.nodeType!==e.ARC){e.addArc(n(o)),this.reify&&(r=this.getAttributeNodeNS(o,t.ns.RDF,"ID"),r&&(e.rdfid=r.nodeValue,o.removeAttributeNode(r)));var u=this.getAttributeNodeNS(o,t.ns.RDF,"parseType"),c=this.getAttributeNodeNS(o,t.ns.RDF,"datatype");if(c&&(e.datatype=c.nodeValue,o.removeAttributeNode(c)),u){var l=u.nodeValue;"Literal"===l?(e.datatype=t.ns.RDF+"XMLLiteral",e=this.buildFrame(e),e.addLiteral(o.childNodes),a=!1):"Resource"===l?(e=this.buildFrame(e,e.element),e.parent.element=null,e.addBNode()):"Collection"===l&&(e=this.buildFrame(e,e.element),e.parent.element=null,e.addCollection()),o.removeAttributeNode(u)}if(0!==s.length){var d=this.getAttributeNodeNS(o,t.ns.RDF,"resource"),f=this.getAttributeNodeNS(o,t.ns.RDF,"nodeID");e=this.buildFrame(e),d?(e.addNode(d.nodeValue),o.removeAttributeNode(d)):f?(e.addBNode(f.nodeValue),o.removeAttributeNode(f)):e.addBNode();for(var h=s.length-1;h>=0;h--){var p=this.buildFrame(e);p.addArc(n(s[h])),n(s[h])===t.ns.RDF+"type"?this.buildFrame(p).addNode(s[h].nodeValue):this.buildFrame(p).addLiteral(s[h].nodeValue)}}else 0===o.childNodes.length&&this.buildFrame(e).addLiteral("")}else{var y=this.getAttributeNodeNS(o,t.ns.RDF,"about");if(r=this.getAttributeNodeNS(o,t.ns.RDF,"ID"),y&&r)throw new Error("RDFParser: "+o.nodeName+" has both rdf:id and rdf:about. Halting. Only one of these properties may be specified on a node.");if(!y&&r)e.addNode("#"+r.nodeValue),o.removeAttributeNode(r);else if(null==y&&null==r){var g=this.getAttributeNodeNS(o,t.ns.RDF,"nodeID");g?(e.addBNode(g.nodeValue),o.removeAttributeNode(g)):e.addBNode()}else e.addNode(y.nodeValue),o.removeAttributeNode(y);var v=this.getAttributeNodeNS(o,t.ns.RDF,"type");t.ns.RDF+"Description"!==n(o)&&(v={nodeValue:n(o)}),null!=v&&(this.store.add(e.node,this.store.sym(t.ns.RDF+"type"),this.store.sym(i.join(v.nodeValue,e.base)),this.why),v.nodeName&&o.removeAttributeNode(v));for(var m=s.length-1;m>=0;m--)this.store.add(e.node,this.store.sym(n(s[m])),this.store.literal(s[m].nodeValue,e.lang),this.why)}o=e.element;while(e.parent){var b=e;while(null==o)e=e.parent,o=e.element;var w=o.childNodes&&o.childNodes[e.lastChild];if(w&&a){if((w.nodeType===t.nodeType.ELEMENT||w.nodeType===t.nodeType.TEXT||w.nodeType===t.nodeType.CDATA_SECTION)&&(w.nodeType!==t.nodeType.TEXT&&w.nodeType!==t.nodeType.CDATA_SECTION||1===o.childNodes.length)){e.lastChild++,e=this.buildFrame(b,o.childNodes[e.lastChild-1]);break}e.lastChild++}else{if(e.terminateFrame(),!(e=e.parent))break;o=e.element,a=!0}}}},this.cleanParser=function(){this.bnodes={},this.why=null},this.buildFrame=function(e,r){var n=this.frameFactory(this,e,r);if(e&&(n.base=e.base,n.lang=e.lang),!r||r.nodeType===t.nodeType.TEXT||r.nodeType===t.nodeType.CDATA_SECTION)return n;var a=r.attributes,o=r.getAttributeNode("xml:base");null!=o&&(n.base=o.nodeValue,r.removeAttribute("xml:base"));var s=r.getAttributeNode("xml:lang");null!=s&&(n.lang=s.nodeValue,r.removeAttribute("xml:lang"));for(var u=a.length-1;u>=0;u--)if("xml"===a[u].nodeName.substr(0,3)){if("xmlns:"===a[u].name.slice(0,6)){var c=a[u].nodeValue;this.base&&(c=i.join(c,this.base)),this.store.setPrefixForURI(a[u].name.slice(6),c)}r.removeAttributeNode(a[u])}return n}}},c513:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("7096"),t),i(r("13f1"),t),i(r("3e6b"),t),i(r("8ce0"),t),i(r("9935"),t),i(r("8026"),t),i(r("a22a"),t)},c749:function(e,t,r){"use strict";var n=r("dbce"),i=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(r("970b")),o=i(r("5bc3")),s=i(r("9523")),u=i(r("33e3")),c=r("43f5"),l=n(r("03fd")),d=new l.default,f=function(){function e(t,r,n,i){(0,a.default)(this,e),(0,s.default)(this,"subject",void 0),(0,s.default)(this,"predicate",void 0),(0,s.default)(this,"object",void 0),(0,s.default)(this,"graph",void 0),this.subject=u.default.fromValue(t),this.predicate=u.default.fromValue(r),this.object=u.default.fromValue(n),this.graph=void 0==i?d:u.default.fromValue(i)}return(0,o.default)(e,[{key:"equals",value:function(e){return e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}},{key:"substitute",value:function(t){var r=new e(this.subject.substitute(t),this.predicate.substitute(t),this.object.substitute(t),(0,l.isDefaultGraph)(this.graph)?this.graph:this.graph.substitute(t));return console.log("@@@ statement substitute:"+r),r}},{key:"toCanonical",value:function(){var e=[this.subject.toCanonical(),this.predicate.toCanonical(),this.object.toCanonical()];return this.graph&&this.graph.termType!==c.DefaultGraphTermType&&e.push(this.graph.toCanonical()),e.join(" ")+" ."}},{key:"toNT",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT()].join(" ")+" ."}},{key:"toNQ",value:function(){return[this.subject.toNT(),this.predicate.toNT(),this.object.toNT(),(0,l.isDefaultGraph)(this.graph)?"":this.graph.toNT()].join(" ")+" ."}},{key:"toString",value:function(){return this.toNT()}},{key:"why",get:function(){return this.graph},set:function(e){this.graph=e}}]),e}();t.default=f},c79e:function(e,t,r){"use strict";e.exports=class{constructor(e){this.current=e.sort(),this.done=!1,this.dir=new Map;for(let t=0;t<e.length;++t)this.dir.set(e[t],!0)}hasNext(){return!this.done}next(){const{current:e,dir:t}=this,r=e.slice();let n=null,i=0;const a=e.length;for(let o=0;o<a;++o){const r=e[o],s=t.get(r);(null===n||r>n)&&(s&&o>0&&r>e[o-1]||!s&&o<a-1&&r>e[o+1])&&(n=r,i=o)}if(null===n)this.done=!0;else{const r=t.get(n)?i-1:i+1;e[i]=e[r],e[r]=n;for(const i of e)i>n&&t.set(i,!t.get(i))}return r}}},c7e2:function(e,t,r){"use strict";(function(t){var r=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,i=/\s|\uFEFF|\xA0/,a=/\r?\n[\x20\x09]+/g,o=/[;,"]/,s=/[;,"]|\s/,u=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,c={IDLE:1,URI:2,ATTR:4};function l(e){return e.replace(n,"")}function d(e){return i.test(e)}function f(e,t){while(d(e[t]))t++;return t}function h(e){return s.test(e)||!u.test(e)}class p{constructor(e){this.refs=[],e&&this.parse(e)}rel(e){for(var t=[],r=e.toLowerCase(),n=0;n<this.refs.length;n++)this.refs[n].rel.toLowerCase()===r&&t.push(this.refs[n]);return t}get(e,t){e=e.toLowerCase();for(var r=[],n=0;n<this.refs.length;n++)this.refs[n][e]===t&&r.push(this.refs[n]);return r}set(e){return this.refs.push(e),this}has(e,t){e=e.toLowerCase();for(var r=0;r<this.refs.length;r++)if(this.refs[r][e]===t)return!0;return!1}parse(e,t){t=t||0,e=t?e.slice(t):e,e=l(e).replace(a,"");var r=c.IDLE,n=e.length,i=(t=0,null);while(t<n)if(r===c.IDLE){if(d(e[t])){t++;continue}if("<"!==e[t])throw new Error('Unexpected character "'+e[t]+'" at offset '+t);null!=i&&(null!=i.rel?this.refs.push(...p.expandRelations(i)):this.refs.push(i));var s=e.indexOf(">",t);if(-1===s)throw new Error("Expected end of URI delimiter at offset "+t);i={uri:e.slice(t+1,s)},t=s,r=c.URI,t++}else if(r===c.URI){if(d(e[t])){t++;continue}if(";"===e[t])r=c.ATTR,t++;else{if(","!==e[t])throw new Error('Unexpected character "'+e[t]+'" at offset '+t);r=c.IDLE,t++}}else{if(r!==c.ATTR)throw new Error('Unknown parser state "'+r+'"');if(";"===e[t]||d(e[t])){t++;continue}s=e.indexOf("=",t);if(-1===s)throw new Error("Expected attribute delimiter at offset "+t);var u=l(e.slice(t,s)).toLowerCase(),h="";if(t=s+1,t=f(e,t),'"'===e[t]){t++;while(t<n){if('"'===e[t]){t++;break}"\\"===e[t]&&t++,h+=e[t],t++}}else{s=t+1;while(!o.test(e[s])&&s<n)s++;h=e.slice(t,s),t=s}switch(i[u]&&p.isSingleOccurenceAttr(u)||("*"===u[u.length-1]?i[u]=p.parseExtendedValue(h):(h="type"===u?h.toLowerCase():h,null!=i[u]?Array.isArray(i[u])?i[u].push(h):i[u]=[i[u],h]:i[u]=h)),e[t]){case",":r=c.IDLE;break;case";":r=c.ATTR;break}t++}return null!=i&&(null!=i.rel?this.refs.push(...p.expandRelations(i)):this.refs.push(i)),i=null,this}toString(){for(var e=[],t="",r=null,n=0;n<this.refs.length;n++)r=this.refs[n],t=Object.keys(this.refs[n]).reduce((function(e,t){return"uri"===t?e:e+"; "+p.formatAttribute(t,r[t])}),"<"+r.uri+">"),e.push(t);return e.join(", ")}}p.isCompatibleEncoding=function(e){return r.test(e)},p.parse=function(e,t){return(new p).parse(e,t)},p.isSingleOccurenceAttr=function(e){return"rel"===e||"type"===e||"media"===e||"title"===e||"title*"===e},p.isTokenAttr=function(e){return"rel"===e||"type"===e||"anchor"===e},p.escapeQuotes=function(e){return e.replace(/"/g,'\\"')},p.expandRelations=function(e){var t=e.rel.split(" ");return t.map((function(t){var r=Object.assign({},e);return r.rel=t,r}))},p.parseExtendedValue=function(e){var t=/([^']+)?(?:'([^']+)')?(.+)/.exec(e);return{language:t[2].toLowerCase(),encoding:p.isCompatibleEncoding(t[1])?null:t[1].toLowerCase(),value:p.isCompatibleEncoding(t[1])?decodeURIComponent(t[3]):t[3]}},p.formatExtendedAttribute=function(e,r){var n=(r.encoding||"utf-8").toUpperCase(),i=r.language||"en",a="";return a=t.isBuffer(r.value)&&p.isCompatibleEncoding(n)?r.value.toString(n):t.isBuffer(r.value)?r.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(r.value),e+"="+n+"'"+i+"'"+a},p.formatAttribute=function(e,t){return Array.isArray(t)?t.map(t=>p.formatAttribute(e,t)).join("; "):"*"===e[e.length-1]||"string"!==typeof t?p.formatExtendedAttribute(e,t):(p.isTokenAttr(e)?t=h(t)?'"'+p.escapeQuotes(t)+'"':p.escapeQuotes(t):h(t)&&(t=encodeURIComponent(t),t=t.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),t='"'+t+'"'),e+"="+t)},e.exports=p}).call(this,r("b639").Buffer)},c92f:function(e,t,r){"use strict";const n=r("68fa"),i={};e.exports=i,i.isSubject=e=>{if(n.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)){const t=Object.keys(e).length;return t>1||!("@id"in e)}return!1},i.isSubjectReference=e=>n.isObject(e)&&1===Object.keys(e).length&&"@id"in e,i.isValue=e=>n.isObject(e)&&"@value"in e,i.isList=e=>n.isObject(e)&&"@list"in e,i.isGraph=e=>n.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter(e=>"@id"!==e&&"@index"!==e).length,i.isSimpleGraph=e=>i.isGraph(e)&&!("@id"in e),i.isBlankNode=e=>!!n.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e))},c947:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"defaultGraphURI",{enumerable:!0,get:function(){return f.defaultGraphURI}}),t.default=void 0;var i=n(r("970b")),a=n(r("5bc3")),o=n(r("3c96")),s=n(r("ed6d")),u=n(r("6b58")),c=n(r("36c6")),l=n(r("9523")),d=n(r("21b4")),f=r("8fd3"),h=n(r("f7ae")),p=r("1079"),y=r("4b68"),g=r("ab32"),v=n(r("5125")),m=n(r("089a")),b=r("b19c"),w=r("43f5"),_=n(r("606c")),x=r("851f"),E=n(r("43f6")),T=n(r("03fd")),O=n(r("085a"));function S(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=N(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function N(e,t){if(e){if("string"===typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R(e){var t=k();return function(){var r,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var j="http://www.w3.org/2002/07/owl#";function A(e,t,r,n){var i=e.any(t,r,void 0);return!!i&&(e.equate(i,n),!0)}function C(e,t,r,n){var i=e.any(void 0,r,n);return!!i&&(e.equate(i,t),!0)}function D(e,t,r,n,i){e.typeCallback&&e.typeCallback(e,n,i);var a=e.classActions[e.id(n)],o=!1;if(a)for(var s=0;s<a.length;s++)o=o||a[s](e,t,r,n,i);return o}var P=function(e){(0,s.default)(r,e);var t=R(r);function r(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.default)(this,r),n=t.call(this,void 0,void 0,void 0,void 0,a),(0,l.default)((0,o.default)(n),"updater",void 0),(0,l.default)((0,o.default)(n),"namespaces",void 0),(0,l.default)((0,o.default)(n),"classActions",void 0),(0,l.default)((0,o.default)(n),"propertyActions",void 0),(0,l.default)((0,o.default)(n),"redirections",void 0),(0,l.default)((0,o.default)(n),"aliases",void 0),(0,l.default)((0,o.default)(n),"HTTPRedirects",void 0),(0,l.default)((0,o.default)(n),"subjectIndex",void 0),(0,l.default)((0,o.default)(n),"predicateIndex",void 0),(0,l.default)((0,o.default)(n),"objectIndex",void 0),(0,l.default)((0,o.default)(n),"whyIndex",void 0),(0,l.default)((0,o.default)(n),"index",void 0),(0,l.default)((0,o.default)(n),"features",void 0),(0,l.default)((0,o.default)(n),"_universalVariables",void 0),(0,l.default)((0,o.default)(n),"_existentialVariables",void 0),(0,l.default)((0,o.default)(n),"rdfArrayRemove",void 0),(0,l.default)((0,o.default)(n),"dataCallbacks",void 0),n.propertyActions={},n.classActions={},n.redirections=[],n.aliases=[],n.HTTPRedirects=[],n.subjectIndex=[],n.predicateIndex=[],n.objectIndex=[],n.whyIndex=[],n.index=[n.subjectIndex,n.predicateIndex,n.objectIndex,n.whyIndex],n.namespaces={},n.features=e||["sameAs","InverseFunctionalProperty","FunctionalProperty"],n.rdfArrayRemove=a.rdfArrayRemove||y.RDFArrayRemove,a.dataCallback&&(n.dataCallbacks=[a.dataCallback]),n.initPropertyActions(n.features),n}return(0,a.default)(r,[{key:"substitute",value:function(e){var t=this.statements.map((function(t){return t.substitute(e)})),n=new r;return n.add(t),n}},{key:"addDataCallback",value:function(e){this.dataCallbacks||(this.dataCallbacks=[]),this.dataCallbacks.push(e)}},{key:"applyPatch",value:function(e,t,r){var n,i=this,a=null;function o(o){if(e["delete"]){n=e["delete"],a&&(n=n.substitute(a)),n=n.statements;var s=[],u=n.map((function(e){var r=i.statementsMatching(e.subject,e.predicate,e.object,t);return 0===r.length?(s.push(e),null):r[0]}));if(s.length)return r("Could not find to delete: "+s.join("\n or "));u.map((function(e){i.remove(e)}))}e["insert"]&&(n=e["insert"],a&&(n=n.substitute(a)),n=n.statements,n.map((function(e){e.graph=t,i.add(e.subject,e.predicate,e.object,e.graph)}))),o()}if(e.where){var s=new b.Query("patch");s.pat=e.where,s.pat.statements.map((function(e){e.graph=(0,x.namedNode)(t.value)})),s.sync=!0;var u=[];i.query(s,(function(e){u.push(e)}),i.fetcher,(function(){return 0===u.length?r("No match found to be patched:"+e.where):u.length>1?r("Patch ambiguous. No patch done."):(a=u[0],void o(r))}))}else o(r)}},{key:"declareExistential",value:function(e){return this._existentialVariables||(this._existentialVariables=[]),this._existentialVariables.push(e),e}},{key:"initPropertyActions",value:function(e){this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))]=[D],(0,p.ArrayIndexOf)(e,"sameAs")>=0&&(this.propertyActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(j,"sameAs")))]=[function(e,t,r,n,i){return e.equate(t,n),!0}]),(0,p.ArrayIndexOf)(e,"InverseFunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(j,"InverseFunctionalProperty")))]=[function(e,t,r,n,i){return e.newPropertyAction(t,C)}]),(0,p.ArrayIndexOf)(e,"FunctionalProperty")>=0&&(this.classActions[this.rdfFactory.id(this.rdfFactory.namedNode("".concat(j,"FunctionalProperty")))]=[function(e,t,r,n,i){return e.newPropertyAction(t,A)}])}},{key:"addStatement",value:function(e){return this.add(e.subject,e.predicate,e.object,e.graph),this.statements.length}},{key:"add",value:function(e,t,r,n){var i,a,o;if(1===arguments.length){if(e instanceof Array)for(i=0;i<e.length;i++)this.add(e[i]);else(0,g.isQuad)(e)?this.add(e.subject,e.predicate,e.object,e.graph):(0,g.isStore)(e)&&this.add(e.statements);return this}n||(n=this.fetcher?this.fetcher.appNode:this.rdfFactory.defaultGraph()),"string"==typeof e&&(e=this.rdfFactory.namedNode(e)),t=v.default.fromValue(t);var s=v.default.fromValue(r);if(n=v.default.fromValue(n),!(0,g.isSubject)(e))throw new Error("Subject is not a subject type");if(!(0,g.isPredicate)(t))throw new Error("Predicate ".concat(t," is not a predicate type"));if(!(0,g.isRDFlibObject)(s))throw new Error("Object ".concat(s," is not an object type"));if(!(0,g.isGraph)(n))throw new Error("Why is not a graph type");this.predicateCallback&&this.predicateCallback(this,t,n);var u=this.id(this.canon(t));a=this.propertyActions[u];var c=!1;if(a)for(i=0;i<a.length;i++)c=c||a[i](this,e,t,s,n);if(this.holds(e,t,s,n))return null;var l=[this.id(this.canon(e)),u,this.id(this.canon(s)),this.id(this.canon(n))];for(o=this.rdfFactory.quad(e,t,s,n),i=0;i<4;i++){var d=this.index[i],f=l[i];d[f]||(d[f]=[]),d[f].push(o)}if(this.statements.push(o),this.dataCallbacks){var h,p=S(this.dataCallbacks);try{for(p.s();!(h=p.n()).done;){var y=h.value;y(o)}}catch(m){p.e(m)}finally{p.f()}}return o}},{key:"canon",value:function(e){if(!e)return e;var t=this.redirections[this.id(e)];if(t)return t;switch(e.termType){case w.BlankNodeTermType:return new E.default(e.value);case w.CollectionTermType:return e;case w.DefaultGraphTermType:return new T.default;case w.EmptyTermType:return e;case w.GraphTermType:return e;case w.LiteralTermType:return new O.default(e.value,e.language,e.datatype);case w.NamedNodeTermType:return new _.default(e.value);case w.VariableTermType:return new m.default(e.value);default:throw new Error("Term Type not recognized for canonization: ".concat(e.termType))}}},{key:"check",value:function(){this.checkStatementList(this.statements);for(var e=0;e<4;e++){var t=this.index[e];for(var r in t)t.hasOwnProperty(r)&&this.checkStatementList(t[r],e)}}},{key:"checkStatementList",value:function(e,t){void 0===t&&(t=0);for(var r,n=["subject","predicate","object","why"],i=" found in "+n[t]+" index.",a=0;a<e.length;a++){r=e[a];for(var o=[r.subject,r.predicate,r.object,r.graph],s=function(e,t){for(var r=0;r<e.length;r++)if(e[r].subject.equals(t.subject)&&e[r].predicate.equals(t.predicate)&&e[r].object.equals(t.object)&&e[r].why.equals(t.graph))return!0},u=0;u<4;u++){var c=this.canon(o[u]),l=this.id(c);this.index[u][l]&&s(this.index[u][l],r)}if(!s(this.statements,r))throw new Error("Statement list does not statement "+r+"@"+r.graph+i)}}},{key:"close",value:function(){return this}},{key:"compareTerms",value:function(e,t){return Object.prototype.hasOwnProperty.call(e,"compareTerm")?e.compareTerm(t):d.default[e.termType]<d.default[t.termType]?-1:d.default[e.termType]>d.default[t.termType]?1:e.value<t.value?-1:e.value>t.value?1:0}},{key:"copyTo",value:function(e,t,r){r||(r=[]);var n=this.statementsMatching(e);-1!==(0,p.ArrayIndexOf)(r,"two-direction")&&n.concat(this.statementsMatching(void 0,void 0,e));for(var i=0;i<n.length;i++){var a=n[i];switch(a.object.termType){case"NamedNode":this.add(t,a.predicate,a.object);break;case"Literal":case"BlankNode":case"Collection":this.add(t,a.predicate,a.object.copy(this))}-1!==(0,p.ArrayIndexOf)(r,"delete")&&this.remove(a)}}},{key:"equate",value:function(e,t){var r=this.canon(e),n=this.canon(t),i=this.compareTerms(r,n);return!i||(i<0?this.replaceWith(n,r):this.replaceWith(r,n))}},{key:"formula",value:function(e){return new r(e)}},{key:"match",value:function(e,t,r,n){return this.statementsMatching(v.default.fromValue(e),v.default.fromValue(t),v.default.fromValue(r),v.default.fromValue(n))}},{key:"mentionsURI",value:function(e){var t="<"+e+">";return!!this.subjectIndex[t]||!!this.objectIndex[t]||!!this.predicateIndex[t]}},{key:"newExistential",value:function(e){if(!e)return this.bnode();var t=this.sym(e);return this.declareExistential(t)}},{key:"newPropertyAction",value:function(e,t){var r=this.id(e);this.propertyActions[r]||(this.propertyActions[r]=[]),this.propertyActions[r].push(t);for(var n=this.statementsMatching(void 0,e,void 0),i=!1,a=0;a<n.length;a++)i=i||t(this,n[a].subject,e,n[a].object);return i}},{key:"newUniversal",value:function(e){var t=this.sym(e);return this._universalVariables||(this._universalVariables=[]),this._universalVariables.push(t),t}},{key:"variable",value:function(e){return new m.default(e)}},{key:"nextSymbol",value:function(e){for(var t=0;;t++){var r=e.value+"#n"+t;if(!this.mentionsURI(r))return this.sym(r)}}},{key:"query",value:function(e,t,r,n){return b.indexedFormulaQuery.call(this,e,t,r,n)}},{key:"querySync",value:function(e){var t=[];function r(e){t.push(e)}function n(){i=!0}var i=!1;if(e.sync=!0,b.indexedFormulaQuery.call(this,e,r,null,n),!i)throw new Error("Sync query should have called done function");return t}},{key:"remove",value:function(e){if(e instanceof Array){for(var t=0;t<e.length;t++)this.remove(e[t]);return this}if((0,g.isStore)(e))return this.remove(e.statements);var r=this.statementsMatching(e.subject,e.predicate,e.object,e.graph);if(!r.length)throw new Error("Statement to be removed is not on store: "+e);return this.removeStatement(r[0]),this}},{key:"removeDocument",value:function(e){for(var t=this.statementsMatching(void 0,void 0,void 0,e).slice(),r=0;r<t.length;r++)this.removeStatement(t[r]);return this}},{key:"removeMany",value:function(e,t,r,n,i){for(var a=this.statementsMatching(e,t,r,n,!1),o=[],s=0;s<a.length;s++)o.push(a[s]);for(i&&(o=o.slice(0,i)),s=0;s<o.length;s++)this.remove(o[s])}},{key:"removeMatches",value:function(e,t,r,n){return this.removeStatements(this.statementsMatching(e,t,r,n)),this}},{key:"removeStatement",value:function(e){for(var t=[e.subject,e.predicate,e.object,e.graph],r=0;r<4;r++){var n=this.canon(t[r]),i=this.id(n);this.index[r][i]&&this.rdfArrayRemove(this.index[r][i],e)}return this.rdfArrayRemove(this.statements,e),this}},{key:"removeStatements",value:function(e){for(var t=0;t<e.length;t++)this.remove(e[t]);return this}},{key:"replaceWith",value:function(e,t){for(var r=this.id(e),n=this.id(t),i=function(e){var t=e[r];if(t){var i=e[n];e[n]=i?t.concat(i):t,delete e[r]}},a=0;a<4;a++)i(this.index[a]);if(this.redirections[r]=t,e.value){if(this.aliases[n]||(this.aliases[n]=[]),this.aliases[n].push(e),this.aliases[r])for(a=0;a<this.aliases[r].length;a++)this.redirections[this.id(this.aliases[r][a])]=t,this.aliases[n].push(this.aliases[r][a]);this.add(t,this.sym("http://www.w3.org/2007/ont/link#uri"),e),this.fetcher&&this.fetcher.nowKnownAs(e,t)}return i(this.classActions),i(this.propertyActions),!0}},{key:"allAliases",value:function(e){var t=this.aliases[this.id(this.canon(e))]||[];return t.push(this.canon(e)),t}},{key:"sameThings",value:function(e,t){if(e.equals(t))return!0;var r=this.canon(e);if(!r)return!1;var n=this.canon(t);return!!n&&r.value===n.value}},{key:"setPrefixForURI",value:function(e,t){"tab"===e&&this.namespaces["tab"]||"ns"!==e.slice(0,2)&&"default"!==e.slice(0,7)&&(this.namespaces[e]=t)}},{key:"statementsMatching",value:function(e,t,r,n,i){var a,o,s=[e,t,r,n],u=[],c=[],l=[],d=[];for(a=0;a<4;a++)u[a]=this.canon(v.default.fromValue(s[a])),u[a]?(d.push(a),c[a]=this.id(u[a])):l.push(a);if(0===d.length)return this.statements;if(1===d.length)return a=d[0],o=this.index[a][c[a]],o&&i&&o.length>1&&(o=o.slice(0,1)),o=o||[],o;var f,h,p=1e10;for(h=0;h<d.length;h++){if(a=d[h],o=this.index[a][c[a]],!o)return[];o.length<p&&(p=o.length,f=h)}for(var y=d[f],g=this.index[y][c[y]],m=d.slice(0,f).concat(d.slice(f+1)),b=[],w=["subject","predicate","object","why"],_=0;_<g.length;_++){var x=g[_];for(h=0;h<m.length;h++)if(a=m[h],!this.canon(x[w[a]]).equals(u[a])){x=null;break}if(null!=x&&(b.push(x),i))break}return b}},{key:"uris",value:function(e){var t=this.canon(e),r=this.aliases[this.id(t)];if(!t.value)return[];var n=[t.value];if(r)for(var i=0;i<r.length;i++)n.push(r[i].uri);return n}},{key:"length",get:function(){return this.statements.length}}],[{key:"defaultGraphURI",get:function(){return f.defaultGraphURI}}]),r}(h.default);t.default=P,(0,l.default)(P,"handleRDFType",void 0),P.handleRDFType=D},c973:function(e,t,r){function n(e,t,r,n,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,u,"next",e)}function u(e){n(o,i,a,s,u,"throw",e)}s(void 0)}))}}r("d3b7"),e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},c9cd:function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},ca6f:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}var c=r("b639"),l=c.Buffer,d=r(25),f=d.inspect,h=f&&f.custom||"inspect";function p(e,t,r){l.prototype.copy.call(e,t,r)}e.exports=function(){function e(){o(this,e),this.head=null,this.tail=null,this.length=0}return u(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";var t=this.head,r=""+t.data;while(t=t.next)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return l.alloc(0);var t=l.allocUnsafe(e>>>0),r=this.head,n=0;while(r)p(r.data,t,n),n+=r.data.length,r=r.next;return t}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;e-=n.length;while(t=t.next){var i=t.data,a=e>i.length?i.length:e;if(a===i.length?n+=i:n+=i.slice(0,e),e-=a,0===e){a===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(a));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=l.allocUnsafe(e),r=this.head,n=1;r.data.copy(t),e-=r.data.length;while(r=r.next){var i=r.data,a=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,a),e-=a,0===e){a===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(a));break}++n}return this.length-=n,t}},{key:h,value:function(e,t){return f(this,i({},t,{depth:0,customInspect:!1}))}}]),e}()},cc85:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.convertToJson=s,t.convertToNQuads=u;var i=n(r("15a2")),a=n(r("46bd")),o=r("dae0");function s(e,t){var r,n=new o.Parser,s=new o.Writer({format:"N-Quads"});i.default.waterfall([function(t){n.parse(e,(function(e,r,n){e?t(e):null!==r?s.addQuad(r):s.end(t)}))},function(e,t){try{a.default.fromRDF(e,{format:"application/nquads"}).then((function(e){t(null,e)}))}catch(r){t(r)}},function(e,n){r=JSON.stringify(e),t(null,r)}],(function(e,n){t(e,r)}))}function u(e,t){var r,n=new o.Parser,a=new o.Writer({format:"N-Quads"});i.default.waterfall([function(t){n.parse(e,(function(e,r,n){e?t(e):null!==quad?a.addQuad(quad):a.end(t)}))},function(e,n){r=e,t(null,r)}],(function(e,n){t(e,r)}))}},cf0f:function(e,t){var r=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+r.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+r.source+n.source+"*(?::"+r.source+n.source+"*)?$"),a=0,o=1,s=2,u=3,c=4,l=5,d=6,f=7;function h(){}function p(e,t,r,n,i){function a(e){if(e>65535){e-=65536;var t=55296+(e>>10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}function o(e){var t=e.slice(1,-1);return t in r?r[t]:"#"===t.charAt(0)?a(parseInt(t.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function s(t){if(t>w){var r=e.substring(w,t).replace(/&#?\w+;/g,o);f&&u(w),n.characters(r,0,t-w),w=t}}function u(t,r){while(t>=l&&(r=d.exec(e)))c=r.index,l=c+r[0].length,f.lineNumber++;f.columnNumber=t-c+1}var c=0,l=0,d=/.*(?:\r\n?|\n)|.*$/g,f=n.locator,h=[{currentNSMap:t}],p={},w=0;while(1){try{var T=e.indexOf("<",w);if(T<0){if(!e.substr(w).match(/^\s*$/)){var O=n.doc,S=O.createTextNode(e.substr(w));O.appendChild(S),n.currentElement=S}return}switch(T>w&&s(T),e.charAt(T+1)){case"/":var N=e.indexOf(">",T+3),I=e.substring(T+2,N),R=h.pop();N<0?(I=e.substring(T+2).replace(/[\s<].*/,""),i.error("end tag name: "+I+" is not complete:"+R.tagName),N=T+1+I.length):I.match(/\s</)&&(I=I.replace(/[\s<].*/,""),i.error("end tag name: "+I+" maybe not complete"),N=T+1+I.length);var k=R.localNSMap,j=R.tagName==I,A=j||R.tagName&&R.tagName.toLowerCase()==I.toLowerCase();if(A){if(n.endElement(R.uri,R.localName,I),k)for(var C in k)n.endPrefixMapping(C);j||i.fatalError("end tag name: "+I+" is not match the current start tagName:"+R.tagName)}else h.push(R);N++;break;case"?":f&&u(T),N=x(e,T,n);break;case"!":f&&u(T),N=_(e,T,n,i);break;default:f&&u(T);var D=new E,P=h[h.length-1].currentNSMap,L=(N=g(e,T,D,P,o,i),D.length);if(!D.closed&&b(e,N,D.tagName,p)&&(D.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),f&&L){for(var F=y(f,{}),M=0;M<L;M++){var U=D[M];u(U.offset),U.locator=y(f,{})}n.locator=F,v(D,n,P)&&h.push(D),n.locator=f}else v(D,n,P)&&h.push(D);"http://www.w3.org/1999/xhtml"!==D.uri||D.closed?N++:N=m(e,N,D.tagName,o,n)}}catch(B){i.error("element parse error: "+B),N=-1}N>w?w=N:s(Math.max(T,w)+1)}}function y(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function g(e,t,r,n,i,h){var p,y=++t,g=a;while(1){var v=e.charAt(y);switch(v){case"=":if(g===o)p=e.slice(t,y),g=u;else{if(g!==s)throw new Error("attribute equal must after attrName");g=u}break;case"'":case'"':if(g===u||g===o){if(g===o&&(h.warning('attribute value must after "="'),p=e.slice(t,y)),t=y+1,y=e.indexOf(v,t),!(y>0))throw new Error("attribute value no end '"+v+"' match");m=e.slice(t,y).replace(/&#?\w+;/g,i),r.add(p,m,t-1),g=l}else{if(g!=c)throw new Error('attribute value must after "="');m=e.slice(t,y).replace(/&#?\w+;/g,i),r.add(p,m,t),h.warning('attribute "'+p+'" missed start quot('+v+")!!"),t=y+1,g=l}break;case"/":switch(g){case a:r.setTagName(e.slice(t,y));case l:case d:case f:g=f,r.closed=!0;case c:case o:case s:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return h.error("unexpected end of input"),g==a&&r.setTagName(e.slice(t,y)),y;case">":switch(g){case a:r.setTagName(e.slice(t,y));case l:case d:case f:break;case c:case o:m=e.slice(t,y),"/"===m.slice(-1)&&(r.closed=!0,m=m.slice(0,-1));case s:g===s&&(m=p),g==c?(h.warning('attribute "'+m+'" missed quot(")!!'),r.add(p,m.replace(/&#?\w+;/g,i),t)):("http://www.w3.org/1999/xhtml"===n[""]&&m.match(/^(?:disabled|checked|selected)$/i)||h.warning('attribute "'+m+'" missed value!! "'+m+'" instead!!'),r.add(m,m,t));break;case u:throw new Error("attribute value missed!!")}return y;case"":v=" ";default:if(v<=" ")switch(g){case a:r.setTagName(e.slice(t,y)),g=d;break;case o:p=e.slice(t,y),g=s;break;case c:var m=e.slice(t,y).replace(/&#?\w+;/g,i);h.warning('attribute "'+m+'" missed quot(")!!'),r.add(p,m,t);case l:g=d;break}else switch(g){case s:r.tagName;"http://www.w3.org/1999/xhtml"===n[""]&&p.match(/^(?:disabled|checked|selected)$/i)||h.warning('attribute "'+p+'" missed value!! "'+p+'" instead2!!'),r.add(p,p,t),t=y,g=o;break;case l:h.warning('attribute space is required"'+p+'"!!');case d:g=o,t=y;break;case u:g=c,t=y;break;case f:throw new Error("elements closed character '/' and '>' must be connected to")}}y++}}function v(e,t,r){var n=e.tagName,i=null,a=e.length;while(a--){var o=e[a],s=o.qName,u=o.value,c=s.indexOf(":");if(c>0)var l=o.prefix=s.slice(0,c),d=s.slice(c+1),f="xmlns"===l&&d;else d=s,l=null,f="xmlns"===s&&"";o.localName=d,!1!==f&&(null==i&&(i={},w(r,r={})),r[f]=i[f]=u,o.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(f,u))}a=e.length;while(a--){o=e[a];l=o.prefix;l&&("xml"===l&&(o.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(o.uri=r[l||""]))}c=n.indexOf(":");c>0?(l=e.prefix=n.slice(0,c),d=e.localName=n.slice(c+1)):(l=null,d=e.localName=n);var h=e.uri=r[l||""];if(t.startElement(h,d,n,e),!e.closed)return e.currentNSMap=r,e.localNSMap=i,!0;if(t.endElement(h,d,n),i)for(l in i)t.endPrefixMapping(l)}function m(e,t,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var a=e.indexOf("</"+r+">",t),o=e.substring(t+1,a);if(/[&<]/.test(o))return/^script$/i.test(r)?(i.characters(o,0,o.length),a):(o=o.replace(/&#?\w+;/g,n),i.characters(o,0,o.length),a)}return t+1}function b(e,t,r,n){var i=n[r];return null==i&&(i=e.lastIndexOf("</"+r+">"),i<t&&(i=e.lastIndexOf("</"+r)),n[r]=i),i<t}function w(e,t){for(var r in e)t[r]=e[r]}function _(e,t,r,n){var i=e.charAt(t+2);switch(i){case"-":if("-"===e.charAt(t+3)){var a=e.indexOf("--\x3e",t+4);return a>t?(r.comment(e,t+4,a-t-4),a+3):(n.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==e.substr(t+3,6)){a=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,a-t-9),r.endCDATA(),a+3}var o=T(e,t),s=o.length;if(s>1&&/!doctype/i.test(o[0][0])){var u=o[1][0],c=s>3&&/^public$/i.test(o[2][0])&&o[3][0],l=s>4&&o[4][0],d=o[s-1];return r.startDTD(u,c&&c.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),r.endDTD(),d.index+d[0].length}}return-1}function x(e,t,r){var n=e.indexOf("?>",t);if(n){var i=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return r.processingInstruction(i[1],i[2]),n+2}return-1}return-1}function E(e){}function T(e,t){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=t,i.exec(e);while(r=i.exec(e))if(n.push(r),r[1])return n}h.prototype={parse:function(e,t,r){var n=this.domBuilder;n.startDocument(),w(t,t={}),p(e,t,r,n,this.errorHandler),n.endDocument()}},E.prototype={setTagName:function(e){if(!i.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,r){if(!i.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=h},d1e70:function(e,t,r){"use strict";const n=r("89ae"),i=r("5950"),{isArray:a,isObject:o,isString:s,isUndefined:u}=r("68fa"),{isAbsolute:c,isRelative:l,prependBase:d}=r("ddd7"),{asArray:f,compareShortestLeast:h}=r("89ae"),p=new Map,y=1e4,g=/^@[a-zA-Z]+$/,v={};function m(e,t,r,n,i,a){if(null===t||!s(t)||v.isKeyword(t))return t;if(t.match(g))return null;if(n&&n.hasOwnProperty(t)&&!0!==i.get(t)&&v.createTermDefinition({activeCtx:e,localCtx:n,term:t,defined:i,options:a}),r=r||{},r.vocab){const r=e.mappings.get(t);if(null===r)return null;if(o(r)&&"@id"in r)return r["@id"]}const u=t.indexOf(":");if(u>0){const r=t.substr(0,u),o=t.substr(u+1);if("_"===r||0===o.indexOf("//"))return t;n&&n.hasOwnProperty(r)&&v.createTermDefinition({activeCtx:e,localCtx:n,term:r,defined:i,options:a});const s=e.mappings.get(r);if(s&&s._prefix)return s["@id"]+o;if(c(t))return t}if(r.vocab&&"@vocab"in e)return e["@vocab"]+t;if(r.base&&"@base"in e){if(e["@base"])return d(d(a.base,e["@base"]),t)}else if(r.base)return d(a.base,t);return t}function b(e,t){if(!e||"object"!==typeof e||!t||"object"!==typeof t)return e===t;const r=Array.isArray(e);if(r!==Array.isArray(t))return!1;if(r){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!b(e[r],t[r]))return!1;return!0}const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(const a in e){let r=e[a],n=t[a];if("@container"===a&&Array.isArray(r)&&Array.isArray(n)&&(r=r.slice().sort(),n=n.slice().sort()),!b(r,n))return!1}return!0}e.exports=v,v.process=async({activeCtx:e,localCtx:t,options:r,propagate:u=!0,overrideProtected:h=!1,cycles:p=new Set})=>{o(t)&&"@context"in t&&a(t["@context"])&&(t=t["@context"]);const y=f(t);if(0===y.length)return e;const g=await r.contextResolver.resolve({activeCtx:e,context:t,documentLoader:r.documentLoader,base:r.base});o(g[0].document)&&"boolean"===typeof g[0].document["@propagate"]&&(u=g[0].document["@propagate"]);let b=e;u||b.previousContext||(b=b.clone(),b.previousContext=e);for(const a of g){let{document:u}=a;if(e=b,null===u){if(!h&&0!==Object.keys(e.protected).length){const o=r&&r.protectedMode||"error";if("error"===o)throw new i("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if("warn"===o){console.warn("WARNING: invalid context nullification");const t=a.getProcessed(e);if(t){b=e=t;continue}const i=e;b=e=v.getInitialContext(r).clone();for(const[r,a]of Object.entries(i.protected))a&&(e.mappings[r]=n.clone(i.mappings[r]));e.protected=n.clone(i.protected),a.setProcessed(i,b);continue}throw new i("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,protectedMode:o})}b=e=v.getInitialContext(r).clone();continue}const f=a.getProcessed(e);if(f){b=e=f;continue}if(o(u)&&"@context"in u&&(u=u["@context"]),!o(u))throw new i("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:u});b=b.clone();const y=new Map;if("@version"in u){if(1.1!==u["@version"])throw new i("Unsupported JSON-LD version: "+u["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:u});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new i("@version: "+u["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:u});b.processingMode="json-ld-1.1",b["@version"]=u["@version"],y.set("@version",!0)}if(b.processingMode=b.processingMode||e.processingMode,"@base"in u){let e=u["@base"];if(null===e||c(e));else{if(!l(e))throw new i('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:u});e=d(b["@base"],e)}b["@base"]=e,y.set("@base",!0)}if("@vocab"in u){const e=u["@vocab"];if(null===e)delete b["@vocab"];else{if(!s(e))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:u});if(!c(e)&&v.processingMode(b,1))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:u});b["@vocab"]=m(b,e,{vocab:!0,base:!0},void 0,void 0,r)}y.set("@vocab",!0)}if("@language"in u){const e=u["@language"];if(null===e)delete b["@language"];else{if(!s(e))throw new i('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:u});b["@language"]=e.toLowerCase()}y.set("@language",!0)}if("@direction"in u){const t=u["@direction"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:u});if(null===t)delete b["@direction"];else{if("ltr"!==t&&"rtl"!==t)throw new i('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:u});b["@direction"]=t}y.set("@direction",!0)}if("@propagate"in u){const r=u["@propagate"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:u});if("boolean"!==typeof r)throw new i("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});y.set("@propagate",!0)}if("@import"in u){const n=u["@import"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:u});if(!s(n))throw new i("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const a=await r.contextResolver.resolve({activeCtx:e,context:n,documentLoader:r.documentLoader,base:r.base});if(1!==a.length)throw new i("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const o=a[0].getProcessed(e);if(o)u=o;else{const r=a[0].document;if("@import"in r)throw new i("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const e in r)u.hasOwnProperty(e)||(u[e]=r[e]);a[0].setProcessed(e,u)}y.set("@import",!0)}y.set("@protected",u["@protected"]||!1);for(const e in u)if(v.createTermDefinition({activeCtx:b,localCtx:u,term:e,defined:y,options:r,overrideProtected:h}),o(u[e])&&"@context"in u[e]){const t=u[e]["@context"];let n=!0;if(s(t)){const e=d(r.base,t);p.has(e)?n=!1:p.add(e)}if(n)try{await v.process({activeCtx:b.clone(),localCtx:u[e]["@context"],overrideProtected:!0,options:r,cycles:p})}catch(w){throw new i("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:u[e]["@context"],term:e})}}a.setProcessed(e,b)}return b},v.createTermDefinition=({activeCtx:e,localCtx:t,term:r,defined:n,options:u,overrideProtected:l=!1})=>{if(n.has(r)){if(n.get(r))return;throw new i("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}let d;if(n.set(r,!1),t.hasOwnProperty(r)&&(d=t[r]),"@type"===r&&o(d)&&"@set"===(d["@container"]||"@set")&&v.processingMode(e,1.1)){const e=["@container","@id","@protected"],n=Object.keys(d);if(0===n.length||n.some(t=>!e.includes(t)))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r})}else{if(v.isKeyword(r))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r});if(r.match(g))return void console.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:r});if(""===r)throw new i("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const f=e.mappings.get(r);e.mappings.has(r)&&e.mappings.delete(r);let h=!1;if((s(d)||null===d)&&(h=!0,d={"@id":d}),!o(d))throw new i("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const p={};e.mappings.set(r,p),p.reverse=!1;const y=["@container","@id","@language","@reverse","@type"];v.processingMode(e,1.1)&&y.push("@context","@direction","@index","@nest","@prefix","@protected");for(const a in d)if(!y.includes(a))throw new i("Invalid JSON-LD syntax; a term definition must not contain "+a,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const w=r.indexOf(":");if(p._termHasColon=w>0,"@reverse"in d){if("@id"in d)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in d)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const a=d["@reverse"];if(!s(a))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(!v.isKeyword(a)&&a.match(g))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:a}),void(f?e.mappings.set(r,f):e.mappings.delete(r));const o=m(e,a,{vocab:!0,base:!1},t,n,u);if(!c(o))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});p["@id"]=o,p.reverse=!0}else if("@id"in d){let a=d["@id"];if(a&&!s(a))throw new i("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(null===a)p["@id"]=null;else{if(!v.isKeyword(a)&&a.match(g))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:a}),void(f?e.mappings.set(r,f):e.mappings.delete(r));if(a!==r){if(a=m(e,a,{vocab:!0,base:!1},t,n,u),!c(a)&&!v.isKeyword(a))throw new i("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(r.match(/(?::[^:])|\//)){const o=new Map(n).set(r,!0),s=m(e,r,{vocab:!0,base:!1},t,o,u);if(s!==a)throw new i("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}p["@id"]=a,p._prefix=h&&!p._termHasColon&&a.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in p))if(p._termHasColon){const i=r.substr(0,w);if(t.hasOwnProperty(i)&&v.createTermDefinition({activeCtx:e,localCtx:t,term:i,defined:n,options:u}),e.mappings.has(i)){const t=r.substr(w+1);p["@id"]=e.mappings.get(i)["@id"]+t}else p["@id"]=r}else if("@type"===r)p["@id"]=r;else{if(!("@vocab"in e))throw new i("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r});p["@id"]=e["@vocab"]+r}if((!0===d["@protected"]||!0===n.get("@protected")&&!1!==d["@protected"])&&(e.protected[r]=!0,p.protected=!0),n.set(r,!0),"@type"in d){let r=d["@type"];if(!s(r))throw new i("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@json"===r||"@none"===r){if(v.processingMode(e,1))throw new i(`Invalid JSON-LD syntax; an @context @type value must not be "${r}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if("@id"!==r&&"@vocab"!==r){if(r=m(e,r,{vocab:!0,base:!1},t,n,u),!c(r))throw new i("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===r.indexOf("_:"))throw new i("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}p["@type"]=r}if("@container"in d){const r=s(d["@container"])?[d["@container"]]:d["@container"]||[],n=["@list","@set","@index","@language"];let o=!0;const u=r.includes("@set");if(v.processingMode(e,1.1)){if(n.push("@graph","@id","@type"),r.includes("@list")){if(1!==r.length)throw new i("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(r.includes("@graph")){if(r.some(e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e))throw new i("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else o&=r.length<=(u?2:1);if(r.includes("@type")&&(p["@type"]=p["@type"]||"@id",!["@id","@vocab"].includes(p["@type"])))throw new i("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else o&=!a(d["@container"]),o&=r.length<=1;if(o&=r.every(e=>n.includes(e)),o&=!(u&&r.includes("@list")),!o)throw new i("Invalid JSON-LD syntax; @context @container value must be one of the following: "+n.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(p.reverse&&!r.every(e=>["@index","@set"].includes(e)))throw new i("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});p["@container"]=r}if("@index"in d){if(!("@container"in d)||!p["@container"].includes("@index"))throw new i(`Invalid JSON-LD syntax; @index without @index in @container: "${d["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!s(d["@index"])||0===d["@index"].indexOf("@"))throw new i(`Invalid JSON-LD syntax; @index must expand to an IRI: "${d["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});p["@index"]=d["@index"]}if("@context"in d&&(p["@context"]=d["@context"]),"@language"in d&&!("@type"in d)){let e=d["@language"];if(null!==e&&!s(e))throw new i("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),p["@language"]=e}if("@prefix"in d){if(r.match(/:|\//))throw new i("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(v.isKeyword(p["@id"]))throw new i("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"!==typeof d["@prefix"])throw new i("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t});p._prefix=!0===d["@prefix"]}if("@direction"in d){const e=d["@direction"];if(null!==e&&"ltr"!==e&&"rtl"!==e)throw new i('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});p["@direction"]=e}if("@nest"in d){const e=d["@nest"];if(!s(e)||"@nest"!==e&&0===e.indexOf("@"))throw new i("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});p["@nest"]=e}
// disallow aliasing @context and @preserve
const _=p["@id"];if("@context"===_||"@preserve"===_)throw new i("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(f&&f.protected&&!l&&(e.protected[r]=!0,p.protected=!0,!b(f,p))){const e=u&&u.protectedMode||"error";if("error"===e)throw new i("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:r});if("warn"===e)return void console.warn("WARNING: protected term redefinition",{term:r});throw new i("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,term:r,protectedMode:e})}},v.expandIri=(e,t,r,n)=>m(e,t,r,void 0,void 0,n),v.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),r=p.get(t);if(r)return r;const i={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:a,clone:u,revertToPreviousContext:c,protected:{}};return p.size===y&&p.clear(),p.set(t,i),i;function a(){const e=this;if(e.inverse)return e.inverse;const t=e.inverse={},r=e.fastCurieMap={},n={},i=(e["@language"]||"@none").toLowerCase(),a=e["@direction"],u=e.mappings,c=[...u.keys()].sort(h);for(const o of c){const e=u.get(o);if(null===e)continue;let c=e["@container"]||"@none";if(c=[].concat(c).sort().join(""),null===e["@id"])continue;const l=f(e["@id"]);for(const u of l){let l=t[u];const d=v.isKeyword(u);if(l)d||e._termHasColon||n[u].push(o);else if(t[u]=l={},!d&&!e._termHasColon){n[u]=[o];const e={iri:u,terms:n[u]};u[0]in r?r[u[0]].push(e):r[u[0]]=[e]}if(l[c]||(l[c]={"@language":{},"@type":{},"@any":{}}),l=l[c],s(o,l["@any"],"@none"),e.reverse)s(o,l["@type"],"@reverse");else if("@none"===e["@type"])s(o,l["@any"],"@none"),s(o,l["@language"],"@none"),s(o,l["@type"],"@none");else if("@type"in e)s(o,l["@type"],e["@type"]);else if("@language"in e&&"@direction"in e){const t=e["@language"],r=e["@direction"];s(o,l["@language"],t&&r?`${t}_${r}`.toLowerCase():t?t.toLowerCase():r?"_"+r:"@null")}else"@language"in e?s(o,l["@language"],(e["@language"]||"@null").toLowerCase()):"@direction"in e?e["@direction"]?s(o,l["@language"],"_"+e["@direction"]):s(o,l["@language"],"@none"):a?(s(o,l["@language"],"_"+a),s(o,l["@language"],"@none"),s(o,l["@type"],"@none")):(s(o,l["@language"],i),s(o,l["@language"],"@none"),s(o,l["@type"],"@none"))}}for(const s in r)o(r,s,1);return t}function o(e,t,r){const n=e[t],i=e[t]={};let a,s;for(const o of n)a=o.iri,s=r>=a.length?"":a[r],s in i?i[s].push(o):i[s]=[o];for(const u in i)""!==u&&o(i,u,r+1)}function s(e,t,r){t.hasOwnProperty(r)||(t[r]=e)}function u(){const e={};return e.mappings=n.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=n.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone()),e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]),"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e}function c(){return this.previousContext?this.previousContext.clone():this}},v.getContextValue=(e,t,r)=>{if(null===t){if("@context"===r)return;return null}if(e.mappings.has(t)){const n=e.mappings.get(t);if(u(r))return n;if(n.hasOwnProperty(r))return n[r]}return"@language"===r&&r in e||"@direction"===r&&r in e?e[r]:"@context"!==r?null:void 0},v.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode,v.isKeyword=e=>{if(!s(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},d28b:function(e,t,r){var n=r("746f");n("iterator")},d63e3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringQuadToQuad=t.quadToStringQuad=t.stringToTerm=t.getLiteralLanguage=t.getLiteralType=t.getLiteralValue=t.termToString=void 0;const n=r("c513"),i=new n.DataFactory;function a(e){if(e)switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:"+e.value;case"Literal":const t=e;return'"'+t.value+'"'+(t.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==t.datatype.value&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"!==t.datatype.value?"^^"+t.datatype.value:"")+(t.language?"@"+t.language:"");case"Quad":return`<<${a(e.subject)} ${a(e.predicate)} ${a(e.object)}${"DefaultGraph"===e.graph.termType?"":" "+a(e.graph)}>>`;case"Variable":return"?"+e.value;case"DefaultGraph":return e.value}}function o(e){const t=/^"([^]*)"/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]}function s(e){const t=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]||(t[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function u(e){const t=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]?t[1].toLowerCase():""}function c(e,t){if(t=t||i,!e||!e.length)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.substr(2));case"?":if(!t.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return t.variable(e.substr(1));case'"':const r=u(e),n=t.namedNode(s(e));return t.literal(o(e),r||n);case"<":default:if(e.startsWith("<<")&&e.endsWith(">>")){const r=e.slice(2,-2),n=[];let i=0,a=0;for(let t=0;t<r.length;t++){const o=r[t];if("<"===o&&i++,">"===o){if(0===i)throw new Error("Found closing tag without opening tag in "+e);i--}" "===o&&0===i&&(n.push(r.slice(a,t)),a=t+1)}if(0!==i)throw new Error("Found opening tag without closing tag in "+e);if(n.push(r.slice(a,r.length)),3!==n.length&&4!==n.length)throw new Error("Nested quad syntax error "+e);return t.quad(c(n[0]),c(n[1]),c(n[2]),n[3]?c(n[3]):void 0)}return t.namedNode(e)}}function l(e){return{subject:a(e.subject),predicate:a(e.predicate),object:a(e.object),graph:a(e.graph)}}function d(e,t){return t=t||i,t.quad(c(e.subject,t),c(e.predicate,t),c(e.object,t),c(e.graph,t))}t.termToString=a,t.getLiteralValue=o,t.getLiteralType=s,t.getLiteralLanguage=u,t.stringToTerm=c,t.quadToStringQuad=l,t.stringQuadToQuad=d},d76c:function(e,t){function r(){this.value=""}r.prototype.equals=function(e){return!!e&&e.termType===this.termType},r.prototype.termType="DefaultGraph",e.exports=r},dae0:function(e,t,r){"use strict";r.r(t),r.d(t,"Lexer",(function(){return i["a"]})),r.d(t,"Parser",(function(){return B})),r.d(t,"Writer",(function(){return X})),r.d(t,"Store",(function(){return Z})),r.d(t,"StreamParser",(function(){return te})),r.d(t,"StreamWriter",(function(){return re})),r.d(t,"Util",(function(){return n})),r.d(t,"DataFactory",(function(){return _})),r.d(t,"Term",(function(){return x})),r.d(t,"NamedNode",(function(){return E})),r.d(t,"Literal",(function(){return T})),r.d(t,"BlankNode",(function(){return O})),r.d(t,"Variable",(function(){return S})),r.d(t,"DefaultGraph",(function(){return N})),r.d(t,"Quad",(function(){return k})),r.d(t,"Triple",(function(){return k})),r.d(t,"termFromId",(function(){return I})),r.d(t,"termToId",(function(){return R}));var n={};r.r(n),r.d(n,"isNamedNode",(function(){return o})),r.d(n,"isBlankNode",(function(){return s})),r.d(n,"isLiteral",(function(){return u})),r.d(n,"isVariable",(function(){return c})),r.d(n,"isDefaultGraph",(function(){return l})),r.d(n,"inDefaultGraph",(function(){return d})),r.d(n,"prefix",(function(){return f})),r.d(n,"prefixes",(function(){return h}));var i=r("f3bd"),a=r("ff5e");function o(e){return!!e&&"NamedNode"===e.termType}function s(e){return!!e&&"BlankNode"===e.termType}function u(e){return!!e&&"Literal"===e.termType}function c(e){return!!e&&"Variable"===e.termType}function l(e){return!!e&&"DefaultGraph"===e.termType}function d(e){return l(e.graph)}function f(e,t){return h({"":e},t)("")}function h(e,t){const r=Object.create(null);for(const i in e)n(i,e[i]);function n(e,n){if("string"===typeof n){const i=Object.create(null);r[e]=e=>i[e]||(i[e]=t.namedNode(n+e))}else if(!(e in r))throw new Error("Unknown prefix: "+e);return r[e]}return t=t||_,n}const{rdf:p,xsd:y}=a["a"];let g,v=0;const m=/^"(.*".*)(?="[^"]*$)/,b=/^<<("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ?("(?:""|[^"])*"[^ ]*|[^ ]+)?>>$/,w={namedNode:C,blankNode:D,variable:L,literal:P,defaultGraph:F,quad:M,triple:M};var _=w;class x{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof x?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}toJSON(){return{termType:this.termType,value:this.value}}}class E extends x{get termType(){return"NamedNode"}}class T extends x{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}get datatype(){return new E(this.datatypeString)}get datatypeString(){const e=this.id,t=e.lastIndexOf('"')+1,r=t<e.length?e[t]:"";return"^"===r?e.substr(t+2):"@"!==r?y.string:p.langString}equals(e){return e instanceof T?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class O extends x{constructor(e){super("_:"+e)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class S extends x{constructor(e){super("?"+e)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class N extends x{constructor(){return super(""),g||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}}function I(e,t){if(t=t||w,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===w)return new T(e);if('"'===e[e.length-1])return t.literal(e.substr(1,e.length-2));const r=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,r-1),"@"===e[r+1]?e.substr(r+2):t.namedNode(e.substr(r+3)));case"<":const n=b.exec(e);return t.quad(I(A(n[1]),t),I(A(n[2]),t),I(A(n[3]),t),n[4]&&I(A(n[4]),t));default:return t.namedNode(e)}}function R(e){if("string"===typeof e)return e;if(e instanceof x&&"Quad"!==e.termType)return e.id;if(!e)return g.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:"+e.value;case"Variable":return"?"+e.value;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?"@"+e.language:e.datatype&&e.datatype.value!==y.string?"^^"+e.datatype.value:""}`;case"Quad":return`<<${j(R(e.subject))} ${j(R(e.predicate))} ${j(R(e.object))}${l(e.graph)?"":" "+R(e.graph)}>>`;default:throw new Error("Unexpected termType: "+e.termType)}}g=new N;class k extends x{constructor(e,t,r,n){super(""),this._subject=e,this._predicate=t,this._object=r,this._graph=n||g}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}function j(e){return e.replace(m,(e,t)=>'"'+t.replace(/"/g,'""'))}function A(e){return e.replace(m,(e,t)=>'"'+t.replace(/""/g,'"'))}function C(e){return new E(e)}function D(e){return new O(e||"n3-"+v++)}function P(e,t){if("string"===typeof t)return new T(`"${e}"@${t.toLowerCase()}`);let r=t?t.value:"";return""===r&&("boolean"===typeof e?r=y.boolean:"number"===typeof e&&(Number.isFinite(e)?r=Number.isInteger(e)?y.integer:y.double:(r=y.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),""===r||r===y.string?new T(`"${e}"`):new T(`"${e}"^^${r}`)}function L(e){return new S(e)}function F(){return g}function M(e,t,r,n){return new k(e,t,r,n)}let U=0;class B{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&V(this,e.factory);const t="string"===typeof e.format?e.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(t),n=/trig/.test(t),a=/triple/.test(t),o=/quad/.test(t),s=this._n3Mode=/n3/.test(t),u=a||o;(this._supportsNamedGraphs=!(r||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||n||a||s),this._supportsRDFStar=""===t||/star|\*$/.test(t),u&&(this._resolveRelativeIRI=e=>null),this._blankNodePrefix="string"!==typeof e.blankNodePrefix?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new i["a"]({lineMode:u,n3:s}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){U=0}_setBase(e){if(e){const t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base="",this._basePath=""}_saveContext(e,t,r,n,i){const a=this._n3Mode;this._contextStack.push({subject:r,predicate:n,object:i,graph:t,type:e,inverse:!!a&&this._inversePredicate,blankPrefix:a?this._prefixes._:"",quantified:a?this._quantified:null}),a&&(this._inversePredicate=!1,this._prefixes._=this._graph?this._graph.id.substr(2)+".":".",this._quantified=Object.create(this._quantified))}_restoreContext(){const e=this._contextStack.pop(),t=this._n3Mode;this._subject=e.subject,this._predicate=e.predicate,this._object=e.object,this._graph=e.graph,t&&(this._inversePredicate=e.inverse,this._prefixes._=e.blankPrefix,this._quantified=e.quantified)}_readInTopContext(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,t){let r;switch(e.type){case"IRI":case"typeIRI":const t=this._resolveIRI(e.value);if(null===t)return this._error("Invalid IRI",e);r=this._namedNode(t);break;case"type":case"prefixed":const n=this._prefixes[e.prefix];if(void 0===n)return this._error(`Undefined prefix "${e.prefix}:"`,e);r=this._namedNode(n+e.value);break;case"blank":r=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._variable(e.value.substr(1));break;default:return this._error("Expected entity but got "+e.type,e)}return!t&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(0===e.prefix.length)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected "+t,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return"{"!==e.type?this._error("Expected graph but got "+e.type,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);const t=null===this._predicate;return this._restoreContext(),null===this._object?t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank:this._getContextEndReader()}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let t=null,r=null,n=this._readListItem;const i=this._subject,a=this._contextStack,o=a[a.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=t=this._blankNode()),n=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext(),0!==a.length&&"list"===a[a.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(n=this._readPredicate,this._subject===this.RDF_NIL)return n}else if(n=this._getContextEndReader(),this._object===this.RDF_NIL)return n;r=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,n=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),n=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(t=this._readEntity(e)))return}if(null===r&&(this._subject=r=this._blankNode()),null===i?null===o.predicate?o.subject=r:o.object=r:this._emit(i,this.RDF_REST,r,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,r,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,t,this._graph)}return n}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let t=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const r=this._readEntity(e);if(void 0===r)return;t=this._literal(this._literalValue,r),e=null;break;case"langcode":t=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:t}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,t){const r=this._completeLiteral(e);if(r)return this._object=r.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===r.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let t,r=this._graph;const n=this._subject,i=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(r=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(null!==n){const e=this._predicate,t=this._object;i?this._emit(t,e,n,r):this._emit(n,e,t,r)}return t}_readBlankNodePunctuation(e){let t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if("IRI"!==e.type)return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(e){const t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error("Unexpected "+e.type,e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const t=this._contextStack,r=t.length&&t[t.length-1];if(r&&"item"===r.type){const e=this._subject;this._restoreContext(),this._emit(this._subject,this.RDF_FIRST,e,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let t,r;const n=this._blankNode();if(void 0!==(r=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=n):(t=this._object,this._object=n),this._emit(t,r,n,this._graph),this._readPath}_readBackwardPath(e){const t=this._blankNode();let r,n;if(void 0!==(r=this._readEntity(e)))return null===this._predicate?(n=this._subject,this._subject=t):(n=this._object,this._object=t),this._emit(t,r,n,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return">>"!==e.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(e))?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(">>"!==e.type)return this._error("Expected >> but got "+e.type,e);const t=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext(),null===this._subject?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,t,r,n){this._callback(null,this._quad(e,t,r,n||this.DEFAULTGRAPH))}_error(e,t){const r=new Error(`${e} on line ${t.line}.`);r.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=q}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const t=e.length;let r="",n=-1,i=-1,a=0,o="/";while(n<t){switch(o){case":":if(i<0&&"/"===e[++n]&&"/"===e[++n])while((i=n+1)<t&&"/"!==e[i])n=i;break;case"?":case"#":n=t;break;case"/":if("."===e[n+1])switch(o=e[1+ ++n],o){case"/":r+=e.substring(a,n-1),a=n+1;break;case void 0:case"?":case"#":return r+e.substring(a,n)+e.substr(n+1);case".":if(o=e[1+ ++n],void 0===o||"/"===o||"?"===o||"#"===o){if(r+=e.substring(a,n-2),(a=r.lastIndexOf("/"))>=i&&(r=r.substr(0,a)),"/"!==o)return`${r}/${e.substr(n+1)}`;a=n+1}}}o=e[++n]}return r+e.substring(a)}parse(e,t,r){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${U++}_`,this._prefixCallback=r||q,this._inversePredicate=!1,this._quantified=Object.create(null),!t){const t=[];let r;if(this._callback=(e,n)=>{e?r=e:n&&t.push(n)},this._lexer.tokenize(e).every(e=>this._readCallback=this._readCallback(e)),r)throw r;return t}this._callback=t,this._lexer.tokenize(e,(e,t)=>{null!==e?(this._callback(e),this._callback=q):this._readCallback&&(this._readCallback=this._readCallback(t))})}}function q(){}function V(e,t){const r=t.namedNode;e._namedNode=r,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=r(a["a"].rdf.first),e.RDF_REST=r(a["a"].rdf.rest),e.RDF_NIL=r(a["a"].rdf.nil),e.N3_FORALL=r(a["a"].r.forAll),e.N3_FORSOME=r(a["a"].r.forSome),e.ABBREVIATIONS={a:r(a["a"].rdf.type),"=":r(a["a"].owl.sameAs),">":r(a["a"].log.implies)},e.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}V(B.prototype,_);const $=_.defaultGraph(),{rdf:G,xsd:H}=a["a"],z=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,Q=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,J={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class W extends x{equals(){return!1}}class X{constructor(e,t){if(this._prefixRegex=/$0^/,e&&"function"!==typeof e.write&&(t=e,e=null),t=t||{},this._lists=t.lists,e)this._outputStream=e,this._endStream=void 0===t.end||!!t.end;else{let e="";this._outputStream={write(t,r,n){e+=t,n&&n()},end:t=>{t&&t(null,e)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=$,this._baseIRI=t.baseIRI,this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes))}get _inDefaultGraph(){return $.equals(this._graph)}_write(e,t){this._outputStream.write(e,"utf8",t)}_writeQuad(e,t,r,n,i){try{n.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+($.equals(n)?"":this._encodeIriOrBlank(n)+" {\n")),this._graph=n,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(", "+this._encodeObject(r),i):this._write(`;\n    ${this._encodePredicate(this._predicate=t)} ${this._encodeObject(r)}`,i):this._write(`${(null===this._subject?"":".\n")+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=t)} ${this._encodeObject(r)}`,i)}catch(a){i&&i(a)}}_writeQuadLine(e,t,r,n,i){delete this._prefixMatch,this._write(this.quadToString(e,t,r,n),i)}quadToString(e,t,r,n){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(t)} ${this._encodeObject(r)}${n&&n.value?` ${this._encodeIriOrBlank(n)} .\n`:" .\n"}`}quadsToString(e){return e.map(e=>this.quadToString(e.subject,e.predicate,e.object,e.graph)).join("")}_encodeSubject(e){return"Quad"===e.termType?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if("NamedNode"!==e.termType)return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:"_:"+e.value;let t=e.value;this._baseIRI&&t.startsWith(this._baseIRI)&&(t=t.substr(this._baseIRI.length)),z.test(t)&&(t=t.replace(Q,K));const r=this._prefixRegex.exec(t);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:t:`<${t}>`}_encodeLiteral(e){let t=e.value;if(z.test(t)&&(t=t.replace(Q,K)),e.language)return`"${t}"@${e.language}`;if(this._lineMode){if(e.datatype.value===H.string)return`"${t}"`}else switch(e.datatype.value){case H.string:return`"${t}"`;case H.boolean:if("true"===t||"false"===t)return t;break;case H.integer:if(/^[+-]?\d+$/.test(t))return t;break;case H.decimal:if(/^[+-]?\d*\.\d+$/.test(t))return t;break;case H.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(t))return t;break}return`"${t}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===G.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:t,object:r,graph:n}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(t)} ${this._encodeObject(r)}${l(n)?"":" "+this._encodeIriOrBlank(n)}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,t,r,n,i){void 0===r?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):"function"===typeof n?this._writeQuad(e,t,r,$,n):this._writeQuad(e,t,r,n||$,i)}addQuads(e){for(let t=0;t<e.length;t++)this.addQuad(e[t])}addPrefix(e,t,r){const n={};n[e]=t,this.addPrefixes(n,r)}addPrefixes(e,t){if(!this._prefixIRIs)return t&&t();let r=!1;for(let n in e){let t=e[n];"string"!==typeof t&&(t=t.value),r=!0,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),this._prefixIRIs[t]=n+=":",this._write(`@prefix ${n} <${t}>.\n`)}if(r){let e="",t="";for(const r in this._prefixIRIs)e+=e?"|"+r:r,t+=(t?"|":"")+this._prefixIRIs[r];e=e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp(`^(?:${t})[^/]*$|^(${e})([a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?"\n":"",t)}blank(e,t){let r,n,i=e;switch(void 0===e?i=[]:e.termType?i=[{predicate:e,object:t}]:"length"in e||(i=[e]),n=i.length){case 0:return new W("[]");case 1:if(r=i[0],!(r.object instanceof W))return new W(`[ ${this._encodePredicate(r.predicate)} ${this._encodeObject(r.object)} ]`);default:let t="[";for(let a=0;a<n;a++)r=i[a],r.predicate.equals(e)?t+=", "+this._encodeObject(r.object):(t+=`${(a?";\n  ":"\n  ")+this._encodePredicate(r.predicate)} ${this._encodeObject(r.object)}`,e=r.predicate);return new W(t+"\n]")}}list(e){const t=e&&e.length||0,r=new Array(t);for(let n=0;n<t;n++)r[n]=this._encodeObject(e[n]);return new W(`(${r.join(" ")})`)}end(e){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;let t=e&&((r,n)=>{t=null,e(r,n)});if(this._endStream)try{return this._outputStream.end(t)}catch(r){}t&&t()}}function K(e){let t=J[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}var Y=r("ae55");class Z{constructor(e,t){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,t||!e||e[0]||(t=e,e=null),t=t||{},this._factory=t.factory||_,e&&this.addQuads(e)}get size(){let e=this._size;if(null!==e)return e;e=0;const t=this._graphs;let r,n;for(const i in t)for(const a in r=t[i].subjects)for(const t in n=r[a])e+=Object.keys(n[t]).length;return this._size=e}_addToIndex(e,t,r,n){const i=e[t]||(e[t]={}),a=i[r]||(i[r]={}),o=n in a;return o||(a[n]=null),!o}_removeFromIndex(e,t,r,n){const i=e[t],a=i[r];delete a[n];for(const o in a)return;delete i[r];for(const o in i)return;delete e[t]}_findInIndex(e,t,r,n,i,a,o,s,u,c){let l,d,f;const h=!t+!r+!n,p=h>1?Object.keys(this._ids):this._entities;t&&((l=e,e={})[t]=l[t]);for(const y in e){const t=p[y];if(d=e[y]){r&&((l=d,d={})[r]=l[r]);for(const e in d){const r=p[e];if(f=d[e]){const e=n?n in f?[n]:[]:Object.keys(f);for(let n=0;n<e.length;n++){const l={subject:null,predicate:null,object:null};l[i]=I(t,this._factory),l[a]=I(r,this._factory),l[o]=I(p[e[n]],this._factory);const d=this._factory.quad(l.subject,l.predicate,l.object,I(s,this._factory));if(c)c.push(d);else if(u(d))return!0}}}}}return c}_loop(e,t){for(const r in e)t(r)}_loopByKey0(e,t,r){let n,i;if(n=e[t])for(i in n)r(i)}_loopByKey1(e,t,r){let n,i;for(n in e)i=e[n],i[t]&&r(n)}_loopBy2Keys(e,t,r,n){let i,a,o;if((i=e[t])&&(a=i[r]))for(o in a)n(o)}_countInIndex(e,t,r,n){let i,a,o,s=0;t&&((i=e,e={})[t]=i[t]);for(const u in e)if(a=e[u]){r&&((i=a,a={})[r]=i[r]);for(const e in a)(o=a[e])&&(n?n in o&&s++:s+=Object.keys(o).length)}return s}_getGraphs(e){if(!ee(e))return this._graphs;const t={};return t[e]=this._graphs[e],t}_uniqueEntities(e){const t=Object.create(null);return r=>{r in t||(t[r]=!0,e(I(this._entities[r],this._factory)))}}addQuad(e,t,r,n){t||(n=e.graph,r=e.object,t=e.predicate,e=e.subject),e=R(e),t=R(t),r=R(r),n=R(n);let i=this._graphs[n];i||(i=this._graphs[n]={subjects:{},predicates:{},objects:{}},Object.freeze(i));const a=this._ids,o=this._entities;e=a[e]||(a[o[++this._id]=e]=this._id),t=a[t]||(a[o[++this._id]=t]=this._id),r=a[r]||(a[o[++this._id]=r]=this._id);const s=this._addToIndex(i.subjects,e,t,r);return this._addToIndex(i.predicates,t,r,e),this._addToIndex(i.objects,r,e,t),this._size=null,s}addQuads(e){for(let t=0;t<e.length;t++)this.addQuad(e[t])}import(e){return e.on("data",e=>{this.addQuad(e)}),e}removeQuad(e,t,r,n){t||(n=e.graph,r=e.object,t=e.predicate,e=e.subject),e=R(e),t=R(t),r=R(r),n=R(n);const i=this._ids,a=this._graphs;let o,s,u;if(!(e=i[e])||!(t=i[t])||!(r=i[r])||!(o=a[n])||!(s=o.subjects[e])||!(u=s[t])||!(r in u))return!1;for(e in this._removeFromIndex(o.subjects,e,t,r),this._removeFromIndex(o.predicates,t,r,e),this._removeFromIndex(o.objects,r,e,t),null!==this._size&&this._size--,o.subjects)return!0;return delete a[n],!0}removeQuads(e){for(let t=0;t<e.length;t++)this.removeQuad(e[t])}remove(e){return e.on("data",e=>{this.removeQuad(e)}),e}removeMatches(e,t,r,n){return this.remove(this.match(e,t,r,n))}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,t,r,n){e=e&&R(e),t=t&&R(t),r=r&&R(r),n=n&&R(n);const i=[],a=this._getGraphs(n),o=this._ids;let s,u,c,l;if(ee(e)&&!(u=o[e])||ee(t)&&!(c=o[t])||ee(r)&&!(l=o[r]))return i;for(const d in a)(s=a[d])&&(u?l?this._findInIndex(s.objects,l,u,c,"object","subject","predicate",d,null,i):this._findInIndex(s.subjects,u,c,null,"subject","predicate","object",d,null,i):c?this._findInIndex(s.predicates,c,l,null,"predicate","object","subject",d,null,i):l?this._findInIndex(s.objects,l,null,null,"object","subject","predicate",d,null,i):this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",d,null,i));return i}match(e,t,r,n){const i=new Y["Readable"]({objectMode:!0});return i._read=()=>{for(const a of this.getQuads(e,t,r,n))i.push(a);i.push(null)},i}countQuads(e,t,r,n){e=e&&R(e),t=t&&R(t),r=r&&R(r),n=n&&R(n);const i=this._getGraphs(n),a=this._ids;let o,s,u,c,l=0;if(ee(e)&&!(s=a[e])||ee(t)&&!(u=a[t])||ee(r)&&!(c=a[r]))return 0;for(const d in i)(o=i[d])&&(l+=e?r?this._countInIndex(o.objects,c,s,u):this._countInIndex(o.subjects,s,u,c):t?this._countInIndex(o.predicates,u,c,s):this._countInIndex(o.objects,c,s,u));return l}forEach(e,t,r,n,i){this.some(t=>(e(t),!1),t,r,n,i)}every(e,t,r,n,i){let a=!1;const o=!this.some(t=>(a=!0,!e(t)),t,r,n,i);return a&&o}some(e,t,r,n,i){t=t&&R(t),r=r&&R(r),n=n&&R(n),i=i&&R(i);const a=this._getGraphs(i),o=this._ids;let s,u,c,l;if(ee(t)&&!(u=o[t])||ee(r)&&!(c=o[r])||ee(n)&&!(l=o[n]))return!1;for(const d in a)if(s=a[d])if(u){if(l){if(this._findInIndex(s.objects,l,u,c,"object","subject","predicate",d,e,null))return!0}else if(this._findInIndex(s.subjects,u,c,null,"subject","predicate","object",d,e,null))return!0}else if(c){if(this._findInIndex(s.predicates,c,l,null,"predicate","object","subject",d,e,null))return!0}else if(l){if(this._findInIndex(s.objects,l,null,null,"object","subject","predicate",d,e,null))return!0}else if(this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",d,e,null))return!0;return!1}getSubjects(e,t,r){const n=[];return this.forSubjects(e=>{n.push(e)},e,t,r),n}forSubjects(e,t,r,n){t=t&&R(t),r=r&&R(r),n=n&&R(n);const i=this._ids,a=this._getGraphs(n);let o,s,u;if(e=this._uniqueEntities(e),!(ee(t)&&!(s=i[t])||ee(r)&&!(u=i[r])))for(n in a)(o=a[n])&&(s?u?this._loopBy2Keys(o.predicates,s,u,e):this._loopByKey1(o.subjects,s,e):u?this._loopByKey0(o.objects,u,e):this._loop(o.subjects,e))}getPredicates(e,t,r){const n=[];return this.forPredicates(e=>{n.push(e)},e,t,r),n}forPredicates(e,t,r,n){t=t&&R(t),r=r&&R(r),n=n&&R(n);const i=this._ids,a=this._getGraphs(n);let o,s,u;if(e=this._uniqueEntities(e),!(ee(t)&&!(s=i[t])||ee(r)&&!(u=i[r])))for(n in a)(o=a[n])&&(s?u?this._loopBy2Keys(o.objects,u,s,e):this._loopByKey0(o.subjects,s,e):u?this._loopByKey1(o.predicates,u,e):this._loop(o.predicates,e))}getObjects(e,t,r){const n=[];return this.forObjects(e=>{n.push(e)},e,t,r),n}forObjects(e,t,r,n){t=t&&R(t),r=r&&R(r),n=n&&R(n);const i=this._ids,a=this._getGraphs(n);let o,s,u;if(e=this._uniqueEntities(e),!(ee(t)&&!(s=i[t])||ee(r)&&!(u=i[r])))for(n in a)(o=a[n])&&(s?u?this._loopBy2Keys(o.subjects,s,u,e):this._loopByKey1(o.objects,s,e):u?this._loopByKey0(o.predicates,u,e):this._loop(o.objects,e))}getGraphs(e,t,r){const n=[];return this.forGraphs(e=>{n.push(e)},e,t,r),n}forGraphs(e,t,r,n){for(const i in this._graphs)this.some(t=>(e(t.graph),!0),t,r,n,i)}createBlankNode(e){let t,r;if(e){t=e="_:"+e,r=1;while(this._ids[t])t=e+r++}else do{t="_:b"+this._blankNodeIndex++}while(this._ids[t]);return this._ids[t]=++this._id,this._entities[this._id]=t,this._factory.blankNode(t.substr(2))}extractLists({remove:e=!1,ignoreErrors:t=!1}={}){const r={},n=t?()=>!0:(e,t)=>{throw new Error(`${e.value} ${t}`)},i=this.getQuads(null,a["a"].rdf.rest,a["a"].rdf.nil,null),o=e?[...i]:[];return i.forEach(t=>{const i=[];let s,u,c=!1;const l=t.graph;let d=t.subject;while(d&&!c){const e=this.getQuads(null,null,d,null),t=this.getQuads(d,null,null,null);let r,f=null,h=null,p=null;for(let i=0;i<t.length&&!c;i++)r=t[i],r.graph.equals(l)?s?c=n(d,"has non-list arcs out"):r.predicate.value===a["a"].rdf.first?f?c=n(d,"has multiple rdf:first arcs"):o.push(f=r):r.predicate.value===a["a"].rdf.rest?h?c=n(d,"has multiple rdf:rest arcs"):o.push(h=r):e.length?c=n(d,"can't be subject and object"):(s=r,u="subject"):c=n(d,"not confined to single graph");for(let i=0;i<e.length&&!c;++i)r=e[i],s?c=n(d,"can't have coreferences"):r.predicate.value===a["a"].rdf.rest?p?c=n(d,"has incoming rdf:rest arcs"):p=r:(s=r,u="object");f?i.unshift(f.object):c=n(d,"has no list head"),d=p&&p.subject}c?e=!1:s&&(r[s[u].value]=i)}),e&&this.removeQuads(o),r}}function ee(e){return"string"===typeof e||e instanceof String}class te extends Y["Transform"]{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;const t=new B(e);let r,n;t.parse({on:(e,t)=>{switch(e){case"data":r=t;break;case"end":n=t;break}}},(e,t)=>{e&&this.emit("error",e)||t&&this.push(t)},(e,t)=>{this.emit("prefix",e,t)}),this._transform=(e,t,n)=>{r(e),n()},this._flush=e=>{n(),e()}}import(e){return e.on("data",e=>{this.write(e)}),e.on("end",()=>{this.end()}),e.on("error",e=>{this.emit("error",e)}),this}}class re extends Y["Transform"]{constructor(e){super({encoding:"utf8",writableObjectMode:!0});const t=this._writer=new X({write:(e,t,r)=>{this.push(e),r&&r()},end:e=>{this.push(null),e&&e()}},e);this._transform=(e,r,n)=>{t.addQuad(e,n)},this._flush=e=>{t.end(e)}}import(e){return e.on("data",e=>{this.write(e)}),e.on("end",()=>{this.end()}),e.on("error",e=>{this.emit("error",e)}),e.on("prefix",(e,t)=>{this._writer.addPrefix(e,t)}),this}}},dbce:function(e,t,r){r("d3b7"),r("3ca3"),r("10d1"),r("ddb0"),r("e439");var n=r("7037")["default"];function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r["default"]=e,t&&t.set(e,r),r}e.exports=a,e.exports["default"]=e.exports,e.exports.__esModule=!0},ddd7:function(e,t,r){"use strict";const n=r("68fa"),i={};e.exports=i,i.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},i.parse=(e,t)=>{const r={},n=i.parsers[t||"full"],a=n.regex.exec(e);let o=n.keys.length;while(o--)r[n.keys[o]]=void 0===a[o]?null:a[o];return("https"===r.scheme&&"443"===r.port||"http"===r.scheme&&"80"===r.port)&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=i.removeDotSegments(r.path),r},i.prependBase=(e,t)=>{if(null===e)return t;if(i.isAbsolute(t))return t;e&&!n.isString(e)||(e=i.parse(e||""));const r=i.parse(t),a={protocol:e.protocol||""};if(null!==r.authority)a.authority=r.authority,a.path=r.path,a.query=r.query;else if(a.authority=e.authority,""===r.path)a.path=e.path,null!==r.query?a.query=r.query:a.query=e.query;else{if(0===r.path.indexOf("/"))a.path=r.path;else{let t=e.path;t=t.substr(0,t.lastIndexOf("/")+1),(t.length>0||e.authority)&&"/"!==t.substr(-1)&&(t+="/"),t+=r.path,a.path=t}a.query=r.query}""!==r.path&&(a.path=i.removeDotSegments(a.path));let o=a.protocol;return null!==a.authority&&(o+="//"+a.authority),o+=a.path,null!==a.query&&(o+="?"+a.query),null!==r.fragment&&(o+="#"+r.fragment),""===o&&(o="./"),o},i.removeBase=(e,t)=>{if(null===e)return t;e&&!n.isString(e)||(e=i.parse(e||""));let r="";if(""!==e.href?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),0!==t.indexOf(r))return t;const a=i.parse(t.substr(r.length)),o=e.normalizedPath.split("/"),s=a.normalizedPath.split("/"),u=a.fragment||a.query?0:1;while(o.length>0&&s.length>u){if(o[0]!==s[0])break;o.shift(),s.shift()}let c="";if(o.length>0){o.pop();for(let e=0;e<o.length;++e)c+="../"}return c+=s.join("/"),null!==a.query&&(c+="?"+a.query),null!==a.fragment&&(c+="#"+a.fragment),""===c&&(c="./"),c},i.removeDotSegments=e=>{if(0===e.length)return"";const t=e.split("/"),r=[];while(t.length>0){const e=t.shift(),n=0===t.length;"."!==e?".."!==e?r.push(e):(r.pop(),n&&r.push("")):n&&r.push("")}return"/"===e[0]&&r.length>0&&""!==r[0]&&r.unshift(""),1===r.length&&""===r[0]?"/":r.join("/")};const a=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;i.isAbsolute=e=>n.isString(e)&&a.test(e),i.isRelative=e=>n.isString(e)},dfa6:function(e,t,r){"use strict";var n=r("dbce"),i=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(r("7037")),o=n(r("3897")),s=r("1079"),u=function(){function e(e){return encodeURI(e)}var t={encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t},decode:function(e){var t="",r=0;while(r<e.length){var n=e.charCodeAt(r);n<128?(t+=String.fromCharCode(n),r++):n>191&&n<224?(t+=String.fromCharCode((31&n)<<6|63&e.charCodeAt(r+1)),r+=2):(t+=String.fromCharCode((15&n)<<12|(63&e.charCodeAt(r+1))<<6|63&e.charCodeAt(r+2)),r+=3)}return t}},r="http://www.w3.org/2000/10/swap/log#",n=function(e){return e},i=function(e){return e},u=function(e){if(e.length>0)throw"missing.js: oops nnonempty dict not imp";return[]},c=function(e){return e.length},l=function(e,t,r){if("undefined"==typeof e.slice)throw"@@ mising.js: No .slice function for "+e+" of type "+(0,a.default)(e);return"undefined"==typeof r||null==r?e.slice(t):e.slice(t,r)},d=Error("dummy error stop iteration"),f=function(e){return this.last=0,this.li=e,this.next=function(){if(this.last==this.li.length)throw d;return this.li[this.last++]},this},h=function(e,t){return e.indexOf(t)},p=function(e,t){if(!e){if(t)throw"python Assertion failed: "+t;throw"(python) Assertion failed."}},y=function(e){return String.fromCharCode(e)};String.prototype.encode=function(e){if("utf-8"!=e)throw"UTF8_converter: can only do utf-8";return t.encode(this)},String.prototype.decode=function(e){if("utf-8"!=e)throw"UTF8_converter: can only do utf-8";return this};var g=function(e,t){return o.join(t,e)},v=null,m=0,b=0,w=function(e){},_="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",x="http://www.w3.org/2002/07/owl#sameAs";var E="#",T="http://www.w3.org/2001/XMLSchema#integer",O="http://www.w3.org/2001/XMLSchema#double",S="http://www.w3.org/2001/XMLSchema#decimal",N="http://www.w3.org/2001/XMLSchema#date",I="http://www.w3.org/2001/XMLSchema#dateTime",R="\t\r\n !\"#$%&'()*.,+/;<=>?@[\\]^`{|}~",k=R+":",j=(new RegExp("^[ \\t]*(#[^\\n]*)?\\r?\\n","g"),new RegExp("^[ \\t]*(#[^\\n]*)?$","g"),new RegExp("^[ \\t]*","g"),new RegExp("^[-+]?[0-9]+","g"),new RegExp("^([-+]?[0-9]+)(\\.[0-9]+)?(e[-+]?[0-9]+)?","g")),A=new RegExp("^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9](T[0-9][0-9]:[0-9][0-9](:[0-9][0-9](\\.[0-9]*)?)?)?Z?"),C=(new RegExp("^[0-9]+","g"),new RegExp('[\\\\\\r\\n\\"]',"g")),D=new RegExp("^[a-zA-Z0-9]+(-[a-zA-Z0-9]+)*","g");function P(e,t,r,n,i,a,o,s){return new L(e,t,r,n,i,a,o,s)}function L(e,t,r,n,a,o,s,c){"undefined"==typeof t&&(t=null),"undefined"==typeof r&&(r=""),"undefined"==typeof n&&(n=null),"undefined"==typeof a&&(a=""),"undefined"==typeof o&&(o=null),"undefined"==typeof s&&(s=""),"undefined"==typeof c&&(c=null),this._bindings=new u([]),this._flags=s,""!=r&&(p(r.indexOf(":")>=0,"Document URI not absolute: "+r),this._bindings[""]=r+"#"),this._store=e,a&&e.setGenPrefix(a),this._thisDoc=r,this.source=e.sym(r),this.lines=0,this.statementCount=0,this.startOfLine=0,this.previousLine=0,this._genPrefix=a,this.keywords=new i(["a","this","bind","has","is","of","true","false"]),this.keywordsSet=0,this._anonymousNodes=new u([]),this._variables=new u([]),this._parentVariables=new u([]),this._reason=c,this._reason2=null,m&&(this._reason2=why_BecauseOfData(e.sym(r),this._reason)),this._baseURI=n||(r||null),p(!this._baseURI||this._baseURI.indexOf(":")>=0),this._genPrefix||(this._thisDoc?this._genPrefix=this._thisDoc+"#_g":this._genPrefix=RDFSink_uniqueURI()),null==t?this._thisDoc?this._formula=e.formula(r+"#_formula"):this._formula=e.formula():this._formula=t,this._context=this._formula,this._parentContext=null}function F(e,t,r,n,i){this._str=r.encode("utf-8"),this._str=r,this._i=n,this._why=i,this.lines=t,this._uri=e}function M(e,t,r,n,i){var a=t+1,o="Line "+a+" of <"+e+">: Bad syntax: "+i+'\nat: "'+r.slice(n,n+30)+'"',s=new SyntaxError(o,e,a);return s.lineNo=a,s.characterInFile=n,s.syntaxProblem=i,s}return L.prototype.here=function(e){return this._genPrefix+"_L"+this.lines+"C"+(e-this.startOfLine+1)},L.prototype.formula=function(){return this._formula},L.prototype.loadStream=function(e){return this.loadBuf(e.read())},L.prototype.loadBuf=function(e){return this.startDoc(),this.feed(e),this.endDoc()},L.prototype.feed=function(e){var t=e.decode("utf-8"),r=0;while(r>=0){var n=this.skipSpace(t,r);if(n<0)return;r=this.directiveOrStatement(t,n);if(r<0)throw M(this._thisDoc,this.lines,t,n,"expected directive or statement")}},L.prototype.directiveOrStatement=function(e,t){var r=this.skipSpace(e,t);if(r<0)return r;var n=this.directive(e,r);if(n>=0)return this.checkDot(e,n);n=this.statement(e,r);return n>=0?this.checkDot(e,n):n},L.prototype.tok=function(e,t,r){if("@"==t.slice(r,r+1))r=r+1;else if((0,s.ArrayIndexOf)(this.keywords,e)<0)return-1;var n=r+c(e);return t.slice(r,n)==e&&R.indexOf(t.charAt(n))>=0?n:-1},L.prototype.directive=function(t,r){var n=this.skipSpace(t,r);if(n<0)return n;var a=new i([]);n=this.tok("bind",t,r);if(n>0)throw M(this._thisDoc,this.lines,t,r,"keyword bind is obsolete: use @prefix");n=this.tok("keywords",t,r);if(n>0){r=this.commaSeparatedList(t,n,a,!1);if(r<0)throw M(this._thisDoc,this.lines,t,r,"'@keywords' needs comma separated list of words");return this.setKeywords(l(a,null,null)),b>80&&w("Keywords ",this.keywords),r}n=this.tok("forAll",t,r);if(n>0){r=this.commaSeparatedList(t,n,a,!0);if(r<0)throw M(this._thisDoc,this.lines,t,r,"Bad variable list after @forAll");var o=new f(a);try{while(1){var u=o.next();((0,s.ArrayIndexOf)(this._variables,u)<0||(0,s.ArrayIndexOf)(this._parentVariables,u)>=0)&&(this._variables[u]=this._context.newUniversal(u))}}catch(y){if(y!=d)throw y}return r}n=this.tok("forSome",t,r);if(n>0){r=this.commaSeparatedList(t,n,a,this.uri_ref2);if(r<0)throw M(this._thisDoc,this.lines,t,r,"Bad variable list after @forSome");o=new f(a);try{while(1){u=o.next();this._context.declareExistential(u)}}catch(y){if(y!=d)throw y}return r}n=this.tok("prefix",t,r);if(n>=0){var c=new i([]);r=this.qname(t,n,c);if(r<0)throw M(this._thisDoc,this.lines,t,n,"expected qname after @prefix");n=this.uri_ref2(t,r,c);if(n<0)throw M(this._thisDoc,this.lines,t,r,"expected <uriref> after @prefix _qname_");var h=c[1].uri;if(this._baseURI)h=g(this._baseURI,h);else p(h.indexOf(":")>=0,"With no base URI, cannot handle relative URI for NS");return p(h.indexOf(":")>=0),this._bindings[c[0][0]]=h,this.bind(c[0][0],e(h)),n}n=this.tok("base",t,r);if(n>=0){c=new i([]),r=this.uri_ref2(t,n,c);if(r<0)throw M(this._thisDoc,this.lines,t,n,"expected <uri> after @base ");h=c[0].uri;if(!this._baseURI)throw M(this._thisDoc,this.lines,t,n,"With no previous base URI, cannot use relative URI in @base  <"+h+">");h=g(this._baseURI,h);return p(h.indexOf(":")>=0),this._baseURI=h,r}return-1},L.prototype.bind=function(e,t){""==e||this._store.setPrefixForURI(e,t)},L.prototype.setKeywords=function(e){null==e?this.keywordsSet=0:(this.keywords=e,this.keywordsSet=1)},L.prototype.startDoc=function(){},L.prototype.endDoc=function(){return this._formula},L.prototype.makeStatement=function(e){e[0].add(e[2],e[1],e[3],this.source),this.statementCount+=1},L.prototype.statement=function(e,t){var r=new i([]);t=this.object(e,t,r);if(t<0)return t;var n=this.property_list(e,t,r[0]);if(n<0)throw M(this._thisDoc,this.lines,e,t,"expected propertylist");return n},L.prototype.subject=function(e,t,r){return this.item(e,t,r)},L.prototype.verb=function(e,t,a){var o=this.skipSpace(e,t);if(o<0)return o;var s=new i([]);o=this.tok("has",e,t);if(o>=0){t=this.prop(e,o,s);if(t<0)throw M(this._thisDoc,this.lines,e,o,"expected property after 'has'");return a.push(new n(["->",s[0]])),t}o=this.tok("is",e,t);if(o>=0){t=this.prop(e,o,s);if(t<0)throw M(this._thisDoc,this.lines,e,o,"expected <property> after 'is'");o=this.skipSpace(e,t);if(o<0)throw M(this._thisDoc,this.lines,e,t,"End of file found, expected property after 'is'");t=o,o=this.tok("of",e,t);if(o<0)throw M(this._thisDoc,this.lines,e,t,"expected 'of' after 'is' <prop>");return a.push(new n(["<-",s[0]])),o}o=this.tok("a",e,t);if(o>=0)return a.push(new n(["->",this._store.sym(_)])),o;if("<="==e.slice(t,t+2))return a.push(new n(["<-",this._store.sym(r+"implies")])),t+2;if("="==e.slice(t,t+1))return">"==e.slice(t+1,t+2)?(a.push(new n(["->",this._store.sym(r+"implies")])),t+2):(a.push(new n(["->",this._store.sym(x)])),t+1);if(":="==e.slice(t,t+2))return a.push(new n(["->",r+"becomes"])),t+2;o=this.prop(e,t,s);if(o>=0)return a.push(new n(["->",s[0]])),o;if(">-"==e.slice(t,t+2)||"<-"==e.slice(t,t+2))throw M(this._thisDoc,this.lines,e,o,">- ... -> syntax is obsolete.");return-1},L.prototype.prop=function(e,t,r){return this.item(e,t,r)},L.prototype.item=function(e,t,r){return this.path(e,t,r)},L.prototype.blankNode=function(e){return this._context.bnode(e,this._reason2)},L.prototype.path=function(e,t,r){var i=this.nodeOrLiteral(e,t,r);if(i<0)return i;while("!^.".indexOf(e.slice(i,i+1))>=0){var a=e.slice(i,i+1);if("."==a){var o=e.slice(i+1,i+2);if(!o||k.indexOf(o)>=0&&":?<[{(".indexOf(o)<0)break}var s=r.pop(),u=this.blankNode(this.here(i));i=this.node(e,i+1,r);if(i<0)throw M(this._thisDoc,this.lines,e,i,"EOF found in middle of path syntax");var c=r.pop();"^"==a?this.makeStatement(new n([this._context,c,u,s])):this.makeStatement(new n([this._context,c,s,u])),r.push(u)}return i},L.prototype.anonymousNode=function(e){var t=this._anonymousNodes[e];if(t)return t;t=this._store.bnode(e);return this._anonymousNodes[e]=t,t},L.prototype.node=function(e,t,r,a){"undefined"==typeof a&&(a=null);var o=a,s=this.skipSpace(e,t);if(s<0)return s;t=s;var l=e.slice(t,t+1);if("["==l){var h=this.here(t);s=this.skipSpace(e,t+1);if(s<0)throw M(this._thisDoc,this.lines,e,t,"EOF after '['");if("="==e.slice(s,s+1)){t=s+1;var p=new i([]);s=this.objectList(e,t,p);if(!(s>=0))throw M(this._thisDoc,this.lines,e,t,"objectList expected after [= ");o=p[0];if(c(p)>1){var y=new f(p);try{while(1){var g=y.next();this.makeStatement(new n([this._context,this._store.sym(x),o,g]))}}catch(I){if(I!=d)throw I}}s=this.skipSpace(e,s);if(s<0)throw M(this._thisDoc,this.lines,e,t,"EOF when objectList expected after [ = ");if(";"==e.slice(s,s+1))s=s+1}if(null==o)o=this.blankNode(h);t=this.property_list(e,s,o);if(t<0)throw M(this._thisDoc,this.lines,e,s,"property_list expected");s=this.skipSpace(e,t);if(s<0)throw M(this._thisDoc,this.lines,e,t,"EOF when ']' expected after [ <propertyList>");if("]"!=e.slice(s,s+1))throw M(this._thisDoc,this.lines,e,s,"']' expected");return r.push(o),s+1}if("{"==l){var m=e.slice(t+1,t+2);if("$"==m){t+=1;s=t+1;var b=new i([]),w=!0;while(1){t=this.skipSpace(e,s);if(t<0)throw M(this._thisDoc,this.lines,e,t,"needed '$}', found end.");if("$}"==e.slice(t,t+2)){s=t+2;break}if(w)w=!1;else{if(","!=e.slice(t,t+1))throw M(this._thisDoc,this.lines,e,t,"expected: ','");t+=1}var _=new i([]);s=this.item(e,t,_);if(s<0)throw M(this._thisDoc,this.lines,e,t,"expected item in set or '$}'");b.push(_[0])}return r.push(this._store.newSet(b,this._context)),s}s=t+1;var E=this._parentContext;this._parentContext=this._context;var T=this._anonymousNodes,O=this._parentVariables;this._parentVariables=this._variables,this._anonymousNodes=new u([]),this._variables=this._variables.slice();var S=this._reason2;if(this._reason2=v,null==o)o=this._store.formula();this._context=o;while(1){t=this.skipSpace(e,s);if(t<0)throw M(this._thisDoc,this.lines,e,t,"needed '}', found end.");if("}"==e.slice(t,t+1)){s=t+1;break}s=this.directiveOrStatement(e,t);if(s<0)throw M(this._thisDoc,this.lines,e,t,"expected statement or '}'")}return this._anonymousNodes=T,this._variables=this._parentVariables,this._parentVariables=O,this._context=this._parentContext,this._reason2=S,this._parentContext=E,r.push(o.close()),s}if("("==l){var N=this._store.list;m=e.slice(t+1,t+2);if("$"==m){N=this._store.newSet;t+=1}s=t+1,b=new i([]);while(1){t=this.skipSpace(e,s);if(t<0)throw M(this._thisDoc,this.lines,e,t,"needed ')', found end.");if(")"==e.slice(t,t+1)){s=t+1;break}_=new i([]),s=this.item(e,t,_);if(s<0)throw M(this._thisDoc,this.lines,e,t,"expected item in list or ')'");b.push(_[0])}return r.push(N(b,this._context)),s}s=this.tok("this",e,t);if(s>=0)throw M(this._thisDoc,this.lines,e,t,"Keyword 'this' was ancient N3. Now use @forSome and @forAll keywords.");s=this.tok("true",e,t);if(s>=0)return r.push(!0),s;s=this.tok("false",e,t);if(s>=0)return r.push(!1),s;if(null==o){s=this.uri_ref2(e,t,r);if(s>=0)return s}return-1},L.prototype.property_list=function(e,t,r){while(1){var a=this.skipSpace(e,t);if(a<0)throw M(this._thisDoc,this.lines,e,t,"EOF found when expected verb in property list");if(":-"!=e.slice(a,a+2)){t=a;var o=new i([]);a=this.verb(e,t,o);if(a<=0)return t;var s=new i([]);t=this.objectList(e,a,s);if(t<0)throw M(this._thisDoc,this.lines,e,a,"objectList expected");var u=new f(s);try{while(1){var c=u.next(),l=o[0],h=l[0],p=l[1];"->"==h?this.makeStatement(new n([this._context,p,r,c])):this.makeStatement(new n([this._context,p,c,r]))}}catch(g){if(g!=d)throw g}a=this.skipSpace(e,t);if(a<0)throw M(this._thisDoc,this.lines,e,a,"EOF found in list of objects");if(";"!=e.slice(t,t+1))return t;t=t+1}else{var t=a+2,y=new i([]),a=this.node(e,t,y,r);if(a<0)throw M(this._thisDoc,this.lines,e,t,"bad {} or () or [] node after :- ");var t=a}}},L.prototype.commaSeparatedList=function(e,t,r,n){var i=this.skipSpace(e,t);if(i<0)throw M(this._thisDoc,this.lines,e,i,"EOF found expecting comma sep list");if("."==e.charAt(i))return t;if(n)i=this.uri_ref2(e,i,r);else i=this.bareWord(e,i,r);if(i<0)return-1;while(1){t=this.skipSpace(e,i);if(t<0)return t;var a=e.slice(t,t+1);if(","!=a)return"."!=a?-1:t;if(n)i=this.uri_ref2(e,t+1,r);else i=this.bareWord(e,t+1,r);if(i<0)throw M(this._thisDoc,this.lines,e,i,"bad list content")}},L.prototype.objectList=function(e,t,r){t=this.object(e,t,r);if(t<0)return-1;while(1){var n=this.skipSpace(e,t);if(n<0)throw M(this._thisDoc,this.lines,e,n,"EOF found after object");if(","!=e.slice(n,n+1))return n;t=this.object(e,n+1,r);if(t<0)return t}},L.prototype.checkDot=function(e,t){var r=this.skipSpace(e,t);if(r<0)return r;if("."==e.slice(r,r+1))return r+1;if("}"==e.slice(r,r+1))return r;if("]"==e.slice(r,r+1))return r;throw M(this._thisDoc,this.lines,e,r,"expected '.' or '}' or ']' at end of statement")},L.prototype.uri_ref2=function(e,t,r){var n=new i([]),a=this.qname(e,t,n);if(a>=0){var o=n[0],u=o[0],d=o[1];if(null==u){p(0,"not used?");var f=this._baseURI+E}else{f=this._bindings[u];if(!f){if("_"==u)return r.push(this.anonymousNode(d)),a;throw M(this._thisDoc,this.lines,e,t,"Prefix "+u+" not bound.")}}var h=this._store.sym(f+d);return(0,s.ArrayIndexOf)(this._variables,h)>=0?r.push(this._variables[h]):r.push(h),a}t=this.skipSpace(e,t);if(t<0)return-1;if("?"==e.charAt(t)){var y=new i([]);a=this.variable(e,t,y);return a>0?(r.push(y[0]),a):-1}if("<"==e.charAt(t)){t=t+1;var v=t;while(t<c(e)){if(">"==e.charAt(t)){var m=e.slice(v,t);if(this._baseURI)m=g(this._baseURI,m);else p(m.indexOf(":")>=0,"With no base URI, cannot deal with relative URIs");if("#"==e.slice(t-1,t)&&"#"!=l(m,-1,null))m=m+"#";h=this._store.sym(m);return(0,s.ArrayIndexOf)(this._variables,h)>=0?r.push(this._variables[h]):r.push(h),t+1}t=t+1}throw M(this._thisDoc,this.lines,e,a,"unterminated URI reference")}if(this.keywordsSet){y=new i([]),a=this.bareWord(e,t,y);if(a<0)return-1;if((0,s.ArrayIndexOf)(this.keywords,y[0])>=0)throw M(this._thisDoc,this.lines,e,t,'Keyword "'+y[0]+'" not allowed here.');return r.push(this._store.sym(this._bindings[""]+y[0])),a}return-1},L.prototype.skipSpace=function(e,t){for(var r=" \n\r\t\f\v            ​\u2028\u2029　",n=t||0;n<e.length;n++){var i=e.charAt(n);if(r.indexOf(i)<0){if("#"!==e.charAt(n))return n;for(;;n++){if(n===e.length)return-1;if("\n"===e.charAt(n)){this.lines=this.lines+1;break}}}else"\n"===e.charAt(n)&&(this.lines=this.lines+1)}return-1},L.prototype.variable=function(e,t,r){var n=this.skipSpace(e,t);if(n<0)return-1;if("?"!=e.slice(n,n+1))return-1;n+=1,t=n;if("0123456789-".indexOf(e.charAt(n))>=0)throw M(this._thisDoc,this.lines,e,n,"Varible name can't start with '"+e.charAt(n)+"s'");while(t<c(e)&&k.indexOf(e.charAt(t))<0)t=t+1;if(null==this._parentContext)throw M(this._thisDoc,this.lines,e,n,"Can't use ?xxx syntax for variable in outermost level: "+e.slice(n-1,t));return r.push(this._store.variable(e.slice(n,t))),t},L.prototype.bareWord=function(e,t,r){var n=this.skipSpace(e,t);if(n<0)return-1;var i=e.charAt(n);if("0123456789-".indexOf(i)>=0)return-1;if(k.indexOf(i)>=0)return-1;t=n;while(t<c(e)&&k.indexOf(e.charAt(t))<0)t=t+1;return r.push(e.slice(n,t)),t},L.prototype.qname=function(e,t,r){t=this.skipSpace(e,t);if(t<0)return-1;var i=e.charAt(t);if("0123456789-+".indexOf(i)>=0)return-1;if(k.indexOf(i)<0){var a=i;t=t+1;while(t<c(e)){i=e.charAt(t);if(!(k.indexOf(i)<0))break;a=a+i,t=t+1}}else a="";if(t<c(e)&&":"==e.charAt(t)){var o=a;t=t+1,a="";while(t<c(e)){i=e.charAt(t);if(!(k.indexOf(i)<0))break;a=a+i,t=t+1}return r.push(new n([o,a])),t}return a&&this.keywordsSet&&(0,s.ArrayIndexOf)(this.keywords,a)<0?(r.push(new n(["",a])),t):-1},L.prototype.object=function(e,t,r){var n=this.subject(e,t,r);if(n>=0)return n;n=this.skipSpace(e,t);if(n<0)return-1;t=n;var i=null,a=e.charAt(t);if('"'==a||"'"==a){i=e.slice(t,t+3==a+a)?a+a+a:a;t=t+c(i);var o=this.strconst(e,t,i),s=(n=o[0],o[1]);return r.push(this._store.literal(s)),w("New string const ",s,n),n}return-1},L.prototype.nodeOrLiteral=function(e,t,r){var n=this.node(e,t,r);if(n>=0)return n;n=this.skipSpace(e,t);if(n<0)return-1;t=n;var a=e.charAt(t);if("-+0987654321".indexOf(a)>=0){A.lastIndex=0;var o=A.exec(e.slice(t));if(null!=o){var s=o[0];n=t+s.length,s.indexOf("T")>=0?r.push(this._store.literal(s,this._store.sym(I))):r.push(this._store.literal(s,this._store.sym(N)))}else{j.lastIndex=0;o=j.exec(e.slice(t));if(null==o)throw M(this._thisDoc,this.lines,e,t,"Bad number or date syntax");n=t+j.lastIndex;s=e.slice(t,n);s.indexOf("e")>=0?r.push(this._store.literal(parseFloat(s),this._store.sym(O))):e.slice(t,n).indexOf(".")>=0?r.push(this._store.literal(parseFloat(s),this._store.sym(S))):r.push(this._store.literal(parseInt(s),this._store.sym(T)))}return n}if('"'==e.charAt(t)){if('"""'==e.slice(t,t+3))var u='"""';else u='"';t=t+c(u);var l=null,d=this.strconst(e,t,u),f=(n=d[0],d[1]),h=null;if("@"==e.slice(n,n+1)){D.lastIndex=0;o=D.exec(e.slice(n+1));if(null==o)throw M(this._thisDoc,startline,e,t,"Bad language code syntax on string literal, after @");t=D.lastIndex+n+1,h=e.slice(n+1,t),n=t}if("^^"==e.slice(n,n+2)){var p=new i([]);n=this.uri_ref2(e,n+2,p),l=p[0]}return r.push(this._store.literal(f,h||l)),n}return-1},L.prototype.strconst=function(e,t,r){var i=t,a="",o=this.lines;while(i<c(e)){t=i+c(r);if(e.slice(i,t)==r)return new n([t,a]);if('"'!=e.charAt(i)){C.lastIndex=0;var s=C.exec(e.slice(i));if(!s)throw M(this._thisDoc,o,e,i,"Closing quote missing in string at ^ in "+e.slice(i-20,i)+"^"+e.slice(i,i+20));t=i+C.lastIndex-1,a=a+e.slice(i,t);var u=e.charAt(t);if('"'!=u)if("\r"!=u){if("\n"==u){if('"'==r)throw M(this._thisDoc,o,e,t,"newline found in string literal");this.lines=this.lines+1;a=a+u,i=t+1;this.previousLine=this.startOfLine,this.startOfLine=i}else if("\\"==u){i=t+1,u=e.slice(i,i+1);if(!u)throw M(this._thisDoc,o,e,t,"unterminated string literal (2)");var l=h('abfrtvn\\"',u);if(l>=0){var d='a\b\f\r\t\v\n\\"'.charAt(l);a=a+d,i=i+1}else if("u"==u){var f=this.uEscape(e,i+1,o);i=f[0],u=f[1],a=a+u}else{if("U"!=u)throw M(this._thisDoc,this.lines,e,t,"bad escape");f=this.UEscape(e,i+1,o),i=f[0],u=f[1],a=a+u}}}else var i=t+1;else var i=t}else var a=a+'"',i=i+1}throw M(this._thisDoc,this.lines,e,t,"unterminated string literal")},L.prototype.uEscape=function(e,t,r){var i=t,a=0,o=0;while(a<4){var s=e.slice(i,i+1),u=s.toLowerCase();i=i+1;if(""==u)throw M(this._thisDoc,r,e,t,"unterminated string literal(3)");var c=h("0123456789abcdef",u);if(c<0)throw M(this._thisDoc,r,e,t,"bad string literal hex escape");o=16*o+c,a=a+1}var l=String.fromCharCode(o);return new n([i,l])},L.prototype.UEscape=function(e,t,r){var i=t,a=0,o="\\U";while(a<8){var s=e.slice(i,i+1),u=s.toLowerCase();i=i+1;if(""==u)throw M(this._thisDoc,r,e,t,"unterminated string literal(3)");var c=h("0123456789abcdef",u);if(c<0)throw M(this._thisDoc,r,e,t,"bad string literal hex escape");o=o+u,a=a+1}var d=y("0x"+l(o,2,10)-0);return new n([i,d])},F.prototype.toString=function(){var e=this._str,t=this._i,r=0;if(t>60){var i="...";r=t-60}else i="";if(c(e)-t>60)var a="...";else a="";return'Line %i of <%s>: Bad syntax (%s) at ^ in:\n"%s%s^%s%s"'%new n([this.lines+1,this._uri,this._why,i,e.slice(r,t),e.slice(t,t+60),a])},P}();t.default=u},e01a:function(e,t,r){"use strict";var n=r("23e7"),i=r("83ab"),a=r("da84"),o=r("5135"),s=r("861d"),u=r("9bf2").f,c=r("e893"),l=a.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof f?new l(e):void 0===e?l():l(e);return""===e&&(d[t]=!0),t};c(f,l);var h=f.prototype=l.prototype;h.constructor=f;var p=h.toString,y="Symbol(test)"==String(l("test")),g=/^Symbol\((.*)\)[^)]+$/;u(h,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=p.call(e);if(o(d,e))return"";var r=y?t.slice(7,-1):t.replace(g,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:f})}},e1b7:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.jsonldObjectToTerm=o,t.default=c;var i=n(r("46bd")),a=r("1079");function o(e,t){return"string"===typeof t?e.rdfFactory.literal(t):Object.prototype.hasOwnProperty.call(t,"@list")?!0===e.rdfFactory.supports["COLLECTIONS"]?u(e,t["@list"]):s(e,t):Object.prototype.hasOwnProperty.call(t,"@id")?e.rdfFactory.namedNode(t["@id"]):Object.prototype.hasOwnProperty.call(t,"@language")?e.rdfFactory.literal(t["@value"],t["@language"]):Object.prototype.hasOwnProperty.call(t,"@type")?e.rdfFactory.literal(t["@value"],e.rdfFactory.namedNode(t["@type"])):Object.prototype.hasOwnProperty.call(t,"@value")?e.rdfFactory.literal(t["@value"]):e.rdfFactory.literal(t)}function s(e,t){var r=t["@id"]?e.rdfFactory.namedNode(t["@id"]):e.rdfFactory.blankNode(),n=t["@list"].map((function(t){return o(e,t)})),i=(0,a.arrayToStatements)(e.rdfFactory,r,n);return e.addAll(i),r}function u(e,t){if(!Array.isArray(t))throw new TypeError("Object must be an array");return e.rdfFactory.collection(t.map((function(t){return o(e,t)})))}function c(e,t,r,n){var a=r&&Object.prototype.hasOwnProperty.call(r,"termType")?r.value:r;return i.default.flatten(JSON.parse(e),null,{base:a}).then((function(e){return e.reduce((function(e,r){for(var n=r["@id"]?t.rdfFactory.namedNode(r["@id"]):t.rdfFactory.blankNode(),i=0,a=Object.keys(r);i<a.length;i++){var s=a[i];if("@id"!==s){var u=r[s];if(Array.isArray(u))for(var c=0;c<u.length;c++)t.addStatement(t.rdfFactory.quad(n,t.rdfFactory.namedNode(s),o(t,u[c])));else t.addStatement(t.rdfFactory.quad(n,t.rdfFactory.namedNode(s),o(t,u)))}}return t}),t)})).then(n).catch(n)}},e1cc:function(e,t,r){var n=r("d76c");function i(e,t,r,i){this.subject=e,this.predicate=t,this.object=r,this.graph=i||new n}i.prototype.equals=function(e){return!!e&&("Quad"===e.termType||!e.termType)&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)},i.prototype.termType="Quad",i.prototype.value="",e.exports=i},e2d8:function(e,t,r){(function(t){var r=200,n="__lodash_hash_undefined__",i=1/0,a="[object Function]",o="[object GeneratorFunction]",s=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,d=c||l||Function("return this")();function f(e,t){var r=e?e.length:0;return!!r&&y(e,t,0)>-1}function h(e,t,r){var n=-1,i=e?e.length:0;while(++n<i)if(r(t,e[n]))return!0;return!1}function p(e,t,r,n){var i=e.length,a=r+(n?1:-1);while(n?a--:++a<i)if(t(e[a],a,e))return a;return-1}function y(e,t,r){if(t!==t)return p(e,g,r);var n=r-1,i=e.length;while(++n<i)if(e[n]===t)return n;return-1}function g(e){return e!==e}function v(e,t){return e.has(t)}function m(e,t){return null==e?void 0:e[t]}function b(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(r){}return t}function w(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var _=Array.prototype,x=Function.prototype,E=Object.prototype,T=d["__core-js_shared__"],O=function(){var e=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),S=x.toString,N=E.hasOwnProperty,I=E.toString,R=RegExp("^"+S.call(N).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=_.splice,j=oe(d,"Map"),A=oe(d,"Set"),C=oe(Object,"create");function D(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function P(){this.__data__=C?C(null):{}}function L(e){return this.has(e)&&delete this.__data__[e]}function F(e){var t=this.__data__;if(C){var r=t[e];return r===n?void 0:r}return N.call(t,e)?t[e]:void 0}function M(e){var t=this.__data__;return C?void 0!==t[e]:N.call(t,e)}function U(e,t){var r=this.__data__;return r[e]=C&&void 0===t?n:t,this}function B(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function q(){this.__data__=[]}function V(e){var t=this.__data__,r=te(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():k.call(t,r,1),!0}function $(e){var t=this.__data__,r=te(t,e);return r<0?void 0:t[r][1]}function G(e){return te(this.__data__,e)>-1}function H(e,t){var r=this.__data__,n=te(r,e);return n<0?r.push([e,t]):r[n][1]=t,this}function z(e){var t=-1,r=e?e.length:0;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}function Q(){this.__data__={hash:new D,map:new(j||B),string:new D}}function J(e){return ae(this,e)["delete"](e)}function W(e){return ae(this,e).get(e)}function X(e){return ae(this,e).has(e)}function K(e,t){return ae(this,e).set(e,t),this}function Y(e){var t=-1,r=e?e.length:0;this.__data__=new z;while(++t<r)this.add(e[t])}function Z(e){return this.__data__.set(e,n),this}function ee(e){return this.__data__.has(e)}function te(e,t){var r=e.length;while(r--)if(de(e[r][0],t))return r;return-1}function re(e){if(!he(e)||ue(e))return!1;var t=fe(e)||b(e)?R:u;return t.test(ce(e))}function ne(e,t,n){var i=-1,a=f,o=e.length,s=!0,u=[],c=u;if(n)s=!1,a=h;else if(o>=r){var l=t?null:ie(e);if(l)return w(l);s=!1,a=v,c=new Y}else c=t?[]:u;e:while(++i<o){var d=e[i],p=t?t(d):d;if(d=n||0!==d?d:0,s&&p===p){var y=c.length;while(y--)if(c[y]===p)continue e;t&&c.push(p),u.push(d)}else a(c,p,n)||(c!==u&&c.push(p),u.push(d))}return u}D.prototype.clear=P,D.prototype["delete"]=L,D.prototype.get=F,D.prototype.has=M,D.prototype.set=U,B.prototype.clear=q,B.prototype["delete"]=V,B.prototype.get=$,B.prototype.has=G,B.prototype.set=H,z.prototype.clear=Q,z.prototype["delete"]=J,z.prototype.get=W,z.prototype.has=X,z.prototype.set=K,Y.prototype.add=Y.prototype.push=Z,Y.prototype.has=ee;var ie=A&&1/w(new A([,-0]))[1]==i?function(e){return new A(e)}:pe;function ae(e,t){var r=e.__data__;return se(t)?r["string"==typeof t?"string":"hash"]:r.map}function oe(e,t){var r=m(e,t);return re(r)?r:void 0}function se(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function ue(e){return!!O&&O in e}function ce(e){if(null!=e){try{return S.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function le(e,t){return e&&e.length?ne(e,void 0,t):[]}function de(e,t){return e===t||e!==e&&t!==t}function fe(e){var t=he(e)?I.call(e):"";return t==a||t==o}function he(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function pe(){}e.exports=le}).call(this,r("c8ba"))},e40c:function(e,t,r){"use strict";var n=r("dbce"),i=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(r("7037")),o=i(r("970b")),s=i(r("5bc3")),u=i(r("9523")),c=i(r("c947")),l=r("3897"),d=i(r("902d")),f=i(r("491a")),h=i(r("7971")),p=r("ab32"),y=n(r("4b68")),g=r("073a");function v(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=m(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function m(e,t){if(e){if("string"===typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w=function(){function e(t){if((0,o.default)(this,e),(0,u.default)(this,"store",void 0),(0,u.default)(this,"ifps",void 0),(0,u.default)(this,"fps",void 0),(0,u.default)(this,"patchControl",void 0),(0,u.default)(this,"ns",void 0),t=t||new c.default,t.updater)throw new Error("You can't have two UpdateManagers for the same store");t.fetcher||(t.fetcher=new d.default(t)),this.store=t,t.updater=this,this.ifps={},this.fps={},this.ns={},this.ns.link=(0,f.default)("http://www.w3.org/2007/ont/link#"),this.ns.http=(0,f.default)("http://www.w3.org/2007/ont/http#"),this.ns.httph=(0,f.default)("http://www.w3.org/2007/ont/httph#"),this.ns.ldp=(0,f.default)("http://www.w3.org/ns/ldp#"),this.ns.rdf=(0,f.default)("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.ns.rdfs=(0,f.default)("http://www.w3.org/2000/01/rdf-schema#"),this.ns.rdf=(0,f.default)("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),this.ns.owl=(0,f.default)("http://www.w3.org/2002/07/owl#"),this.patchControl=[]}return(0,s.default)(e,[{key:"patchControlFor",value:function(e){return this.patchControl[e.value]||(this.patchControl[e.value]=[]),this.patchControl[e.value]}},{key:"editable",value:function(e,t){if(!e)return!1;if(t||(t=this.store),e=(0,g.termValue)(e),"file:///"===e.slice(0,8))return!!t.holds(this.store.rdfFactory.namedNode(e),this.store.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.store.rdfFactory.namedNode("http://www.w3.org/2007/ont/link#MachineEditableDocument"))&&"LOCALFILE";for(var r,n,i=!1,a=t.each(void 0,this.ns.link("requestedURI"),(0,l.docpart)(e)),o=0;o<a.length;o++)if(r=a[o],void 0!==r){var s=t.any(r,this.ns.link("response"));if(void 0!==r){var u=t.anyValue(s,this.ns.httph("wac-allow"));if(u){var c,d=v(u.split(","));try{for(d.s();!(c=d.n()).done;){var f=c.value,h=f.split("=");if(h[0].includes("user")&&!h[1].includes("write")&&!h[1].includes("append"))return!1}}catch(x){d.e(x)}finally{d.f()}}var p=t.each(s,this.ns.httph("accept-patch"));if(p.length)for(var y=0;y<p.length;y++)if(n=p[y].value.trim(),n.indexOf("application/sparql-update")>=0)return"SPARQL";var m=t.each(s,this.ns.httph("ms-author-via"));if(m.length)for(var b=0;b<m.length;b++){if(n=m[b].value.trim(),n.indexOf("SPARQL")>=0)return"SPARQL";if(n.indexOf("DAV")>=0)return"DAV"}var w=t.each(s,this.ns.http("status"));if(w.length)for(var _=0;_<w.length;_++)200!==w[_]&&404!==w[_]||(i=!0)}}if(0===a.length);else if(i)return!1}},{key:"anonymize",value:function(e){return"_:"===e.toNT().substr(0,2)&&this.mentioned(e)?"?"+e.toNT().substr(2):e.toNT()}},{key:"anonymizeNT",value:function(e){return this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+" ."}},{key:"statementBnodes",value:function(e){return[e.subject,e.predicate,e.object].filter((function(e){return(0,p.isBlankNode)(e)}))}},{key:"statementArrayBnodes",value:function(e){for(var t=[],r=0;r<e.length;r++)t=t.concat(this.statementBnodes(e[r]));t.sort();for(var n=[],i=0;i<t.length;i++)0!==i&&t[i].equals(t[i-1])||n.push(t[i]);return n}},{key:"cacheIfps",value:function(){this.ifps={};for(var e=this.store.each(void 0,this.ns.rdf("type"),this.ns.owl("InverseFunctionalProperty")),t=0;t<e.length;t++)this.ifps[e[t].value]=!0;this.fps={},e=this.store.each(void 0,this.ns.rdf("type"),this.ns.owl("FunctionalProperty"));for(var r=0;r<e.length;r++)this.fps[e[r].value]=!0}},{key:"bnodeContext2",value:function(e,t,r){for(var n,i,a=this.store.statementsMatching(void 0,void 0,e,t),o=0;o<a.length;o++)if(this.fps[a[o].predicate.value]){if(n=a[o].subject,!n.isBlank)return[a[o]];if(r&&(i=this.bnodeContext2(n,t,r-1),i))return i.concat([a[o]])}a=this.store.statementsMatching(e,void 0,void 0,t);for(var s=0;s<a.length;s++)if(this.ifps[a[s].predicate.value]){if(n=a[s].object,!n.isBlank)return[a[s]];if(r&&(i=this.bnodeContext2(n,t,r-1),i))return i.concat([a[s]])}return null}},{key:"bnodeContext1",value:function(e,t){for(var r=0;r<3;r++){var n=this.bnodeContext2(e,t,r);if(null!==n)return n}return this.store.connectedStatements(e,t)}},{key:"mentioned",value:function(e){return 0!==this.store.statementsMatching(e,null,null,null).length||0!==this.store.statementsMatching(null,e).length||0!==this.store.statementsMatching(null,null,e).length}},{key:"bnodeContext",value:function(e,t){var r=[];if(e.length){this.cacheIfps();for(var n=0;n<e.length;n++){var i=e[n];this.mentioned(i)&&(r=r.concat(this.bnodeContext1(i,t)))}}return r}},{key:"statementContext",value:function(e){var t=this.statementBnodes(e);return this.bnodeContext(t,e.graph)}},{key:"contextWhere",value:function(e){var t=this;return e&&0!==e.length?"WHERE { "+e.map((function(e){return t.anonymizeNT(e)})).join("\n")+" }\n":""}},{key:"fire",value:function(e,t,r){var n=this;return Promise.resolve().then((function(){if(!e)throw new Error("No URI given for remote editing operation: "+t);var r={noMeta:!0,contentType:"application/sparql-update",body:t};return n.store.fetcher.webOperation("PATCH",e,r)})).then((function(n){if(!n.ok){var i="UpdateManager: update failed for <"+e+"> status="+n.status+", "+n.statusText+"\n   for query: "+t;throw new Error(i)}r(e,n.ok,n.responseText,n)})).catch((function(t){r(e,!1,t.message,t)}))}},{key:"update_statement",value:function(e){if(!e||e.graph){var t=this,r=this.statementContext(e);return{statement:e?[e.subject,e.predicate,e.object,e.graph]:void 0,statementNT:e?this.anonymizeNT(e):void 0,where:t.contextWhere(r),set_object:function(e,r){var n=this.where;n+="DELETE DATA { "+this.statementNT+" } ;\n",n+="INSERT DATA { "+this.anonymize(this.statement[0])+" "+this.anonymize(this.statement[1])+" "+this.anonymize(e)+"  . }\n",t.fire(this.statement[3].value,n,r)}}}}},{key:"insert_statement",value:function(e,t){var r=e instanceof Array?e[0]:e,n=this.contextWhere(this.statementContext(r));if(e instanceof Array){for(var i="",a=0;a<e.length;a++)i+=e[a]+"\n";n+="INSERT DATA { "+i+" }\n"}else n+="INSERT DATA { "+this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+"  . }\n";this.fire(r.graph.value,n,t)}},{key:"delete_statement",value:function(e,t){var r=e instanceof Array?e[0]:e,n=this.contextWhere(this.statementContext(r));if(e instanceof Array){for(var i="",a=0;a<e.length;a++)i+=e[a]+"\n";n+="DELETE DATA { "+i+" }\n"}else n+="DELETE DATA { "+this.anonymize(e.subject)+" "+this.anonymize(e.predicate)+" "+this.anonymize(e.object)+"  . }\n";this.fire(r.graph.value,n,t)}},{key:"requestDownstreamAction",value:function(e,t){var r=this.patchControlFor(e);if(r.pendingUpstream)if(r.downstreamAction){if(""+r.downstreamAction!==""+t)throw new Error("Can't wait for > 1 different downstream actions")}else r.downstreamAction=t;else t(e)}},{key:"clearUpstreamCount",value:function(e){var t=this.patchControlFor(e);t.upstreamCount=0}},{key:"getUpdatesVia",value:function(e){var t=this.store.fetcher.getHeader(e,"updates-via");return t&&t.length?t[0].trim():null}},{key:"addDownstreamChangeListener",value:function(e,t){var r=this,n=this.patchControlFor(e);n.downstreamChangeListeners||(n.downstreamChangeListeners=[]),n.downstreamChangeListeners.push(t),this.setRefreshHandler(e,(function(e){r.reloadAndSync(e)}))}},{key:"reloadAndSync",value:function(e){var t=this.patchControlFor(e),r=this;if(t.reloading)t.outOfDate=!0;else{t.reloading=!0;var n=1e3,i=function i(){r.reload(r.store,e,(function(e,r,a){if(e){if(t.downstreamChangeListeners)for(var o=0;o<t.downstreamChangeListeners.length;o++)t.downstreamChangeListeners[o]();t.reloading=!1,t.outOfDate&&(t.outOfDate=!1,i())}else t.reloading=!1,0===a.status&&(t.reloading=!0,n*=2,setTimeout(i,n))}))};i()}}},{key:"setRefreshHandler",value:function(e,t){var r=this.getUpdatesVia(e),n=t,i=this,a=this,o=1500,s=0;if(!r)return!1;r=(0,l.join)(r,e.value);var u=r.replace(/^http:/,"ws:").replace(/^https:/,"wss:"),c=function t(){var r;if("undefined"!==typeof WebSocket)r=new WebSocket(u);else{if("undefined"===typeof window||!window.WebSocket)return;r=window.WebSocket(u)}r.onopen=function(){o=1500,this.send("sub "+e.value),s&&a.requestDownstreamAction(e,n)};var c=i.patchControlFor(e);c.upstreamCount=0,r.onerror=function(e){},r.onclose=function(e){o*=2,s+=1,setTimeout((function(){t()}),o)},r.onmessage=function(t){if(t.data&&"pub"===t.data.slice(0,3)){if("upstreamCount"in c&&(c.upstreamCount-=1,c.upstreamCount>=0))return;c.upstreamCount=0,i.requestDownstreamAction(e,n)}}};return c(),!0}},{key:"updateMany",value:function(e,t){var r=e.concat(t).map((function(e){return e.why})),n=Array.from(new Set(r)),i=this,a=n.map((function(r){return i.update(e.filter((function(e){return e.why.equals(r)})),t.filter((function(e){return e.why.equals(r)})))}));return console.log(" @@@@@@@     updateMany to: ".concat(a.length," ")),Promise.all(a)}},{key:"update",value:function(e,t,r,n){var i=this;if(!r){var o=this;return new Promise((function(r,n){o.update(e,t,(function(e,t,i){t?r():n(new Error(i))}))}))}try{var s=this.store,u=e?(0,p.isStore)(e)?e.statements:e instanceof Array?e:[e]:[],c=t?(0,p.isStore)(t)?t.statements:t instanceof Array?t:[t]:[];if(!(u instanceof Array))throw new Error("Type Error "+(0,a.default)(u)+": "+u);if(!(c instanceof Array))throw new Error("Type Error "+(0,a.default)(c)+": "+c);if(0===u.length&&0===c.length)return r(null,!0);var l=u.length?u[0].graph:c[0].graph;if(!l){var d="Error patching: statement does not specify which document to patch:"+u[0]+", "+c[0];throw new Error(d)}var f=this.patchControlFor(l),h=Date.now(),g=["subject","predicate","object","why"],v=["insert","delete"],m={delete:u,insert:c};v.map((function(e){m[e].map((function(e){if(!l.equals(e.graph))throw new Error("update: destination "+l+" inconsistent with delete quad "+e.graph);g.map((function(t){if("undefined"===typeof e[t])throw new Error("update: undefined "+t+" of statement.")}))}))}));var b=this.editable(l.value,s);if(!1===b)throw new Error("Update: Can't make changes in uneditable "+l);if(void 0===b){if(n)throw new Error("Update: Loaded "+l+"but stil can't figure out what editing protcol it supports.");return void this.store.fetcher.load(l).then((function(n){i.update(e,t,r,!0)}),(function(n){if(404!==n.response.status)throw new Error("Update: Can't get updatability status ".concat(l," before patching: ").concat(n));i.update(e,t,r,!0)}))}if(b.indexOf("SPARQL")>=0){var w=[];u.length&&(w=this.statementArrayBnodes(u)),c.length&&(w=w.concat(this.statementArrayBnodes(c)));var _=this.bnodeContext(w,l),x=this.contextWhere(_),E="";if(x.length){if(u.length){E+="DELETE { ";for(var T=0;T<u.length;T++)E+=this.anonymizeNT(u[T])+"\n";E+=" }\n"}if(c.length){E+="INSERT { ";for(var O=0;O<c.length;O++)E+=this.anonymizeNT(c[O])+"\n";E+=" }\n"}E+=x}else{if(u.length){E+="DELETE DATA { ";for(var S=0;S<u.length;S++)E+=this.anonymizeNT(u[S])+"\n";E+=" } \n"}if(c.length){u.length&&(E+=" ; "),E+="INSERT DATA { ";for(var N=0;N<c.length;N++)E+=this.anonymizeNT(c[N])+"\n";E+=" }\n"}}f.pendingUpstream=f.pendingUpstream?f.pendingUpstream+1:1,"upstreamCount"in f&&(f.upstreamCount+=1),this.fire(l.value,E,(function(e,t,n,i){if(i.elapsedTimeMs=Date.now()-h,console.log("    UpdateManager: Return "+(t?"success ":"FAILURE ")+i.status+" elapsed "+i.elapsedTimeMs+"ms"),t){try{s.remove(u)}catch(d){t=!1,n="Remote Ok BUT error deleting "+u.length+" from store!!! "+d}for(var a=0;a<c.length;a++)s.add(c[a].subject,c[a].predicate,c[a].object,l)}if(r(e,t,n,i),f.pendingUpstream-=1,0===f.pendingUpstream&&f.downstreamAction){var o=f.downstreamAction;delete f.downstreamAction,o(l)}}))}else if(b.indexOf("DAV")>=0)this.updateDav(l,u,c,r);else{if(!(b.indexOf("LOCALFILE")>=0))throw new Error("Unhandled edit method: '"+b+"' for "+l);try{this.updateLocalFile(l,u,c,r)}catch(I){r(l.value,!1,"Exception trying to write back file <"+l.value+">\n")}}}catch(I){r(void 0,!1,"Exception in update: "+I+"\n"+y.stackString(I))}}},{key:"updateDav",value:function(e,t,r,n){var i=this.store,a=i.any(e,this.ns.link("request"));if(!a)throw new Error("No record of our HTTP GET request for document: "+e);var o=i.any(a,this.ns.link("response"));if(!o)return null;for(var s=i.the(o,this.ns.httph("content-type")).value,u=i.statementsMatching(void 0,void 0,void 0,e).slice(),c=0;c<t.length;c++)y.RDFArrayRemove(u,t[c]);for(var d=0;d<r.length;d++)u.push(r[d]);var f,h=this.serialize(e.value,u,s),p=i.the(o,this.ns.httph("content-location"));p&&(f=(0,l.join)(p.value,f));var g={contentType:s,noMeta:!0,body:h};return i.fetcher.webOperation("PUT",f,g).then((function(a){if(!a.ok)throw new Error(a.error);for(var o=0;o<t.length;o++)i.remove(t[o]);for(var s=0;s<r.length;s++)i.add(r[s].subject,r[s].predicate,r[s].object,e);n(e.value,a.ok,a.responseText,a)})).catch((function(t){n(e.value,!1,t.message,t)}))}},{key:"updateLocalFile",value:function(e,t,r,n){for(var i=this.store,a=i.statementsMatching(void 0,void 0,void 0,e).slice(),o=0;o<t.length;o++)y.RDFArrayRemove(a,t[o]);for(var s=0;s<r.length;s++)a.push(r[s]);var u=e.value.lastIndexOf(".");if(u<1)throw new Error("Rewriting file: No filename extension: "+e.value);var c=e.value.slice(u+1),l=d.default.CONTENT_TYPE_BY_EXT[c];if(!l)throw new Error("File extension ."+c+" not supported for data write");var f=this.serialize(e.value,a,l),h=e.value.slice(7),p=Components.classes["@mozilla.org/file/local;1"].createInstance(Components.interfaces.nsILocalFile);if(p.initWithPath(h),!p.exists())throw new Error("Rewriting file <"+e.value+"> but it does not exist!");var g=Components.classes["@mozilla.org/network/file-output-stream;1"].createInstance(Components.interfaces.nsIFileOutputStream);g.init(p,42,parseInt("0666",8),0),g.write(f,f.length),g.close();for(var v=0;v<t.length;v++)i.remove(t[v]);for(var m=0;m<r.length;m++)i.add(r[m].subject,r[m].predicate,r[m].object,e);n(e.value,!0,"")}},{key:"serialize",value:function(e,t,r){var n,i=this.store;if("string"===typeof t)return t;var a=(0,h.default)(i);switch(a.suggestNamespaces(i.namespaces),a.setBase(e),r){case"text/xml":case"application/rdf+xml":n=a.statementsToXML(t);break;case"text/n3":case"text/turtle":case"application/x-turtle":case"application/n3":n=a.statementsToN3(t);break;default:throw new Error("Content-type "+r+" not supported for data serialization")}return n}},{key:"put",value:function(e,t,r,n){var i,a=this,o=this.store;return Promise.resolve().then((function(){return i=a.serialize(e.value,t,r),o.fetcher.webOperation("PUT",e.value,{contentType:r,body:i})})).then((function(r){if(!r.ok)return n(e.value,r.ok,r.error,r);delete o.fetcher.nonexistent[e.value],delete o.fetcher.requested[e.value],"string"!==typeof t&&t.map((function(e){o.addStatement(e)})),n(e.value,r.ok,"",r)})).catch((function(t){n(e.value,!1,t.message)}))}},{key:"reload",value:function(e,t,r){var n=Date.now(),i={force:!0,noMeta:!0,clearPreviousData:!0};e.fetcher.nowOrWhenFetched(t.value,i,(function(e,i,a){if(e)if(a.onErrorWasCalled||200!==a.status)r(!1,"Non-HTTP error reloading data: "+i,a);else{var o=Date.now()-n;t.reloadTimeTotal||(t.reloadTimeTotal=0),t.reloadTimeCount||(t.reloadTimeCount=0),t.reloadTimeTotal+=o,t.reloadTimeCount+=1,r(!0)}else r(!1,"Error reloading data: "+i,a)}))}}]),e}();t.default=w},e439:function(e,t,r){var n=r("23e7"),i=r("d039"),a=r("fc6a"),o=r("06cf").f,s=r("83ab"),u=i((function(){o(1)})),c=!s||u;n({target:"Object",stat:!0,forced:c,sham:!s},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},e43f:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("bd36"))},e538:function(e,t,r){var n=r("b622");t.f=n},e6e5:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r("4f5c"),t),i(r("56af"),t),i(r("fb42"),t),i(r("0bc7"),t),i(r("21ee"),t),i(r("424d"),t),i(r("5bc9"),t)},e6ed:function(e,t,r){"use strict";const{isKeyword:n}=r("d1e70"),i=r("c92f"),a=r("68fa"),o=r("89ae"),s=r("ddd7"),u=r("5950"),{createNodeMap:c,mergeNodeMapGraphs:l}=r("796c"),d={};function f(e){const t={};for(const r in e)void 0!==e[r]&&(t["@"+r]=[e[r]]);return[t]}function h(e,t,r){for(let n=r.length-1;n>=0;--n){const i=r[n];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function p(e,t,r){const n="@"+r;let i=n in e?e[n][0]:t[r];if("embed"===r)if(!0===i)i="@once";else if(!1===i)i="@never";else if("@always"!==i&&"@never"!==i&&"@link"!==i&&"@first"!==i&&"@last"!==i&&"@once"!==i)throw new u("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return i}function y(e){if(!a.isArray(e)||1!==e.length||!a.isObject(e[0]))throw new u("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0])for(const t of o.asArray(e[0]["@id"]))if(!a.isObject(t)&&!s.isAbsolute(t)||a.isString(t)&&0===t.indexOf("_:"))throw new u("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e});if("@type"in e[0])for(const t of o.asArray(e[0]["@type"]))if(!a.isObject(t)&&!s.isAbsolute(t)||a.isString(t)&&0===t.indexOf("_:"))throw new u("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}function g(e,t,r,n){const i={};for(const a of t){const t=e.graphMap[e.graph][a];v(e,t,r,n)&&(i[a]=t)}return i}function v(e,t,r,s){let u=!0,c=!1;for(const l in r){let d=!1;const f=o.getValues(t,l),h=0===o.getValues(r,l).length;if("@id"===l){if(a.isEmptyObject(r["@id"][0]||{})?d=!0:r["@id"].length>=0&&(d=r["@id"].includes(f[0])),!s.requireAll)return d}else if("@type"===l){if(u=!1,h){if(f.length>0)return!1;d=!0}else if(1===r["@type"].length&&a.isEmptyObject(r["@type"][0]))d=f.length>0;else for(const e of r["@type"])d=!(!a.isObject(e)||!("@default"in e))||(d||f.some(t=>t===e));if(!s.requireAll)return d}else{if(n(l))continue;{const t=o.getValues(r,l)[0];let n=!1;if(t&&(y([t]),n="@default"in t),u=!1,0===f.length&&n)continue;if(f.length>0&&h)return!1;if(void 0===t){if(f.length>0)return!1;d=!0}else if(i.isList(t)){const r=t["@list"][0];if(i.isList(f[0])){const t=f[0]["@list"];i.isValue(r)?d=t.some(e=>x(r,e)):(i.isSubject(r)||i.isSubjectReference(r))&&(d=t.some(t=>_(e,r,t,s)))}}else d=i.isValue(t)?f.some(e=>x(t,e)):i.isSubjectReference(t)?f.some(r=>_(e,t,r,s)):!!a.isObject(t)&&f.length>0}}if(!d&&s.requireAll)return!1;c=c||d}return u||c}function m(e,t){const r=e.uniqueEmbeds[e.graph],n=r[t],i=n.parent,s=n.property,u={"@id":t};if(a.isArray(i)){for(let a=0;a<i.length;++a)if(o.compareValues(i[a],u)){i[a]=u;break}}else{const e=a.isArray(i[s]);o.removeValue(i,s,u,{propertyIsArray:e}),o.addValue(i,s,u,{propertyIsArray:e})}const c=e=>{const t=Object.keys(r);for(const n of t)n in r&&a.isObject(r[n].parent)&&r[n].parent["@id"]===e&&(delete r[n],c(n))};c(t)}
/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function b(e,t){if(a.isArray(e))return e.map(e=>b(e,t));if(a.isObject(e)){
// remove @preserve
if("@preserve"in e)return e["@preserve"][0];if(i.isValue(e))return e;if(i.isList(e))return e["@list"]=b(e["@list"],t),e;if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(-1!==n)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e)"@id"===r&&t.bnodesToClear.includes(e[r])?delete e["@id"]:e[r]=b(e[r],t)}return e}function w(e,t,r){a.isObject(e)?o.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function _(e,t,r,n){if(!("@id"in r))return!1;const i=e.subjects[r["@id"]];return i&&v(e,i,t,n)}function x(e,t){const r=t["@value"],n=t["@type"],i=t["@language"],o=e["@value"]?a.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?a.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],u=e["@language"]?a.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===o.length&&0===s.length&&0===u.length||!(!o.includes(r)&&!a.isEmptyObject(o[0]))&&(!!(!n&&0===s.length||s.includes(n)||n&&a.isEmptyObject(s[0]))&&!!(!i&&0===u.length||u.includes(i)||i&&a.isEmptyObject(u[0])))}e.exports=d,d.frameMergedOrDefault=(e,t,r)=>{const n={options:r,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new o.IdentifierIssuer("_:b");c(e,n.graphMap,"@default",i),r.merged&&(n.graphMap["@merged"]=l(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];const a=[];return d.frame(n,Object.keys(n.subjects).sort(),t,a),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter(e=>1===n.bnodeMap[e].length)),
// remove @preserve from results
r.link={},b(a,r)},d.frame=(e,t,r,s,c=null)=>{y(r),r=r[0];const l=e.options,v={embed:p(r,l,"embed"),explicit:p(r,l,"explicit"),requireAll:p(r,l,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const b=e.link[e.graph],_=g(e,t,r,v),E=Object.keys(_).sort();for(const y of E){const g=_[y];if(null===c?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===v.embed&&y in b){w(s,c,b[y]);continue}const E={"@id":y};if(0===y.indexOf("_:")&&o.addValue(e.bnodeMap,y,E,{propertyIsArray:!0}),b[y]=E,("@first"===v.embed||"@last"===v.embed)&&e.is11)throw new u("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:r});if(e.embedded||!e.uniqueEmbeds[e.graph].hasOwnProperty(y))if(!e.embedded||"@never"!==v.embed&&!h(g,e.graph,e.subjectStack))if(!e.embedded||"@first"!=v.embed&&"@once"!=v.embed||!e.uniqueEmbeds[e.graph].hasOwnProperty(y)){if("@last"===v.embed&&y in e.uniqueEmbeds[e.graph]&&m(e,y),e.uniqueEmbeds[e.graph][y]={parent:s,property:c},e.subjectStack.push({subject:g,graph:e.graph}),y in e.graphMap){let t=!1,n=null;"@graph"in r?(n=r["@graph"][0],t=!("@merged"===y||"@default"===y),a.isObject(n)||(n={})):(t="@merged"!==e.graph,n={}),t&&d.frame({...e,graph:y,embedded:!1},Object.keys(e.graphMap[y]).sort(),[n],E,"@graph")}"@included"in r&&d.frame({...e,embedded:!1},t,r["@included"],E,"@included");for(const t of Object.keys(g).sort())if(n(t)){if(E[t]=o.clone(g[t]),"@type"===t)for(const r of g["@type"])0===r.indexOf("_:")&&o.addValue(e.bnodeMap,r,E,{propertyIsArray:!0})}else if(!v.explicit||t in r)for(const n of g[t]){const a=t in r?r[t]:f(v);if(i.isList(n)){const a=r[t]&&r[t][0]&&r[t][0]["@list"]?r[t][0]["@list"]:f(v),s={"@list":[]};w(E,t,s);const u=n["@list"];for(const t of u)i.isSubjectReference(t)?d.frame({...e,embedded:!0},[t["@id"]],a,s,"@list"):w(s,"@list",o.clone(t))}else i.isSubjectReference(n)?d.frame({...e,embedded:!0},[n["@id"]],a,E,t):x(a[0],n)&&w(E,t,o.clone(n))}for(const e of Object.keys(r).sort()){if("@type"===e){if(!a.isObject(r[e][0])||!("@default"in r[e][0]))continue}else if(n(e))continue;const t=r[e][0]||{},i=p(t,l,"omitDefault");if(!i&&!(e in E)){let r="@null";"@default"in t&&(r=o.clone(t["@default"])),a.isArray(r)||(r=[r]),E[e]=[{"@preserve":r}]}}for(const t of Object.keys(r["@reverse"]||{}).sort()){const n=r["@reverse"][t];for(const r of Object.keys(e.subjects)){const i=o.getValues(e.subjects[r],t);i.some(e=>e["@id"]===y)&&(E["@reverse"]=E["@reverse"]||{},o.addValue(E["@reverse"],t,[],{propertyIsArray:!0}),d.frame({...e,embedded:!0},[r],n,E["@reverse"][t],c))}}w(s,c,E),e.subjectStack.pop()}else w(s,c,E);else w(s,c,E)}},d.cleanupNull=(e,t)=>{if(a.isArray(e)){const r=e.map(e=>d.cleanupNull(e,t));return r.filter(e=>e)}if("@null"===e)return null;if(a.isObject(e)){if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const n=t.link[r].indexOf(e);if(-1!==n)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(const r in e)e[r]=d.cleanupNull(e[r],t)}return e}},e772:function(e,t,r){e.exports=r("faa1").EventEmitter},e88a:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("9b92");class i{constructor(e,t){this._paths=e,this._source=t}supports(e){return"string"===typeof e}resolve(e,{settings:t}){return this._createSubjectPath((0,n.namedNode)(e),t)}_createSubjectPath(e,{createQueryEngine:t}){const r=this._source||Promise.resolve(e).catch(()=>null),n=t(r);return this._paths.create({queryEngine:n},{subject:e})}}t.default=i},e8b5:function(e,t,r){var n=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},ed6d:function(e,t,r){var n=r("4a4b");function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}e.exports=i,e.exports["default"]=e.exports,e.exports.__esModule=!0},ef12:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("2c03"),i=r("9659");class a{static flatten(e){return Array.prototype.concat(...e).filter(e=>e)}static inScopeVariables(e){const t=[];function r(e){t.find(t=>e.value===t.value)||t.push(e)}function i(e){"Variable"===e.subject.termType&&r(e.subject),"Variable"===e.predicate.termType&&r(e.predicate),"Variable"===e.object.termType&&r(e.object),"Variable"===e.graph.termType&&r(e.graph),"Quad"===e.subject.termType&&i(e.subject),"Quad"===e.predicate.termType&&i(e.predicate),"Quad"===e.object.termType&&i(e.object),"Quad"===e.graph.termType&&i(e.graph)}return a.recurseOperation(e,{[n.types.EXPRESSION]:e=>{let t=e;if("aggregate"===t.expressionType&&t.variable){let e=t;r(e.variable)}return!0},[n.types.EXTEND]:e=>{let t=e;return r(t.variable),!0},[n.types.GRAPH]:e=>{let t=e;return"Variable"===t.name.termType&&r(t.name),!0},[n.types.GROUP]:e=>{let t=e;return t.variables.forEach(r),!0},[n.types.PATH]:e=>{let t=e;return"Variable"===t.subject.termType&&r(t.subject),"Variable"===t.object.termType&&r(t.object),"Variable"===t.graph.termType&&r(t.graph),"Quad"===t.subject.termType&&i(t.subject),"Quad"===t.object.termType&&i(t.object),"Quad"===t.graph.termType&&i(t.graph),!0},[n.types.PATTERN]:e=>{let t=e;return i(t),!0},[n.types.PROJECT]:e=>{let t=e;return t.variables.forEach(r),!1},[n.types.SERVICE]:e=>{let t=e;return"Variable"===t.name.termType&&r(t.name),!0},[n.types.VALUES]:e=>{let t=e;return t.variables.forEach(r),!0}}),t}static recurseOperation(e,t){let r=e,i=!0;if(t[e.type]&&(i=t[e.type](e)),!i)return;let o=e=>a.recurseOperation(e,t);switch(r.type){case n.types.ALT:const e=r;o(e.left),o(e.right);break;case n.types.ASK:const t=r;o(t.input);break;case n.types.BGP:const i=r;i.patterns.forEach(o);break;case n.types.CONSTRUCT:const a=r;o(a.input),a.template.map(o);break;case n.types.DESCRIBE:const s=r;o(s.input);break;case n.types.DISTINCT:const u=r;o(u.input);break;case n.types.EXPRESSION:const c=r;if(c.expressionType===n.expressionTypes.EXISTENCE){const e=c;o(e.input)}break;case n.types.EXTEND:const l=r;o(l.input),o(l.expression);break;case n.types.FILTER:const d=r;o(d.input),o(d.expression);break;case n.types.FROM:const f=r;o(f.input);break;case n.types.GRAPH:const h=r;o(h.input);break;case n.types.GROUP:const p=r;o(p.input),p.aggregates.forEach(o);break;case n.types.INV:const y=r;o(y.path);break;case n.types.JOIN:const g=r;o(g.left),o(g.right);break;case n.types.LEFT_JOIN:const v=r;o(v.left),o(v.right),v.expression&&o(v.expression);break;case n.types.LINK:break;case n.types.MINUS:const m=r;o(m.left),o(m.right);break;case n.types.NPS:break;case n.types.ONE_OR_MORE_PATH:const b=r;o(b.path);break;case n.types.ORDER_BY:const w=r;o(w.input),w.expressions.forEach(o);break;case n.types.PATH:const _=r;o(_.predicate);break;case n.types.PATTERN:break;case n.types.PROJECT:const x=r;o(x.input);break;case n.types.REDUCED:const E=r;o(E.input);break;case n.types.SEQ:const T=r;o(T.left),o(T.right);break;case n.types.SERVICE:const O=r;o(O.input);break;case n.types.SLICE:const S=r;o(S.input);break;case n.types.UNION:const N=r;o(N.left),o(N.right);break;case n.types.VALUES:break;case n.types.ZERO_OR_MORE_PATH:const I=r;o(I.path);break;case n.types.ZERO_OR_ONE_PATH:const R=r;o(R.path);break;case n.types.COMPOSITE_UPDATE:const k=r;k.updates.forEach(e=>o(e));break;case n.types.DELETE_INSERT:const j=r;j.delete&&j.delete.forEach(e=>o(e)),j.insert&&j.insert.forEach(e=>o(e)),j.where&&o(j.where);break;case n.types.LOAD:break;case n.types.CLEAR:break;case n.types.CREATE:break;case n.types.DROP:break;case n.types.ADD:break;case n.types.MOVE:break;case n.types.COPY:break;default:throw new Error("Unknown Operation type "+r.type)}}static mapOperation(e,t,r){let o=e,s=!0;if(r=r||new i.default,t[e.type]&&({result:o,recurse:s}=t[e.type](e,r)),!s)return o;let u=e=>a.mapOperation(e,t,r);switch(o.type){case n.types.ALT:const e=o;return r.createAlt(u(e.left),u(e.right));case n.types.ASK:const i=o;return r.createAsk(u(i.input));case n.types.BGP:const s=o;return r.createBgp(s.patterns.map(u));case n.types.CONSTRUCT:const c=o;return r.createConstruct(u(c.input),c.template.map(u));case n.types.DESCRIBE:const l=o;return r.createDescribe(u(l.input),l.terms);case n.types.DISTINCT:const d=o;return r.createDistinct(u(d.input));case n.types.EXPRESSION:const f=o;return a.mapExpression(f,t,r);case n.types.EXTEND:const h=o;return r.createExtend(u(h.input),h.variable,u(h.expression));case n.types.FILTER:const p=o;return r.createFilter(u(p.input),u(p.expression));case n.types.FROM:const y=o;return r.createFrom(u(y.input),[].concat(y.default),[].concat(y.named));case n.types.GRAPH:const g=o;return r.createGraph(u(g.input),g.name);case n.types.GROUP:const v=o;return r.createGroup(u(v.input),[].concat(v.variables),v.aggregates.map(u));case n.types.INV:const m=o;return r.createInv(u(m.path));case n.types.JOIN:const b=o;return r.createJoin(u(b.left),u(b.right));case n.types.LEFT_JOIN:const w=o;return r.createLeftJoin(u(w.left),u(w.right),w.expression?u(w.expression):void 0);case n.types.LINK:const _=o;return r.createLink(_.iri);case n.types.MINUS:const x=o;return r.createMinus(u(x.left),u(x.right));case n.types.NPS:const E=o;return r.createNps([].concat(E.iris));case n.types.ONE_OR_MORE_PATH:const T=o;return r.createOneOrMorePath(u(T.path));case n.types.ORDER_BY:const O=o;return r.createOrderBy(u(O.input),O.expressions.map(u));case n.types.PATH:const S=o;return r.createPath(S.subject,u(S.predicate),S.object,S.graph);case n.types.PATTERN:const N=o;return r.createPattern(N.subject,N.predicate,N.object,N.graph);case n.types.PROJECT:const I=o;return r.createProject(u(I.input),[].concat(I.variables));case n.types.REDUCED:const R=o;return r.createReduced(u(R.input));case n.types.SEQ:const k=o;return r.createSeq(u(k.left),u(k.right));case n.types.SERVICE:const j=o;return r.createService(u(j.input),j.name,j.silent);case n.types.SLICE:const A=o;return r.createSlice(u(A.input),A.start,A.length);case n.types.UNION:const C=o;return r.createUnion(u(C.left),u(C.right));case n.types.VALUES:const D=o;return r.createValues([].concat(D.variables),D.bindings.map(e=>Object.assign({},e)));case n.types.ZERO_OR_MORE_PATH:const P=o;return r.createZeroOrMorePath(u(P.path));case n.types.ZERO_OR_ONE_PATH:const L=o;return r.createZeroOrOnePath(u(L.path));case n.types.COMPOSITE_UPDATE:const F=o;return r.createCompositeUpdate(F.updates.map(u));case n.types.DELETE_INSERT:const M=o;return r.createDeleteInsert(M.delete?M.delete.map(u):void 0,M.insert?M.insert.map(u):void 0,M.where?u(M.where):void 0);case n.types.LOAD:const U=o;return r.createLoad(U.source,U.destination,U.silent);case n.types.CLEAR:const B=o;return r.createClear(B.source,B.silent);case n.types.CREATE:const q=o;return r.createCreate(q.source,q.silent);case n.types.DROP:const V=o;return r.createDrop(V.source,V.silent);case n.types.ADD:const $=o;return r.createAdd($.source,$.destination);case n.types.MOVE:const G=o;return r.createMove(G.source,G.destination);case n.types.COPY:const H=o;return r.createCopy(H.source,H.destination);default:throw new Error("Unknown Operation type "+o)}}static mapExpression(e,t,r){let i=e=>a.mapOperation(e,t,r);switch(e.expressionType){case n.expressionTypes.AGGREGATE:if(e.variable){const t=e;return r.createBoundAggregate(t.variable,t.aggregator,i(t.expression),t.distinct,t.separator)}const t=e;return r.createAggregateExpression(t.aggregator,i(t.expression),t.distinct,t.separator);case n.expressionTypes.EXISTENCE:const a=e;return r.createExistenceExpression(a.not,i(a.input));case n.expressionTypes.NAMED:const o=e;return r.createNamedExpression(o.name,o.args.map(i));case n.expressionTypes.OPERATOR:const s=e;return r.createOperatorExpression(s.operator,s.args.map(i));case n.expressionTypes.TERM:const u=e;return r.createTermExpression(u.term);case n.expressionTypes.WILDCARD:return r.createWildcardExpression();default:throw new Error("Unknown Expression type "+e.expressionType)}}static createUniqueVariable(e,t,r){let n=0,i=e;while(t[i])i=e+n++;return r.variable(i)}static isTerm(e){return void 0!==e.termType&&"Quad"!==e.termType&&"Wildcard"!==e.termType}static isWildcard(e){return"Wildcard"===e.termType}}t.default=a},ef3c:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("600b"),i=r("9b92"),a=o(r("9c67"));function o(e){return e&&e.__esModule?e:{default:e}}const{as:s}=a.default["@context"];class u{constructor({activitiesPath:e="/public/activities"}={}){this.requireUser=!0,this.activitiesPath=e}handle(e,t){const r=this,{root:a}=t,{settings:{queryEngine:o}}=e;return(e="".concat(s,"Like"))=>(0,n.toIterablePromise)((async function*(){let n;try{n=await a.user}catch(d){if(r.requireUser)throw d;return}const s=await a.user.pim$storage,u=new URL(r.activitiesPath,s||n).href,c=[],l=(0,i.namedNode)(n);e=(0,i.namedNode)(e);for await(const i of t)if("NamedNode"===i.termType){const t={actor:l,type:e,object:i};for await(const e of r.createResults(t,u,o))c.push(e)}for(const e of await r.processResults(c,u,o))yield a[e.value]}))}async processResults(e){return e}}t.default=u},f036:function(e,t,r){(function(e,n){var i=function(){var e=function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r},t=[6,12,15,28,41,50,55,107,117,120,122,123,132,133,138,320,321,322,323,324],n=[2,208],i=[107,117,120,122,123,132,133,138,320,321,322,323,324],a=[1,20],o=[1,29],s=[6,90],u=[45,46,58],c=[45,58],l=[1,58],d=[1,60],f=[1,56],h=[1,59],p=[1,65],y=[1,66],g=[26,34,35],v=[13,16,310],m=[119,141,318,325],b=[13,16,119,141,310],w=[1,88],_=[1,92],x=[1,94],E=[119,141,318,319,325],T=[13,16,119,141,310,319],O=[1,100],S=[2,250],N=[1,99],I=[13,16,34,35,87,93,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310],R=[6,45,46,58,68,75,78,86,88,90],k=[6,13,16,34,45,46,58,68,75,78,86,88,90,310],j=[6,13,16,26,34,35,37,38,45,46,48,58,68,75,78,86,87,88,90,93,100,116,119,132,133,135,140,167,168,170,173,174,191,195,217,222,224,225,229,233,243,244,248,252,256,271,276,293,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326,328,329,331,332,333,334,335,336,337,338],A=[34,35,45,46,58],C=[13,16,34,35,87,273,274,275,277,279,280,282,283,286,288,297,298,299,300,301,302,303,304,305,306,307,308,309,310,338,339,340,341,342,343],D=[2,451],P=[1,123],L=[1,117],F=[1,124],M=[1,125],U=[6,13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326],B=[2,309],q=[1,142],V=[1,140],$=[6,191],G=[2,326],H=[2,314],z=[45,135],Q=[6,48,78,86,88,90],J=[2,254],W=[1,156],X=[1,158],K=[6,48,75,78,86,88,90],Y=[2,252],Z=[1,164],ee=[1,176],te=[1,174],re=[1,184],ne=[1,182],ie=[1,175],ae=[1,180],oe=[1,181],se=[1,185],ue=[1,186],ce=[1,189],le=[1,190],de=[1,191],fe=[1,192],he=[1,193],pe=[1,194],ye=[1,195],ge=[1,196],ve=[1,197],me=[1,198],be=[1,199],we=[6,68,75,78,86,88,90],_e=[37,38,191,248,276],xe=[37,38,191,248,252,276],Ee=[37,38,191,248,252,256,271,276,293,304,305,306,307,308,309,332,333,334,335,336,337,338],Te=[26,37,38,191,248,252,256,271,276,293,304,305,306,307,308,309,329,332,333,334,335,336,337,338],Oe=[1,229],Se=[1,230],Ne=[1,232],Ie=[1,233],Re=[1,234],ke=[1,235],je=[1,237],Ae=[1,238],Ce=[2,458],De=[1,240],Pe=[1,241],Le=[1,242],Fe=[1,248],Me=[1,243],Ue=[1,244],Be=[1,245],qe=[1,246],Ve=[1,247],$e=[13,16,48,87,100,229,297,298,299,300,301,302,303,304,305,306,307,308,309,310],Ge=[48,93],He=[34,38],ze=[6,116,191],Qe=[48,119],Je=[6,48,86,88,90],We=[2,338],Xe=[2,330],Ke=[1,293],Ye=[1,295],Ze=[48,119,326],et=[13,16,34,195,310],tt=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,195,217,222,224,225,229,233,243,244,276,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326],rt=[13,16,26,34,35,37,38,46,48,87,90,93,100,119,167,168,170,173,174,191,195,217,222,224,225,229,233,243,244,248,252,256,271,276,293,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326,329,332,333,334,335,336,337,338],nt=[13,16,26,34,35,37,38,46,48,87,90,93,100,119,167,168,170,173,174,191,195,217,222,224,225,229,233,243,244,248,252,256,271,276,293,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326,329,332,333,334,335,336,337,338],it=[13,16,34,35,87,217,271,273,274,275,277,279,280,282,283,286,288,297,298,299,300,301,302,303,304,305,306,307,308,309,310,332,338,339,340,341,342,343],at=[1,329],ot=[1,330],st=[1,332],ut=[1,331],ct=[6,13,16,26,34,35,37,38,46,48,75,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,224,229,243,244,248,252,256,271,273,274,275,276,277,279,280,282,283,286,288,293,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326,329,332,333,334,335,336,337,338,339,340,341,342,343],lt=[1,340],dt=[1,339],ft=[35,93],ht=[1,353],pt=[1,354],yt=[1,367],gt=[6,48,90],vt=[6,13,16,35,48,78,86,88,90,273,274,275,277,279,280,282,283,286,288,310,338,339,340,341,342,343],mt=[6,13,16,34,35,46,48,78,81,83,86,87,88,90,93,119,167,168,170,173,174,224,229,243,244,273,274,275,277,279,280,282,283,286,288,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326,338,339,340,341,342,343],bt=[46,48,90,119,167,168,170,173,174],wt=[1,386],_t=[1,387],xt=[1,393],Et=[1,392],Tt=[48,119,191,225,326],Ot=[2,370],St=[13,16,34,35,38,87,93,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310],Nt=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,224,225,229,243,244,276,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326],It=[13,16,26,34,35,87,217,271,273,274,275,277,279,280,282,283,286,288,297,298,299,300,301,302,303,304,305,306,307,308,309,310,332,338,339,340,341,342,343],Rt=[13,16,38,48,87,100,229,297,298,299,300,301,302,303,304,305,306,307,308,309,310],kt=[35,48],jt=[2,329],At=[1,451],Ct=[1,448],Dt=[1,449],Pt=[6,13,16,26,34,35,37,38,46,48,68,75,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,224,229,243,244,248,252,256,271,273,274,275,276,277,279,280,282,283,286,288,293,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326,327,329,332,333,334,335,336,337,338,339,340,341,342,343],Lt=[13,16,35,195,217,222,310],Ft=[2,384],Mt=[1,469],Ut=[46,48,90,119,167,168,170,173,174,326],Bt=[13,16,34,35,195,217,222,310],qt=[6,13,16,34,35,48,75,78,86,88,90,273,274,275,277,279,280,282,283,286,288,310,338,339,340,341,342,343],Vt=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,195,224,225,229,243,244,276,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326],$t=[6,13,16,34,35,48,81,83,86,88,90,273,274,275,277,279,280,282,283,286,288,310,338,339,340,341,342,343],Gt=[13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310],Ht=[13,16,34,310],zt=[13,16,34,35,46,48,87,90,93,119,167,168,170,173,174,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326],Qt=[2,341],Jt=[46,48,90,119,167,168,170,173,174,191,225,326],Wt=[13,16,34,35,37,38,46,48,87,90,93,119,167,168,170,173,174,191,195,217,222,224,225,229,233,243,244,276,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326],Xt=[2,336],Kt=[13,16,35,195,217,310],Yt=[13,16,34,35,38,46,48,87,90,93,119,167,168,170,173,174,191,195,217,222,224,225,229,243,244,276,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326],Zt=[13,16,38,87,100,229,297,298,299,300,301,302,303,304,305,306,307,308,309,310],er=[13,16,34,38,48,87,100,195,229,233,297,298,299,300,301,302,303,304,305,306,307,308,309,310],tr=[13,16,34,35,48,87,93,119,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310],rr=[13,16,34,35,38,87,93,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310,328,329],nr=[13,16,26,34,35,38,87,93,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310,328,329,331,332],ir=[1,630],ar=[1,631],or=[2,324],sr=[13,16,38,195,222,310],ur={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Prologue_repetition0:7,Query:8,Query_group0:9,Query_option0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectQuery:17,SelectClauseWildcard:18,SelectQuery_repetition0:19,WhereClause:20,SolutionModifierNoGroup:21,SelectClauseVars:22,SelectQuery_repetition1:23,SolutionModifier:24,SelectClauseBase:25,"*":26,SelectClauseVars_repetition_plus0:27,SELECT:28,SelectClauseBase_option0:29,SubSelect:30,SubSelect_option0:31,SubSelect_option1:32,SelectClauseItem:33,VAR:34,"(":35,Expression:36,AS:37,")":38,VarTriple:39,ConstructQuery:40,CONSTRUCT:41,ConstructTemplate:42,ConstructQuery_repetition0:43,ConstructQuery_repetition1:44,WHERE:45,"{":46,ConstructQuery_option0:47,"}":48,DescribeQuery:49,DESCRIBE:50,DescribeQuery_group0:51,DescribeQuery_repetition0:52,DescribeQuery_option0:53,AskQuery:54,ASK:55,AskQuery_repetition0:56,DatasetClause:57,FROM:58,DatasetClause_option0:59,iri:60,WhereClause_option0:61,GroupGraphPattern:62,SolutionModifier_option0:63,SolutionModifierNoGroup_option0:64,SolutionModifierNoGroup_option1:65,SolutionModifierNoGroup_option2:66,GroupClause:67,GROUP:68,BY:69,GroupClause_repetition_plus0:70,GroupCondition:71,BuiltInCall:72,FunctionCall:73,HavingClause:74,HAVING:75,HavingClause_repetition_plus0:76,OrderClause:77,ORDER:78,OrderClause_repetition_plus0:79,OrderCondition:80,ASC:81,BrackettedExpression:82,DESC:83,Constraint:84,LimitOffsetClauses:85,LIMIT:86,INTEGER:87,OFFSET:88,ValuesClause:89,VALUES:90,InlineData:91,InlineData_repetition0:92,NIL:93,InlineData_repetition1:94,InlineData_repetition_plus2:95,InlineData_repetition3:96,DataBlockValue:97,Literal:98,ConstTriple:99,UNDEF:100,DataBlockValueList:101,DataBlockValueList_repetition_plus0:102,Update:103,Update_repetition0:104,Update1:105,Update_option0:106,LOAD:107,Update1_option0:108,Update1_option1:109,Update1_group0:110,Update1_option2:111,GraphRefAll:112,Update1_group1:113,Update1_option3:114,GraphOrDefault:115,TO:116,CREATE:117,Update1_option4:118,GRAPH:119,INSERTDATA:120,QuadPattern:121,DELETEDATA:122,DELETEWHERE:123,Update1_option5:124,InsertClause:125,Update1_option6:126,Update1_repetition0:127,Update1_option7:128,DeleteClause:129,Update1_option8:130,Update1_repetition1:131,DELETE:132,INSERT:133,UsingClause:134,USING:135,UsingClause_option0:136,WithClause:137,WITH:138,IntoGraphClause:139,INTO:140,DEFAULT:141,GraphOrDefault_option0:142,GraphRefAll_group0:143,QuadPattern_option0:144,QuadPattern_repetition0:145,QuadsNotTriples:146,QuadsNotTriples_group0:147,QuadsNotTriples_option0:148,QuadsNotTriples_option1:149,QuadsNotTriples_option2:150,TriplesTemplate:151,TriplesTemplate_repetition0:152,TriplesSameSubject:153,TriplesTemplate_option0:154,GroupGraphPatternSub:155,GroupGraphPatternSub_option0:156,GroupGraphPatternSub_repetition0:157,GroupGraphPatternSubTail:158,GraphPatternNotTriples:159,GroupGraphPatternSubTail_option0:160,GroupGraphPatternSubTail_option1:161,TriplesBlock:162,TriplesBlock_repetition0:163,TriplesSameSubjectPath:164,TriplesBlock_option0:165,GraphPatternNotTriples_repetition0:166,OPTIONAL:167,MINUS:168,GraphPatternNotTriples_group0:169,SERVICE:170,GraphPatternNotTriples_option0:171,GraphPatternNotTriples_group1:172,FILTER:173,BIND:174,FunctionCall_option0:175,FunctionCall_repetition0:176,ExpressionList:177,ExpressionList_repetition0:178,ConstructTemplate_option0:179,ConstructTriples:180,ConstructTriples_repetition0:181,ConstructTriples_option0:182,TriplesSameSubject_group0:183,PropertyListNotEmpty:184,TriplesNode:185,PropertyList:186,PropertyList_option0:187,VerbObjectList:188,PropertyListNotEmpty_repetition0:189,SemiOptionalVerbObjectList:190,";":191,SemiOptionalVerbObjectList_option0:192,Verb:193,ObjectList:194,a:195,ObjectList_repetition0:196,GraphNode:197,TriplesSameSubjectPath_group0:198,PropertyListPathNotEmpty:199,TriplesNodePath:200,TriplesSameSubjectPath_option0:201,PropertyListPathNotEmpty_group0:202,PropertyListPathNotEmpty_repetition0:203,GraphNodePath:204,PropertyListPathNotEmpty_repetition1:205,PropertyListPathNotEmptyTail:206,PropertyListPathNotEmptyTail_group0:207,Path:208,Path_repetition0:209,PathSequence:210,PathSequence_repetition0:211,PathEltOrInverse:212,PathElt:213,PathPrimary:214,PathElt_option0:215,PathEltOrInverse_option0:216,"!":217,PathNegatedPropertySet:218,PathOneInPropertySet:219,PathNegatedPropertySet_repetition0:220,PathNegatedPropertySet_option0:221,"^":222,TriplesNode_repetition_plus0:223,"[":224,"]":225,TriplesNodePath_repetition_plus0:226,GraphNode_group0:227,GraphNodePath_group0:228,"<<":229,VarTriple_group0:230,VarTriple_group1:231,VarTriple_group2:232,">>":233,VarTriple_group3:234,VarTriple_group4:235,ConstTriple_group0:236,ConstTriple_group1:237,ConstTriple_group2:238,ConstTriple_group3:239,ConstTriple_group4:240,VarOrTerm:241,Term:242,BLANK_NODE_LABEL:243,ANON:244,ConditionalAndExpression:245,Expression_repetition0:246,ExpressionTail:247,"||":248,RelationalExpression:249,ConditionalAndExpression_repetition0:250,ConditionalAndExpressionTail:251,"&&":252,AdditiveExpression:253,RelationalExpression_group0:254,RelationalExpression_option0:255,IN:256,MultiplicativeExpression:257,AdditiveExpression_repetition0:258,AdditiveExpressionTail:259,AdditiveExpressionTail_group0:260,NumericLiteralPositive:261,AdditiveExpressionTail_repetition0:262,NumericLiteralNegative:263,AdditiveExpressionTail_repetition1:264,UnaryExpression:265,MultiplicativeExpression_repetition0:266,MultiplicativeExpressionTail:267,MultiplicativeExpressionTail_group0:268,UnaryExpression_option0:269,PrimaryExpression:270,"-":271,Aggregate:272,FUNC_ARITY0:273,FUNC_ARITY1:274,FUNC_ARITY2:275,",":276,IF:277,BuiltInCall_group0:278,BOUND:279,BNODE:280,BuiltInCall_option0:281,EXISTS:282,COUNT:283,Aggregate_option0:284,Aggregate_group0:285,FUNC_AGGREGATE:286,Aggregate_option1:287,GROUP_CONCAT:288,Aggregate_option2:289,Aggregate_option3:290,GroupConcatSeparator:291,SEPARATOR:292,"=":293,String:294,LANGTAG:295,"^^":296,DECIMAL:297,DOUBLE:298,BOOLEAN:299,STRING_LITERAL1:300,STRING_LITERAL2:301,STRING_LITERAL_LONG1:302,STRING_LITERAL_LONG2:303,INTEGER_POSITIVE:304,DECIMAL_POSITIVE:305,DOUBLE_POSITIVE:306,INTEGER_NEGATIVE:307,DECIMAL_NEGATIVE:308,DOUBLE_NEGATIVE:309,PNAME_LN:310,QueryOrUpdate_group0_option0:311,Prologue_repetition0_group0:312,SelectClauseBase_option0_group0:313,DISTINCT:314,REDUCED:315,DescribeQuery_group0_repetition_plus0_group0:316,DescribeQuery_group0_repetition_plus0:317,NAMED:318,SILENT:319,CLEAR:320,DROP:321,ADD:322,MOVE:323,COPY:324,ALL:325,".":326,UNION:327,"|":328,"/":329,PathElt_option0_group0:330,"?":331,"+":332,"!=":333,"<":334,">":335,"<=":336,">=":337,NOT:338,CONCAT:339,COALESCE:340,SUBSTR:341,REGEX:342,REPLACE:343,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",26:"*",28:"SELECT",34:"VAR",35:"(",37:"AS",38:")",41:"CONSTRUCT",45:"WHERE",46:"{",48:"}",50:"DESCRIBE",55:"ASK",58:"FROM",68:"GROUP",69:"BY",75:"HAVING",78:"ORDER",81:"ASC",83:"DESC",86:"LIMIT",87:"INTEGER",88:"OFFSET",90:"VALUES",93:"NIL",100:"UNDEF",107:"LOAD",116:"TO",117:"CREATE",119:"GRAPH",120:"INSERTDATA",122:"DELETEDATA",123:"DELETEWHERE",132:"DELETE",133:"INSERT",135:"USING",138:"WITH",140:"INTO",141:"DEFAULT",167:"OPTIONAL",168:"MINUS",170:"SERVICE",173:"FILTER",174:"BIND",191:";",195:"a",217:"!",222:"^",224:"[",225:"]",229:"<<",233:">>",243:"BLANK_NODE_LABEL",244:"ANON",248:"||",252:"&&",256:"IN",271:"-",273:"FUNC_ARITY0",274:"FUNC_ARITY1",275:"FUNC_ARITY2",276:",",277:"IF",279:"BOUND",280:"BNODE",282:"EXISTS",283:"COUNT",286:"FUNC_AGGREGATE",288:"GROUP_CONCAT",292:"SEPARATOR",293:"=",295:"LANGTAG",296:"^^",297:"DECIMAL",298:"DOUBLE",299:"BOOLEAN",300:"STRING_LITERAL1",301:"STRING_LITERAL2",302:"STRING_LITERAL_LONG1",303:"STRING_LITERAL_LONG2",304:"INTEGER_POSITIVE",305:"DECIMAL_POSITIVE",306:"DOUBLE_POSITIVE",307:"INTEGER_NEGATIVE",308:"DECIMAL_NEGATIVE",309:"DOUBLE_NEGATIVE",310:"PNAME_LN",314:"DISTINCT",315:"REDUCED",318:"NAMED",319:"SILENT",320:"CLEAR",321:"DROP",322:"ADD",323:"MOVE",324:"COPY",325:"ALL",326:".",327:"UNION",328:"|",329:"/",331:"?",332:"+",333:"!=",334:"<",335:">",336:"<=",337:">=",338:"NOT",339:"CONCAT",340:"COALESCE",341:"SUBSTR",342:"REGEX",343:"REPLACE"},productions_:[0,[3,3],[4,1],[8,2],[11,2],[14,3],[17,4],[17,4],[18,2],[22,2],[25,2],[30,4],[30,4],[33,1],[33,5],[33,5],[40,5],[40,7],[49,5],[54,4],[57,3],[20,2],[24,2],[21,3],[67,3],[71,1],[71,1],[71,3],[71,5],[71,1],[74,2],[77,3],[80,2],[80,2],[80,1],[80,1],[85,2],[85,2],[85,4],[85,4],[89,2],[91,4],[91,4],[91,6],[97,1],[97,1],[97,1],[97,1],[101,3],[103,3],[105,4],[105,3],[105,5],[105,4],[105,2],[105,2],[105,2],[105,6],[105,6],[129,2],[125,2],[134,3],[137,2],[139,3],[115,1],[115,2],[112,2],[112,1],[121,4],[146,7],[151,3],[62,3],[62,3],[155,2],[158,3],[162,3],[159,2],[159,2],[159,2],[159,3],[159,4],[159,2],[159,6],[159,6],[159,1],[84,1],[84,1],[84,1],[73,2],[73,6],[177,1],[177,4],[42,3],[180,3],[153,2],[153,2],[186,1],[184,2],[190,2],[188,2],[193,1],[193,1],[193,1],[194,2],[164,2],[164,2],[199,4],[206,1],[206,3],[208,2],[210,2],[213,2],[212,2],[214,1],[214,1],[214,2],[214,3],[218,1],[218,1],[218,4],[219,1],[219,1],[219,2],[219,2],[185,3],[185,3],[200,3],[200,3],[197,1],[197,1],[204,1],[204,1],[39,9],[39,5],[99,9],[99,5],[241,1],[241,1],[242,1],[242,1],[242,1],[242,1],[242,1],[36,2],[247,2],[245,2],[251,2],[249,1],[249,3],[249,4],[253,2],[259,2],[259,2],[259,2],[257,2],[267,2],[265,2],[265,2],[265,2],[270,1],[270,1],[270,1],[270,1],[270,1],[270,1],[82,3],[72,1],[72,2],[72,4],[72,6],[72,8],[72,2],[72,4],[72,2],[72,4],[72,3],[272,5],[272,5],[272,6],[291,4],[98,1],[98,2],[98,3],[98,1],[98,1],[98,1],[98,1],[98,1],[98,1],[294,1],[294,1],[294,1],[294,1],[261,1],[261,1],[261,1],[263,1],[263,1],[263,1],[60,1],[60,1],[60,1],[311,0],[311,1],[5,1],[5,1],[312,1],[312,1],[7,0],[7,2],[9,1],[9,1],[9,1],[9,1],[10,0],[10,1],[19,0],[19,2],[23,0],[23,2],[27,1],[27,2],[313,1],[313,1],[29,0],[29,1],[31,0],[31,1],[32,0],[32,1],[43,0],[43,2],[44,0],[44,2],[47,0],[47,1],[316,1],[316,1],[317,1],[317,2],[51,1],[51,1],[52,0],[52,2],[53,0],[53,1],[56,0],[56,2],[59,0],[59,1],[61,0],[61,1],[63,0],[63,1],[64,0],[64,1],[65,0],[65,1],[66,0],[66,1],[70,1],[70,2],[76,1],[76,2],[79,1],[79,2],[92,0],[92,2],[94,0],[94,2],[95,1],[95,2],[96,0],[96,2],[102,1],[102,2],[104,0],[104,4],[106,0],[106,2],[108,0],[108,1],[109,0],[109,1],[110,1],[110,1],[111,0],[111,1],[113,1],[113,1],[113,1],[114,0],[114,1],[118,0],[118,1],[124,0],[124,1],[126,0],[126,1],[127,0],[127,2],[128,0],[128,1],[130,0],[130,1],[131,0],[131,2],[136,0],[136,1],[142,0],[142,1],[143,1],[143,1],[143,1],[144,0],[144,1],[145,0],[145,2],[147,1],[147,1],[148,0],[148,1],[149,0],[149,1],[150,0],[150,1],[152,0],[152,3],[154,0],[154,1],[156,0],[156,1],[157,0],[157,2],[160,0],[160,1],[161,0],[161,1],[163,0],[163,3],[165,0],[165,1],[166,0],[166,3],[169,1],[169,1],[171,0],[171,1],[172,1],[172,1],[175,0],[175,1],[176,0],[176,3],[178,0],[178,3],[179,0],[179,1],[181,0],[181,3],[182,0],[182,1],[183,1],[183,1],[187,0],[187,1],[189,0],[189,2],[192,0],[192,1],[196,0],[196,3],[198,1],[198,1],[201,0],[201,1],[202,1],[202,1],[203,0],[203,3],[205,0],[205,2],[207,1],[207,1],[209,0],[209,3],[211,0],[211,3],[330,1],[330,1],[330,1],[215,0],[215,1],[216,0],[216,1],[220,0],[220,3],[221,0],[221,1],[223,1],[223,2],[226,1],[226,2],[227,1],[227,1],[228,1],[228,1],[230,1],[230,1],[231,1],[231,1],[232,1],[232,1],[234,1],[234,1],[235,1],[235,1],[236,1],[236,1],[237,1],[237,1],[238,1],[238,1],[239,1],[239,1],[240,1],[240,1],[246,0],[246,2],[250,0],[250,2],[254,1],[254,1],[254,1],[254,1],[254,1],[254,1],[255,0],[255,1],[258,0],[258,2],[260,1],[260,1],[262,0],[262,2],[264,0],[264,2],[266,0],[266,2],[268,1],[268,1],[269,0],[269,1],[278,1],[278,1],[278,1],[278,1],[278,1],[281,0],[281,1],[284,0],[284,1],[285,1],[285,1],[287,0],[287,1],[289,0],[289,1],[290,0],[290,1]],performAction:function(e,t,r,n,i,a,o){var s=a.length-1;switch(i){case 1:if(a[s-1]=a[s-1]||{},un.base&&(a[s-1].base=un.base),un.base="",a[s-1].prefixes=un.prefixes,un.prefixes=null,"update"===a[s-1].type){const e={};for(const t of a[s-1].updates)if("insert"===t.updateType){const r={};for(const e of t.insert)if("bgp"===e.type||"graph"===e.type)for(const t of e.triples)"BlankNode"===t.subject.termType&&(r[t.subject.value]=!0),"BlankNode"===t.predicate.termType&&(r[t.predicate.value]=!0),"BlankNode"===t.object.termType&&(r[t.object.value]=!0);for(const t of Object.keys(r)){if(e[t])throw new Error("Detected reuse blank node across different INSERT DATA clauses");e[t]=!0}}}return a[s-1];case 3:this.$=Sr(a[s-1],a[s],{type:"query"});break;case 4:un.base=Ir(a[s]);break;case 5:un.prefixes||(un.prefixes={}),a[s-1]=a[s-1].substr(0,a[s-1].length-1),a[s]=Ir(a[s]),un.prefixes[a[s-1]]=a[s];break;case 6:this.$=Sr(a[s-3],Dr(a[s-2]),a[s-1],a[s]);break;case 7:if(!un.skipUngroupedVariableCheck){const e=Zr(a[s-3].variables.map(e=>Kr(e.expression))).some(e=>"count"===e.aggregation&&!(e.expression instanceof cr));if(e||a[s].group)for(const t of a[s-3].variables)if("Variable"===t.termType){if(!a[s].group||!a[s].group.map(e=>Xr(e)).includes(Xr(t)))throw Error("Projection of ungrouped variable (?"+Xr(t)+")")}else if(0===Kr(t.expression).length){const e=Yr(t.expression);for(const t of e)if(!a[s].group.map(e=>Xr(e)).includes(Xr(t)))throw Error("Use of ungrouped variable in projection of operation (?"+Xr(t)+")")}}const e=a[s-1].where.filter(e=>"query"===e.type);if(e.length>0){const t=a[s-3].variables.filter(e=>e.variable&&e.variable.value).map(e=>e.variable.value),r=Zr(e.map(e=>e.variables)).map(e=>e.value||e.variable.value);for(const e of t)if(r.indexOf(e)>=0)throw Error("Target id of 'AS' (?"+e+") already used in subquery")}this.$=Sr(a[s-3],Dr(a[s-2]),a[s-1],a[s]);break;case 8:this.$=Sr(a[s-1],{variables:[new cr]});break;case 9:const t=a[s].map(e=>e.value||e.variable.value),r=rn(t);if(r.length>0)throw Error("Two or more of the resulting columns have the same name (?"+r[0]+")");this.$=Sr(a[s-1],{variables:a[s]});break;case 10:this.$=Sr({queryType:"SELECT"},a[s]&&(a[s-1]=Er(a[s]),a[s]={},a[s][a[s-1]]=!0,a[s]));break;case 11:case 12:this.$=Sr(a[s-3],a[s-2],a[s-1],a[s],{type:"query"});break;case 13:case 100:case 136:case 164:this.$=Rr(a[s]);break;case 14:case 28:this.$=jr(a[s-3],{variable:Rr(a[s-1])});break;case 15:this.$=nn(jr(a[s-3],{variable:Rr(a[s-1])}));break;case 16:this.$=Sr({queryType:"CONSTRUCT",template:a[s-3]},Dr(a[s-2]),a[s-1],a[s]);break;case 17:this.$=Sr({queryType:"CONSTRUCT",template:a[s-2]=a[s-2]?a[s-2].triples:[]},Dr(a[s-5]),{where:[{type:"bgp",triples:Or([],a[s-2])}]},a[s]);break;case 18:this.$=Sr({queryType:"DESCRIBE",variables:"*"===a[s-3]?[new cr]:a[s-3].map(Rr)},Dr(a[s-2]),a[s-1],a[s]);break;case 19:this.$=Sr({queryType:"ASK"},Dr(a[s-2]),a[s-1],a[s]);break;case 20:case 61:this.$={iri:a[s],named:!!a[s-1]};break;case 21:this.$={where:a[s].patterns};break;case 22:this.$=Sr(a[s-1],a[s]);break;case 23:this.$=Sr(a[s-2],a[s-1],a[s]);break;case 24:this.$={group:a[s]};break;case 25:case 26:case 32:case 34:this.$=jr(a[s]);break;case 27:this.$=jr(a[s-1]);break;case 29:case 35:this.$=jr(Rr(a[s]));break;case 30:this.$={having:a[s]};break;case 31:this.$={order:a[s]};break;case 33:this.$=jr(a[s],{descending:!0});break;case 36:this.$={limit:Pr(a[s])};break;case 37:this.$={offset:Pr(a[s])};break;case 38:this.$={limit:Pr(a[s-2]),offset:Pr(a[s])};break;case 39:this.$={limit:Pr(a[s]),offset:Pr(a[s-2])};break;case 40:this.$={type:"values",values:a[s]};break;case 41:this.$=a[s-1].map((function(e){var t={};return t[a[s-3]]=e,t}));break;case 42:this.$=a[s-1].map((function(){return{}}));break;case 43:var u=a[s-4].length;a[s-4]=a[s-4].map(Rr),this.$=a[s-1].map((function(e){if(e.length!==u)throw Error("Inconsistent VALUES length");for(var t={},r=0;r<u;r++)t["?"+a[s-4][r].value]=e[r];return t}));break;case 46:this.$=nn(a[s]);break;case 47:this.$=void 0;break;case 48:case 92:case 116:case 165:this.$=a[s-1];break;case 49:this.$={type:"update",updates:Tr(a[s-2],a[s-1])};break;case 50:this.$=Sr({type:"load",silent:!!a[s-2],source:a[s-1]},a[s]&&{destination:a[s]});break;case 51:this.$={type:Er(a[s-2]),silent:!!a[s-1],graph:a[s]};break;case 52:this.$={type:Er(a[s-4]),silent:!!a[s-3],source:a[s-2],destination:a[s]};break;case 53:this.$={type:"create",silent:!!a[s-2],graph:{type:"graph",name:a[s]}};break;case 54:this.$={updateType:"insert",insert:an(a[s])};break;case 55:this.$={updateType:"delete",delete:on(an(a[s]))};break;case 56:this.$={updateType:"deletewhere",delete:on(a[s])};break;case 57:this.$=Sr({updateType:"insertdelete"},a[s-5],{insert:a[s-4]||[]},{delete:a[s-3]||[]},Dr(a[s-2],"using"),{where:a[s].patterns});break;case 58:this.$=Sr({updateType:"insertdelete"},a[s-5],{delete:a[s-4]||[]},{insert:a[s-3]||[]},Dr(a[s-2],"using"),{where:a[s].patterns});break;case 59:this.$=on(a[s]);break;case 60:case 63:case 156:case 179:this.$=a[s];break;case 62:this.$={graph:a[s]};break;case 64:this.$={type:"graph",default:!0};break;case 65:case 66:this.$={type:"graph",name:a[s]};break;case 67:this.$={},this.$[Er(a[s])]=!0;break;case 68:this.$=a[s-2]?Nr(a[s-1],[a[s-2]]):Nr(a[s-1]);break;case 69:var c=Sr(a[s-3]||{triples:[]},{type:"graph",name:Rr(a[s-5])});this.$=a[s]?[c,a[s]]:[c];break;case 70:case 75:this.$={type:"bgp",triples:Nr(a[s-2],[a[s-1]])};break;case 71:this.$={type:"group",patterns:[a[s-1]]};break;case 72:for(const n of a[s-1].filter(e=>"bind"===e.type)){const e=a[s-1].indexOf(n),t=new Set;for(const r of a[s-1].slice(0,e))"group"!==r.type&&"bgp"!==r.type||tn(r).forEach(e=>t.add(e));if(t.has(n.variable.value))throw Error("Variable used to bind is already bound (?"+n.variable.value+")")}this.$={type:"group",patterns:a[s-1]};break;case 73:this.$=a[s-1]?Nr([a[s-1]],a[s]):Nr(a[s]);break;case 74:this.$=a[s]?[a[s-2],a[s]]:a[s-2];break;case 76:a[s-1].length?this.$={type:"union",patterns:Nr(a[s-1].map(Lr),[Lr(a[s])])}:this.$=a[s];break;case 77:this.$=Sr(a[s],{type:"optional"});break;case 78:this.$=Sr(a[s],{type:"minus"});break;case 79:this.$=Sr(a[s],{type:"graph",name:Rr(a[s-1])});break;case 80:this.$=Sr(a[s],{type:"service",name:Rr(a[s-1]),silent:!!a[s-2]});break;case 81:this.$={type:"filter",expression:a[s]};break;case 82:this.$={type:"bind",variable:Rr(a[s-1]),expression:a[s-3]};break;case 83:this.$=nn({type:"bind",variable:Rr(a[s-1]),expression:a[s-3]});break;case 88:this.$={type:"functionCall",function:a[s-1],args:[]};break;case 89:this.$={type:"functionCall",function:a[s-5],args:Tr(a[s-2],a[s-1]),distinct:!!a[s-3]};break;case 90:case 107:case 118:case 208:case 216:case 218:case 230:case 232:case 242:case 246:case 266:case 268:case 272:case 276:case 299:case 305:case 316:case 326:case 332:case 338:case 342:case 352:case 354:case 358:case 366:case 370:case 378:case 380:case 384:case 386:case 395:case 427:case 429:case 439:case 443:case 445:case 447:this.$=[];break;case 91:this.$=Tr(a[s-2],a[s-1]);break;case 93:this.$=Nr(a[s-2],[a[s-1]]);break;case 94:case 104:this.$=a[s].map((function(e){return Sr(Ur(a[s-1]),e)}));break;case 95:this.$=Or(a[s].map((function(e){return Sr(Ur(a[s-1].entity),e)})),a[s-1].triples);break;case 97:this.$=Nr([a[s-1]],a[s]);break;case 98:this.$=Nr(a[s]);break;case 99:this.$=Wr(a[s-1],a[s]);break;case 102:case 114:case 121:this.$=un.factory.namedNode(dr);break;case 103:this.$=Tr(a[s-1],a[s]);break;case 105:this.$=a[s]?Or(a[s].map((function(e){return Sr(Ur(a[s-1].entity),e)})),a[s-1].triples):a[s-1].triples;break;case 106:this.$=Wr(Rr(a[s-3]),Tr(a[s-2],a[s-1]),a[s]);break;case 108:this.$=Wr(Rr(a[s-1]),a[s]);break;case 109:this.$=a[s-1].length?Ar("|",Tr(a[s-1],a[s])):a[s];break;case 110:this.$=a[s-1].length?Ar("/",Tr(a[s-1],a[s])):a[s];break;case 111:this.$=a[s]?Ar(a[s],[a[s-1]]):a[s-1];break;case 112:this.$=a[s-1]?Ar(a[s-1],[a[s]]):a[s];break;case 115:case 122:this.$=Ar(a[s-1],[a[s]]);break;case 119:this.$=Ar("|",Tr(a[s-2],a[s-1]));break;case 123:this.$=Ar(a[s-1],[un.factory.namedNode(dr)]);break;case 124:case 126:this.$=Qr(a[s-1]);break;case 125:case 127:this.$=Jr(a[s-1]);break;case 128:this.$={entity:a[s],triples:[]};break;case 130:this.$={entity:a[s],triples:[]};break;case 132:case 134:this.$=nn(un.factory.quad(a[s-4],a[s-3],a[s-2],Rr(a[s-6])));break;case 133:case 135:this.$=nn(un.factory.quad(a[s-3],a[s-2],a[s-1]));break;case 140:this.$=Br(a[s].replace(/^(_:)/,""));break;case 141:this.$=Br();break;case 142:this.$=un.factory.namedNode(pr);break;case 143:case 145:case 150:case 154:this.$=Cr(a[s-1],a[s]);break;case 144:this.$=["||",a[s]];break;case 146:this.$=["&&",a[s]];break;case 148:this.$=kr(a[s-1],[a[s-2],a[s]]);break;case 149:this.$=kr(a[s-2]?"notin":"in",[a[s-3],a[s]]);break;case 151:case 155:this.$=[a[s-1],a[s]];break;case 152:this.$=["+",Cr(a[s-1],a[s])];break;case 153:var l=Fr(a[s-1].value.replace("-",""),a[s-1].datatype);this.$=["-",Cr(l,a[s])];break;case 157:this.$=kr(a[s-1],[a[s]]);break;case 158:this.$=kr("UMINUS",[a[s]]);break;case 167:this.$=kr(Er(a[s-1]));break;case 168:this.$=kr(Er(a[s-3]),[a[s-1]]);break;case 169:this.$=kr(Er(a[s-5]),[a[s-3],a[s-1]]);break;case 170:this.$=kr(Er(a[s-7]),[a[s-5],a[s-3],a[s-1]]);break;case 171:this.$=kr(Er(a[s-1]),a[s]);break;case 172:this.$=kr("bound",[Rr(a[s-1])]);break;case 173:this.$=kr(a[s-1],[]);break;case 174:this.$=kr(a[s-3],[a[s-1]]);break;case 175:this.$=kr(a[s-2]?"notexists":"exists",[Lr(a[s])]);break;case 176:case 177:this.$=jr(a[s-1],{type:"aggregate",aggregation:Er(a[s-4]),distinct:!!a[s-2]});break;case 178:this.$=jr(a[s-2],{type:"aggregate",aggregation:Er(a[s-5]),distinct:!!a[s-3],separator:a[s-1]||" "});break;case 180:this.$=Fr(a[s]);break;case 181:this.$=Mr(a[s-1],Er(a[s].substr(1)));break;case 182:this.$=Fr(a[s-2],a[s]);break;case 183:case 196:this.$=Fr(a[s],gr);break;case 184:case 197:this.$=Fr(a[s],vr);break;case 185:case 198:this.$=Fr(Er(a[s]),mr);break;case 188:this.$=Fr(a[s].toLowerCase(),br);break;case 189:case 190:this.$=zr(a[s],1);break;case 191:case 192:this.$=zr(a[s],3);break;case 193:this.$=Fr(a[s].substr(1),gr);break;case 194:this.$=Fr(a[s].substr(1),vr);break;case 195:this.$=Fr(a[s].substr(1).toLowerCase(),mr);break;case 199:this.$=un.factory.namedNode(Ir(a[s]));break;case 200:var d=a[s].indexOf(":"),f=a[s].substr(0,d),h=un.prefixes[f];if(!h)throw new Error("Unknown prefix: "+f);var p=Ir(h+a[s].substr(d+1));this.$=un.factory.namedNode(p);break;case 201:if(a[s]=a[s].substr(0,a[s].length-1),!(a[s]in un.prefixes))throw new Error("Unknown prefix: "+a[s]);p=Ir(un.prefixes[a[s]]);this.$=un.factory.namedNode(p);break;case 209:case 217:case 219:case 221:case 231:case 233:case 239:case 243:case 247:case 261:case 263:case 265:case 267:case 269:case 271:case 273:case 275:case 300:case 306:case 317:case 333:case 367:case 381:case 400:case 402:case 428:case 430:case 440:case 444:case 446:case 448:a[s-1].push(a[s]);break;case 220:case 238:case 260:case 262:case 264:case 270:case 274:case 399:case 401:this.$=[a[s]];break;case 277:a[s-3].push(a[s-2]);break;case 327:case 339:case 343:case 353:case 355:case 359:case 371:case 379:case 385:case 387:case 396:a[s-2].push(a[s-1]);break}},table:[e(t,n,{3:1,4:2,7:3}),{1:[3]},e(i,[2,276],{5:4,8:5,311:6,9:7,103:8,17:9,40:10,49:11,54:12,104:13,18:14,22:15,25:19,6:[2,202],28:a,41:[1,16],50:[1,17],55:[1,18]}),e([6,28,41,50,55,107,117,120,122,123,132,133,138,320,321,322,323,324],[2,2],{312:21,11:22,14:23,12:[1,24],15:[1,25]}),{6:[1,26]},{6:[2,204]},{6:[2,205]},{6:[2,214],10:27,89:28,90:o},{6:[2,203]},e(s,[2,210]),e(s,[2,211]),e(s,[2,212]),e(s,[2,213]),{105:30,107:[1,31],110:32,113:33,117:[1,34],120:[1,35],122:[1,36],123:[1,37],124:38,128:39,132:[2,301],133:[2,295],137:45,138:[1,46],320:[1,40],321:[1,41],322:[1,42],323:[1,43],324:[1,44]},e(u,[2,216],{19:47}),e(u,[2,218],{23:48}),e(c,[2,232],{42:49,44:50,46:[1,51]}),{13:l,16:d,26:[1,54],34:f,51:52,60:57,310:h,316:55,317:53},e(u,[2,246],{56:61}),{26:[1,62],27:63,33:64,34:p,35:y},e(g,[2,224],{29:67,313:68,314:[1,69],315:[1,70]}),e(t,[2,209]),e(t,[2,206]),e(t,[2,207]),{13:[1,71]},{16:[1,72]},{1:[2,1]},{6:[2,3]},{6:[2,215]},{34:[1,74],35:[1,76],91:73,93:[1,75]},{6:[2,278],106:77,191:[1,78]},e(v,[2,280],{108:79,319:[1,80]}),e(m,[2,286],{111:81,319:[1,82]}),e(b,[2,291],{114:83,319:[1,84]}),{118:85,119:[2,293],319:[1,86]},{46:w,121:87},{46:w,121:89},{46:w,121:90},{125:91,133:_},{129:93,132:x},e(E,[2,284]),e(E,[2,285]),e(T,[2,288]),e(T,[2,289]),e(T,[2,290]),{132:[2,302],133:[2,296]},{13:l,16:d,60:95,310:h},{20:96,45:O,46:S,57:97,58:N,61:98},{20:101,45:O,46:S,57:102,58:N,61:98},e(u,[2,230],{43:103}),{45:[1,104],57:105,58:N},e(I,[2,358],{179:106,180:107,181:108,48:[2,356]}),e(R,[2,242],{52:109}),e(R,[2,240],{60:57,316:110,13:l,16:d,34:f,310:h}),e(R,[2,241]),e(k,[2,238]),e(k,[2,236]),e(k,[2,237]),e(j,[2,199]),e(j,[2,200]),e(j,[2,201]),{20:111,45:O,46:S,57:112,58:N,61:98},e(u,[2,8]),e(u,[2,9],{33:113,34:p,35:y}),e(A,[2,220]),e(A,[2,13]),e(C,D,{36:114,39:115,245:116,249:118,253:119,257:120,265:121,269:122,217:P,229:L,271:F,332:M}),e(g,[2,10]),e(g,[2,225]),e(g,[2,222]),e(g,[2,223]),e(t,[2,4]),{13:[1,126]},e(U,[2,40]),{46:[1,127]},{46:[1,128]},{34:[1,130],95:129},{6:[2,49]},e(t,n,{7:3,4:131}),{13:l,16:d,60:132,310:h},e(v,[2,281]),{112:133,119:[1,134],141:[1,136],143:135,318:[1,137],325:[1,138]},e(m,[2,287]),e(v,B,{115:139,142:141,119:q,141:V}),e(b,[2,292]),{119:[1,143]},{119:[2,294]},e($,[2,54]),e(I,G,{144:144,151:145,152:146,48:H,119:H}),e($,[2,55]),e($,[2,56]),e(z,[2,297],{126:147,129:148,132:x}),{46:w,121:149},e(z,[2,303],{130:150,125:151,133:_}),{46:w,121:152},e([132,133],[2,62]),e(Q,J,{21:153,64:154,74:155,75:W}),e(u,[2,217]),{46:X,62:157},e(v,[2,248],{59:159,318:[1,160]}),{46:[2,251]},e(K,Y,{24:161,63:162,67:163,68:Z}),e(u,[2,219]),{20:165,45:O,46:S,57:166,58:N,61:98},{46:[1,167]},e(c,[2,233]),{48:[1,168]},{48:[2,357]},{13:l,16:d,34:ee,35:te,39:173,60:178,87:re,93:ne,98:179,153:169,183:170,185:171,224:ie,229:L,241:172,242:177,243:ae,244:oe,261:187,263:188,294:183,297:se,298:ue,299:ce,300:le,301:de,302:fe,303:he,304:pe,305:ye,306:ge,307:ve,308:me,309:be,310:h},e(we,[2,244],{61:98,53:200,57:201,20:202,45:O,46:S,58:N}),e(k,[2,239]),e(K,Y,{63:162,67:163,24:203,68:Z}),e(u,[2,247]),e(A,[2,221]),{37:[1,204]},{37:[1,205]},e(_e,[2,427],{246:206}),{13:l,16:d,34:ee,39:209,60:178,87:re,93:ne,98:179,119:[1,207],229:L,234:208,241:210,242:177,243:ae,244:oe,261:187,263:188,294:183,297:se,298:ue,299:ce,300:le,301:de,302:fe,303:he,304:pe,305:ye,306:ge,307:ve,308:me,309:be,310:h},e(xe,[2,429],{250:211}),e(xe,[2,147],{254:212,255:213,256:[2,437],293:[1,214],333:[1,215],334:[1,216],335:[1,217],336:[1,218],337:[1,219],338:[1,220]}),e(Ee,[2,439],{258:221}),e(Te,[2,447],{266:222}),{13:l,16:d,34:Oe,35:Se,60:226,72:225,73:227,82:224,87:re,98:228,261:187,263:188,270:223,272:231,273:Ne,274:Ie,275:Re,277:ke,278:236,279:je,280:Ae,281:239,282:Ce,283:De,286:Pe,288:Le,294:183,297:se,298:ue,299:ce,300:le,301:de,302:fe,303:he,304:pe,305:ye,306:ge,307:ve,308:me,309:be,310:h,338:Fe,339:Me,340:Ue,341:Be,342:qe,343:Ve},{13:l,16:d,34:Oe,35:Se,60:226,72:225,73:227,82:224,87:re,98:228,261:187,263:188,270:249,272:231,273:Ne,274:Ie,275:Re,277:ke,278:236,279:je,280:Ae,281:239,282:Ce,283:De,286:Pe,288:Le,294:183,297:se,298:ue,299:ce,300:le,301:de,302:fe,303:he,304:pe,305:ye,306:ge,307:ve,308:me,309:be,310:h,338:Fe,339:Me,340:Ue,341:Be,342:qe,343:Ve},{13:l,16:d,34:Oe,35:Se,60:226,72:225,73:227,82:224,87:re,98:228,261:187,263:188,270:250,272:231,273:Ne,274:Ie,275:Re,277:ke,278:236,279:je,280:Ae,281:239,282:Ce,283:De,286:Pe,288:Le,294:183,297:se,298:ue,299:ce,300:le,301:de,302:fe,303:he,304:pe,305:ye,306:ge,307:ve,308:me,309:be,310:h,338:Fe,339:Me,340:Ue,341:Be,342:qe,343:Ve},e(C,[2,452]),e(t,[2,5]),e($e,[2,266],{92:251}),e(Ge,[2,268],{94:252}),{34:[1,254],38:[1,253]},e(He,[2,270]),e(i,[2,277],{6:[2,279]}),e($,[2,282],{109:255,139:256,140:[1,257]}),e($,[2,51]),{13:l,16:d,60:258,310:h},e($,[2,67]),e($,[2,311]),e($,[2,312]),e($,[2,313]),{116:[1,259]},e(ze,[2,64]),{13:l,16:d,60:260,310:h},e(v,[2,310]),{13:l,16:d,60:261,310:h},e(Qe,[2,316],{145:262}),e(Qe,[2,315]),{13:l,16:d,34:ee,35:te,39:173,60:178,87:re,93:ne,98:179,153:263,183:170,185:171,224:ie,229:L,241:172,242:177,243:ae,244:oe,261:187,263:188,294:183,297:se,298:ue,299:ce,300:le,301:de,302:fe,303:he,304:pe,305:ye,306:ge,307:ve,308:me,309:be,310:h},e(z,[2,299],{127:264}),e(z,[2,298]),e([45,132,135],[2,60]),e(z,[2,305],{131:265}),e(z,[2,304]),e([45,133,135],[2,59]),e(s,[2,6]),e(Je,[2,256],{65:266,77:267,78:[1,268]}),e(Q,[2,255]),{13:l,16:d,35:Se,60:274,72:272,73:273,76:269,82:271,84:270,272:231,273:Ne,274:Ie,275:Re,277:ke,278:236,279:je,280:Ae,281:239,282:Ce,283:De,286:Pe,288:Le,310:h,338:Fe,339:Me,340:Ue,341:Be,342:qe,343:Ve},e([6,48,68,75,78,86,88,90],[2,21]),e(I,We,{25:19,30:275,155:276,18:277,22:278,156:279,162:280,163:281,28:a,46:Xe,48:Xe,90:Xe,119:Xe,167:Xe,168:Xe,170:Xe,173:Xe,174:Xe}),{13:l,16:d,60:282,310:h},e(v,[2,249]),e(s,[2,7]),e(Q,J,{64:154,74:155,21:283,75:W}),e(K,[2,253]),{69:[1,284]},e(K,Y,{63:162,67:163,24:285,68:Z}),e(u,[2,231]),e(I,G,{152:146,47:286,151:287,48:[2,234]}),e(u,[2,92]),{48:[2,360],182:288,326:[1,289]},{13:l,16:d,34:Ke,60:294,184:290,188:291,193:292,195:Ye,310:h},e(Ze,[2,364],{188:291,193:292,60:294,186:296,187:297,184:298,13:l,16:d,34:Ke,195:Ye,310:h}),e(et,[2,362]),e(et,[2,363]),{13:l,16:d,34:ee,35:te,39:304,60:178,87:re,93:ne,98:179,185:302,197:300,223:299,224:ie,227:301,229:L,241:303,242:177,243:ae,244:oe,261:187,263:188,294:183,297:se,298:ue,299:ce,300:le,301:de,302:fe,303:he,304:pe,305:ye,306:ge,307:ve,308:me,309:be,310:h},{13:l,16:d,34:Ke,60:294,184:305,188:291,193:292,195:Ye,310:h},e(tt,[2,136]),e(tt,[2,137]),e(tt,[2,138]),e(tt,[2,139]),e(tt,[2,140]),e(tt,[2,141]),e(tt,[2,142]),e(rt,[2,180],{295:[1,306],296:[1,307]}),e(rt,[2,183]),e(rt,[2,184]),e(rt,[2,185]),e(rt,[2,186]),e(rt,[2,187]),e(rt,[2,188]),e(nt,[2,189]),e(nt,[2,190]),e(nt,[2,191]),e(nt,[2,192]),e(rt,[2,193]),e(rt,[2,194]),e(rt,[2,195]),e(rt,[2,196]),e(rt,[2,197]),e(rt,[2,198]),e(K,Y,{63:162,67:163,24:308,68:Z}),e(R,[2,243]),e(we,[2,245]),e(s,[2,19]),{34:[1,309]},{34:[1,310]},e([37,38,191,276],[2,143],{247:311,248:[1,312]}),{13:l,16:d,34:[1,314],60:315,230:313,310:h},{13:l,16:d,34:Ke,60:294,193:316,195:Ye,310:h},e(et,[2,413]),e(et,[2,414]),e(_e,[2,145],{251:317,252:[1,318]}),e(C,D,{257:120,265:121,269:122,253:319,217:P,271:F,332:M}),{256:[1,320]},e(it,[2,431]),e(it,[2,432]),e(it,[2,433]),e(it,[2,434]),e(it,[2,435]),e(it,[2,436]),{256:[2,438]},e([37,38,191,248,252,256,276,293,333,334,335,336,337,338],[2,150],{259:321,260:322,261:323,263:324,271:[1,326],304:pe,305:ye,306:ge,307:ve,308:me,309:be,332:[1,325]}),e(Ee,[2,154],{267:327,268:328,26:at,329:ot}),e(Te,[2,156]),e(Te,[2,159]),e(Te,[2,160]),e(Te,[2,161],{35:st,93:ut}),e(Te,[2,162]),e(Te,[2,163]),e(Te,[2,164]),e(C,D,{245:116,249:118,253:119,257:120,265:121,269:122,36:333,217:P,271:F,332:M}),e(ct,[2,166]),{93:[1,334]},{35:[1,335]},{35:[1,336]},{35:[1,337]},{35:lt,93:dt,177:338},{35:[1,341]},{35:[1,343],93:[1,342]},{282:[1,344]},{35:[1,345]},{35:[1,346]},{35:[1,347]},e(ft,[2,453]),e(ft,[2,454]),e(ft,[2,455]),e(ft,[2,456]),e(ft,[2,457]),{282:[2,459]},e(Te,[2,157]),e(Te,[2,158]),{13:l,16:d,48:[1,348],60:350,87:re,97:349,98:351,99:352,100:ht,229:pt,261:187,263:188,294:183,297:se,298:ue,299:ce,300:le,301:de,302:fe,303:he,304:pe,305:ye,306:ge,307:ve,308:me,309:be,310:h},{48:[1,355],93:[1,356]},{46:[1,357]},e(He,[2,271]),e($,[2,50]),e($,[2,283]),{119:[1,358]},e($,[2,66]),e(v,B,{142:141,115:359,119:q,141:V}),e(ze,[2,65]),e($,[2,53]),{48:[1,360],119:[1,362],146:361},e(Qe,[2,328],{154:363,326:[1,364]}),{45:[1,365],134:366,135:yt},{45:[1,368],134:369,135:yt},e(gt,[2,258],{66:370,85:371,86:[1,372],88:[1,373]}),e(Je,[2,257]),{69:[1,374]},e(Q,[2,30],{272:231,278:236,281:239,82:271,72:272,73:273,60:274,84:375,13:l,16:d,35:Se,273:Ne,274:Ie,275:Re,277:ke,279:je,280:Ae,282:Ce,283:De,286:Pe,288:Le,310:h,338:Fe,339:Me,340:Ue,341:Be,342:qe,343:Ve}),e(vt,[2,262]),e(mt,[2,85]),e(mt,[2,86]),e(mt,[2,87]),{35:st,93:ut},{48:[1,376]},{48:[1,377]},{20:378,45:O,46:S,61:98},{20:379,45:O,46:S,61:98},e(bt,[2,332],{157:380}),e(bt,[2,331]),{13:l,16:d,34:ee,35:wt,39:385,60:178,87:re,93:ne,98:179,164:381,198:382,200:383,224:_t,229:L,241:384,242:177,243:ae,244:oe,261:187,263:188,294:183,297:se,298:ue,299:ce,300:le,301:de,302:fe,303:he,304:pe,305:ye,306:ge,307:ve,308:me,309:be,310:h},e(R,[2,20]),e(gt,[2,22]),{13:l,16:d,34:xt,35:Et,60:274,70:388,71:389,72:390,73:391,272:231,273:Ne,274:Ie,275:Re,277:ke,278:236,279:je,280:Ae,281:239,282:Ce,283:De,286:Pe,288:Le,310:h,338:Fe,339:Me,340:Ue,341:Be,342:qe,343:Ve},e(s,[2,16]),{48:[1,394]},{48:[2,235]},{48:[2,93]},e(I,[2,359],{48:[2,361]}),e(Ze,[2,94]),e(Tt,[2,366],{189:395}),e(I,Ot,{194:396,196:397}),e(I,[2,100]),e(I,[2,101]),e(I,[2,102]),e(Ze,[2,95]),e(Ze,[2,96]),e(Ze,[2,365]),{13:l,16:d,34:ee,35:te,38:[1,398],39:304,60:178,87:re,93:ne,98:179,185:302,197:399,224:ie,227:301,229:L,241:303,242:177,243:ae,244:oe,261:187,263:188,294:183,297:se,298:ue,299:ce,300:le,301:de,302:fe,303:he,304:pe,305:ye,306:ge,307:ve,308:me,309:be,310:h},e(St,[2,399]),e(Nt,[2,128]),e(Nt,[2,129]),e(Nt,[2,403]),e(Nt,[2,404]),{225:[1,400]},e(rt,[2,181]),{13:l,16:d,60:401,310:h},e(s,[2,18]),{38:[1,402]},{38:[1,403]},e(_e,[2,428]),e(C,D,{249:118,253:119,257:120,265:121,269:122,245:404,217:P,271:F,332:M}),{46:[1,405]},{46:[2,407]},{46:[2,408]},{13:l,16:d,34:ee,39:407,60:178,87:re,93:ne,98:179,229:L,235:406,241:408,242:177,243:ae,244:oe,261:187,263:188,294:183,297:se,298:ue,299:ce,300:le,301:de,302:fe,303:he,304:pe,305:ye,306:ge,307:ve,308:me,309:be,310:h},e(xe,[2,430]),e(C,D,{253:119,257:120,265:121,269:122,249:409,217:P,271:F,332:M}),e(xe,[2,148]),{35:lt,93:dt,177:410},e(Ee,[2,440]),e(C,D,{265:121,269:122,257:411,217:P,271:F,332:M}),e(Te,[2,443],{262:412}),e(Te,[2,445],{264:413}),e(it,[2,441]),e(it,[2,442]),e(Te,[2,448]),e(C,D,{269:122,265:414,217:P,271:F,332:M}),e(it,[2,449]),e(it,[2,450]),e(ct,[2,88]),e(it,[2,350],{175:415,314:[1,416]}),{38:[1,417]},e(ct,[2,167]),e(C,D,{245:116,249:118,253:119,257:120,265:121,269:122,36:418,217:P,271:F,332:M}),e(C,D,{245:116,249:118,253:119,257:120,265:121,269:122,36:419,217:P,271:F,332:M}),e(C,D,{245:116,249:118,253:119,257:120,265:121,269:122,36:420,217:P,271:F,332:M}),e(ct,[2,171]),e(ct,[2,90]),e(it,[2,354],{178:421}),{34:[1,422]},e(ct,[2,173]),e(C,D,{245:116,249:118,253:119,257:120,265:121,269:122,36:423,217:P,271:F,332:M}),{46:X,62:424},e(It,[2,460],{284:425,314:[1,426]}),e(it,[2,464],{287:427,314:[1,428]}),e(it,[2,466],{289:429,314:[1,430]}),e(U,[2,41]),e($e,[2,267]),e(Rt,[2,44]),e(Rt,[2,45]),e(Rt,[2,46]),e(Rt,[2,47]),{13:l,16:d,60:178,87:re,93:ne,98:179,99:433,119:[1,431],229:pt,239:432,242:434,243:ae,244:oe,261:187,263:188,294:183,297:se,298:ue,299:ce,300:le,301:de,302:fe,303:he,304:pe,305:ye,306:ge,307:ve,308:me,309:be,310:h},e(U,[2,42]),e(Ge,[2,269]),e(kt,[2,272],{96:435}),{13:l,16:d,60:436,310:h},e($,[2,52]),e([6,45,132,133,135,191],[2,68]),e(Qe,[2,317]),{13:l,16:d,34:[1,438],60:439,147:437,310:h},e(Qe,[2,70]),e(I,[2,327],{48:jt,119:jt}),{46:X,62:440},e(z,[2,300]),e(v,[2,307],{136:441,318:[1,442]}),{46:X,62:443},e(z,[2,306]),e(gt,[2,23]),e(gt,[2,259]),{87:[1,444]},{87:[1,445]},{13:l,16:d,34:At,35:Se,60:274,72:272,73:273,79:446,80:447,81:Ct,82:271,83:Dt,84:450,272:231,273:Ne,274:Ie,275:Re,277:ke,278:236,279:je,280:Ae,281:239,282:Ce,283:De,286:Pe,288:Le,310:h,338:Fe,339:Me,340:Ue,341:Be,342:qe,343:Ve},e(vt,[2,263]),e(Pt,[2,71]),e(Pt,[2,72]),e(Q,J,{64:154,74:155,21:452,75:W}),e(K,Y,{63:162,67:163,24:453,68:Z}),{46:[2,342],48:[2,73],89:463,90:o,119:[1,459],158:454,159:455,166:456,167:[1,457],168:[1,458],170:[1,460],173:[1,461],174:[1,462]},e(bt,[2,340],{165:464,326:[1,465]}),e(Lt,Ft,{199:466,202:467,208:468,209:470,34:Mt}),e(Ut,[2,374],{202:467,208:468,209:470,201:471,199:472,13:Ft,16:Ft,35:Ft,195:Ft,217:Ft,222:Ft,310:Ft,34:Mt}),e(Bt,[2,372]),e(Bt,[2,373]),{13:l,16:d,34:ee,35:wt,39:478,60:178,87:re,93:ne,98:179,200:476,204:474,224:_t,226:473,228:475,229:L,241:477,242:177,243:ae,244:oe,261:187,263:188,294:183,297:se,298:ue,299:ce,300:le,301:de,302:fe,303:he,304:pe,305:ye,306:ge,307:ve,308:me,309:be,310:h},e(Lt,Ft,{202:467,208:468,209:470,199:479,34:Mt}),e(K,[2,24],{272:231,278:236,281:239,60:274,72:390,73:391,71:480,13:l,16:d,34:xt,35:Et,273:Ne,274:Ie,275:Re,277:ke,279:je,280:Ae,282:Ce,283:De,286:Pe,288:Le,310:h,338:Fe,339:Me,340:Ue,341:Be,342:qe,343:Ve}),e(qt,[2,260]),e(qt,[2,25]),e(qt,[2,26]),e(C,D,{245:116,249:118,253:119,257:120,265:121,269:122,36:481,217:P,271:F,332:M}),e(qt,[2,29]),e(K,Y,{63:162,67:163,24:482,68:Z}),e([48,119,225,326],[2,97],{190:483,191:[1,484]}),e(Tt,[2,99]),{13:l,16:d,34:ee,35:te,39:304,60:178,87:re,93:ne,98:179,185:302,197:485,224:ie,227:301,229:L,241:303,242:177,243:ae,244:oe,261:187,263:188,294:183,297:se,298:ue,299:ce,300:le,301:de,302:fe,303:he,304:pe,305:ye,306:ge,307:ve,308:me,309:be,310:h},e(Vt,[2,124]),e(St,[2,400]),e(Vt,[2,125]),e(rt,[2,182]),e(A,[2,14]),e(A,[2,15]),e(_e,[2,144]),{13:l,16:d,34:ee,39:487,60:178,87:re,93:ne,98:179,229:L,231:486,241:488,242:177,243:ae,244:oe,261:187,263:188,294:183,297:se,298:ue,299:ce,300:le,301:de,302:fe,303:he,304:pe,305:ye,306:ge,307:ve,308:me,309:be,310:h},{233:[1,489]},{233:[2,415]},{233:[2,416]},e(xe,[2,146]),e(xe,[2,149]),e(Ee,[2,151]),e(Ee,[2,152],{268:328,267:490,26:at,329:ot}),e(Ee,[2,153],{268:328,267:491,26:at,329:ot}),e(Te,[2,155]),e(it,[2,352],{176:492}),e(it,[2,351]),e([6,13,16,26,34,35,37,38,46,48,78,81,83,86,87,88,90,93,119,167,168,170,173,174,191,224,229,243,244,248,252,256,271,273,274,275,276,277,279,280,282,283,286,288,293,297,298,299,300,301,302,303,304,305,306,307,308,309,310,326,329,332,333,334,335,336,337,338,339,340,341,342,343],[2,165]),{38:[1,493]},{276:[1,494]},{276:[1,495]},e(C,D,{245:116,249:118,253:119,257:120,265:121,269:122,36:496,217:P,271:F,332:M}),{38:[1,497]},{38:[1,498]},e(ct,[2,175]),e(C,D,{245:116,249:118,253:119,257:120,265:121,269:122,285:499,36:501,26:[1,500],217:P,271:F,332:M}),e(It,[2,461]),e(C,D,{245:116,249:118,253:119,257:120,265:121,269:122,36:502,217:P,271:F,332:M}),e(it,[2,465]),e(C,D,{245:116,249:118,253:119,257:120,265:121,269:122,36:503,217:P,271:F,332:M}),e(it,[2,467]),{13:l,16:d,34:[1,505],60:506,236:504,310:h},{13:l,16:d,34:Ke,60:294,193:507,195:Ye,310:h},e(et,[2,423]),e(et,[2,424]),{35:[1,510],48:[1,508],101:509},e($,[2,63]),{46:[1,511]},{46:[2,318]},{46:[2,319]},e($,[2,57]),{13:l,16:d,60:512,310:h},e(v,[2,308]),e($,[2,58]),e(gt,[2,36],{88:[1,513]}),e(gt,[2,37],{86:[1,514]}),e(Je,[2,31],{272:231,278:236,281:239,82:271,72:272,73:273,60:274,84:450,80:515,13:l,16:d,34:At,35:Se,81:Ct,83:Dt,273:Ne,274:Ie,275:Re,277:ke,279:je,280:Ae,282:Ce,283:De,286:Pe,288:Le,310:h,338:Fe,339:Me,340:Ue,341:Be,342:qe,343:Ve}),e($t,[2,264]),{35:Se,82:516},{35:Se,82:517},e($t,[2,34]),e($t,[2,35]),{31:518,48:[2,226],89:519,90:o},{32:520,48:[2,228],89:521,90:o},e(bt,[2,333]),e(Gt,[2,334],{160:522,326:[1,523]}),{46:X,62:524},{46:X,62:525},{46:X,62:526},{13:l,16:d,34:[1,528],60:529,169:527,310:h},e(Ht,[2,346],{171:530,319:[1,531]}),{13:l,16:d,35:Se,60:274,72:272,73:273,82:271,84:532,272:231,273:Ne,274:Ie,275:Re,277:ke,278:236,279:je,280:Ae,281:239,282:Ce,283:De,286:Pe,288:Le,310:h,338:Fe,339:Me,340:Ue,341:Be,342:qe,343:Ve},{35:[1,533]},e(zt,[2,84]),e(bt,[2,75]),e(I,[2,339],{46:Qt,48:Qt,90:Qt,119:Qt,167:Qt,168:Qt,170:Qt,173:Qt,174:Qt}),e(Ut,[2,104]),e(I,[2,378],{203:534}),e(I,[2,376]),e(I,[2,377]),e(Lt,[2,386],{210:535,211:536}),e(Ut,[2,105]),e(Ut,[2,375]),{13:l,16:d,34:ee,35:wt,38:[1,537],39:478,60:178,87:re,93:ne,98:179,200:476,204:538,224:_t,228:475,229:L,241:477,242:177,243:ae,244:oe,261:187,263:188,294:183,297:se,298:ue,299:ce,300:le,301:de,302:fe,303:he,304:pe,305:ye,306:ge,307:ve,308:me,309:be,310:h},e(St,[2,401]),e(Nt,[2,130]),e(Nt,[2,131]),e(Nt,[2,405]),e(Nt,[2,406]),{225:[1,539]},e(qt,[2,261]),{37:[1,541],38:[1,540]},e(s,[2,17]),e(Tt,[2,367]),e(Tt,[2,368],{193:292,60:294,192:542,188:543,13:l,16:d,34:Ke,195:Ye,310:h}),e(Jt,[2,103],{276:[1,544]}),{13:l,16:d,34:Ke,60:294,193:545,195:Ye,310:h},e(et,[2,409]),e(et,[2,410]),e(Wt,[2,133]),e(Te,[2,444]),e(Te,[2,446]),e(C,D,{245:116,249:118,253:119,257:120,265:121,269:122,36:546,217:P,271:F,332:M}),e(ct,[2,168]),e(C,D,{245:116,249:118,253:119,257:120,265:121,269:122,36:547,217:P,271:F,332:M}),e(C,D,{245:116,249:118,253:119,257:120,265:121,269:122,36:548,217:P,271:F,332:M}),{38:[1,549],276:[1,550]},e(ct,[2,172]),e(ct,[2,174]),{38:[1,551]},{38:[2,462]},{38:[2,463]},{38:[1,552]},{38:[2,468],191:[1,555],290:553,291:554},{46:[1,556]},{46:[2,417]},{46:[2,418]},{13:l,16:d,60:178,87:re,93:ne,98:179,99:558,229:pt,240:557,242:559,243:ae,244:oe,261:187,263:188,294:183,297:se,298:ue,299:ce,300:le,301:de,302:fe,303:he,304:pe,305:ye,306:ge,307:ve,308:me,309:be,310:h},e(U,[2,43]),e(kt,[2,273]),{13:l,16:d,60:350,87:re,97:561,98:351,99:352,100:ht,102:560,229:pt,261:187,263:188,294:183,297:se,298:ue,299:ce,300:le,301:de,302:fe,303:he,304:pe,305:ye,306:ge,307:ve,308:me,309:be,310:h},e(I,G,{152:146,148:562,151:563,48:[2,320]}),e(z,[2,61]),{87:[1,564]},{87:[1,565]},e($t,[2,265]),e($t,[2,32]),e($t,[2,33]),{48:[2,11]},{48:[2,227]},{48:[2,12]},{48:[2,229]},e(I,We,{163:281,161:566,162:567,46:Xt,48:Xt,90:Xt,119:Xt,167:Xt,168:Xt,170:Xt,173:Xt,174:Xt}),e(Gt,[2,335]),e(zt,[2,76],{327:[1,568]}),e(zt,[2,77]),e(zt,[2,78]),{46:X,62:569},{46:[2,344]},{46:[2,345]},{13:l,16:d,34:[1,571],60:572,172:570,310:h},e(Ht,[2,347]),e(zt,[2,81]),e(C,D,{245:116,249:118,253:119,257:120,265:121,269:122,36:573,39:574,217:P,229:L,271:F,332:M}),{13:l,16:d,34:ee,35:wt,39:478,60:178,87:re,93:ne,98:179,200:476,204:575,224:_t,228:475,229:L,241:477,242:177,243:ae,244:oe,261:187,263:188,294:183,297:se,298:ue,299:ce,300:le,301:de,302:fe,303:he,304:pe,305:ye,306:ge,307:ve,308:me,309:be,310:h},e(St,[2,109],{328:[1,576]}),e(Kt,[2,393],{212:577,216:578,222:[1,579]}),e(Yt,[2,126]),e(St,[2,402]),e(Yt,[2,127]),e(qt,[2,27]),{34:[1,580]},e(Tt,[2,98]),e(Tt,[2,369]),e(I,[2,371]),{13:l,16:d,34:ee,39:582,60:178,87:re,93:ne,98:179,229:L,232:581,241:583,242:177,243:ae,244:oe,261:187,263:188,294:183,297:se,298:ue,299:ce,300:le,301:de,302:fe,303:he,304:pe,305:ye,306:ge,307:ve,308:me,309:be,310:h},{38:[1,584],276:[1,585]},{38:[1,586]},{276:[1,587]},e(ct,[2,91]),e(it,[2,355]),e(ct,[2,176]),e(ct,[2,177]),{38:[1,588]},{38:[2,469]},{292:[1,589]},{13:l,16:d,60:178,87:re,93:ne,98:179,99:591,229:pt,237:590,242:592,243:ae,244:oe,261:187,263:188,294:183,297:se,298:ue,299:ce,300:le,301:de,302:fe,303:he,304:pe,305:ye,306:ge,307:ve,308:me,309:be,310:h},{233:[1,593]},{233:[2,425]},{233:[2,426]},{13:l,16:d,38:[1,594],60:350,87:re,97:595,98:351,99:352,100:ht,229:pt,261:187,263:188,294:183,297:se,298:ue,299:ce,300:le,301:de,302:fe,303:he,304:pe,305:ye,306:ge,307:ve,308:me,309:be,310:h},e(Zt,[2,274]),{48:[1,596]},{48:[2,321]},e(gt,[2,38]),e(gt,[2,39]),e(bt,[2,74]),e(bt,[2,337]),{46:[2,343]},e(zt,[2,79]),{46:X,62:597},{46:[2,348]},{46:[2,349]},{37:[1,598]},{37:[1,599]},e(Jt,[2,380],{205:600,276:[1,601]}),e(Lt,[2,385]),e([13,16,34,35,38,87,93,224,229,243,244,297,298,299,300,301,302,303,304,305,306,307,308,309,310,328],[2,110],{329:[1,602]}),{13:l,16:d,35:[1,608],60:605,195:[1,606],213:603,214:604,217:[1,607],310:h},e(Kt,[2,394]),{38:[1,609]},{48:[1,610]},{48:[2,411]},{48:[2,412]},e(ct,[2,89]),e(it,[2,353]),e(ct,[2,169]),e(C,D,{245:116,249:118,253:119,257:120,265:121,269:122,36:611,217:P,271:F,332:M}),e(ct,[2,178]),{293:[1,612]},{13:l,16:d,34:Ke,60:294,193:613,195:Ye,310:h},e(et,[2,419]),e(et,[2,420]),e(er,[2,135]),e(kt,[2,48]),e(Zt,[2,275]),e(tr,[2,322],{149:614,326:[1,615]}),e(zt,[2,80]),{34:[1,616]},{34:[1,617]},e([46,48,90,119,167,168,170,173,174,225,326],[2,106],{206:618,191:[1,619]}),e(I,[2,379]),e(Lt,[2,387]),e(rr,[2,112]),e(rr,[2,391],{215:620,330:621,26:[1,623],331:[1,622],332:[1,624]}),e(nr,[2,113]),e(nr,[2,114]),{13:l,16:d,35:[1,628],60:629,93:[1,627],195:ir,218:625,219:626,222:ar,310:h},e(Lt,Ft,{209:470,208:632}),e(qt,[2,28]),{233:[1,633]},{38:[1,634]},{294:635,300:le,301:de,302:fe,303:he},{13:l,16:d,60:178,87:re,93:ne,98:179,99:637,229:pt,238:636,242:638,243:ae,244:oe,261:187,263:188,294:183,297:se,298:ue,299:ce,300:le,301:de,302:fe,303:he,304:pe,305:ye,306:ge,307:ve,308:me,309:be,310:h},e(I,G,{152:146,150:639,151:640,48:or,119:or}),e(tr,[2,323]),{38:[1,641]},{38:[1,642]},e(Jt,[2,381]),e(Jt,[2,107],{209:470,207:643,208:644,13:Ft,16:Ft,35:Ft,195:Ft,217:Ft,222:Ft,310:Ft,34:[1,645]}),e(rr,[2,111]),e(rr,[2,392]),e(rr,[2,388]),e(rr,[2,389]),e(rr,[2,390]),e(nr,[2,115]),e(nr,[2,117]),e(nr,[2,118]),e(sr,[2,395],{220:646}),e(nr,[2,120]),e(nr,[2,121]),{13:l,16:d,60:647,195:[1,648],310:h},{38:[1,649]},e(Wt,[2,132]),e(ct,[2,170]),{38:[2,179]},{48:[1,650]},{48:[2,421]},{48:[2,422]},e(Qe,[2,69]),e(Qe,[2,325]),e(zt,[2,82]),e(zt,[2,83]),e(I,Ot,{196:397,194:651}),e(I,[2,382]),e(I,[2,383]),{13:l,16:d,38:[2,397],60:629,195:ir,219:653,221:652,222:ar,310:h},e(nr,[2,122]),e(nr,[2,123]),e(nr,[2,116]),{233:[1,654]},e(Jt,[2,108]),{38:[1,655]},{38:[2,398],328:[1,656]},e(er,[2,134]),e(nr,[2,119]),e(sr,[2,396])],defaultActions:{5:[2,204],6:[2,205],8:[2,203],26:[2,1],27:[2,3],28:[2,215],77:[2,49],86:[2,294],100:[2,251],107:[2,357],220:[2,438],248:[2,459],287:[2,235],288:[2,93],314:[2,407],315:[2,408],407:[2,415],408:[2,416],438:[2,318],439:[2,319],500:[2,462],501:[2,463],505:[2,417],506:[2,418],518:[2,11],519:[2,227],520:[2,12],521:[2,229],528:[2,344],529:[2,345],554:[2,469],558:[2,425],559:[2,426],563:[2,321],568:[2,343],571:[2,348],572:[2,349],582:[2,411],583:[2,412],635:[2,179],637:[2,421],638:[2,422]},parseError:function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)},parse:function(e){var t=this,r=[0],n=[null],i=[],a=this.table,o="",s=0,u=0,c=0,l=2,d=1,f=i.slice.call(arguments,1),h=Object.create(this.lexer),p={yy:{}};for(var y in this.yy)Object.prototype.hasOwnProperty.call(this.yy,y)&&(p.yy[y]=this.yy[y]);h.setInput(e,p.yy),p.yy.lexer=h,p.yy.parser=this,"undefined"==typeof h.yylloc&&(h.yylloc={});var g=h.yylloc;i.push(g);var v=h.options&&h.options.ranges;"function"===typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;var m,b,w,_,x,E,T,O,S,N=function(){var e;return e=h.lex()||d,"number"!==typeof e&&(e=t.symbols_[e]||e),e},I={};while(1){if(w=r[r.length-1],this.defaultActions[w]?_=this.defaultActions[w]:(null!==m&&"undefined"!=typeof m||(m=N()),_=a[w]&&a[w][m]),"undefined"===typeof _||!_.length||!_[0]){var R="";for(E in S=[],a[w])this.terminals_[E]&&E>l&&S.push("'"+this.terminals_[E]+"'");R=h.showPosition?"Parse error on line "+(s+1)+":\n"+h.showPosition()+"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(s+1)+": Unexpected "+(m==d?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(R,{text:h.match,token:this.terminals_[m]||m,line:h.yylineno,loc:g,expected:S})}if(_[0]instanceof Array&&_.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+m);switch(_[0]){case 1:r.push(m),n.push(h.yytext),i.push(h.yylloc),r.push(_[1]),m=null,b?(m=b,b=null):(u=h.yyleng,o=h.yytext,s=h.yylineno,g=h.yylloc,c>0&&c--);break;case 2:if(T=this.productions_[_[1]][1],I.$=n[n.length-T],I._$={first_line:i[i.length-(T||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(T||1)].first_column,last_column:i[i.length-1].last_column},v&&(I._$.range=[i[i.length-(T||1)].range[0],i[i.length-1].range[1]]),x=this.performAction.apply(I,[o,u,s,p.yy,_[1],n,i].concat(f)),"undefined"!==typeof x)return x;T&&(r=r.slice(0,-1*T*2),n=n.slice(0,-1*T),i=i.slice(0,-1*T)),r.push(this.productions_[_[1]][0]),n.push(I.$),i.push(I._$),O=a[r[r.length-2]][r[r.length-1]],r.push(O);break;case 3:return!0}}return!0}},cr=r("51b7").Wildcard,lr="http://www.w3.org/1999/02/22-rdf-syntax-ns#",dr=lr+"type",fr=lr+"first",hr=lr+"rest",pr=lr+"nil",yr="http://www.w3.org/2001/XMLSchema#",gr=yr+"integer",vr=yr+"decimal",mr=yr+"double",br=yr+"boolean",wr="",_r="",xr="";function Er(e){return e.toLowerCase()}function Tr(e,t){return e.push(t),e}function Or(e,t){return e.push.apply(e,t),e}function Sr(e){e||(e={});for(var t,r=1,n=arguments.length;r<n&&(t=arguments[r]||{});r++)for(var i in t)e[i]=t[i];return e}function Nr(){for(var e=[],t=0,r=arguments.length;t<r;t++)e=e.concat.apply(e,arguments[t]);return e}function Ir(e){if("<"===e[0]&&(e=e.substring(1,e.length-1)),/^[a-z]+:/i.test(e))return e;if(!un.base)throw new Error("Cannot resolve relative IRI "+e+" because no base IRI was set.");switch(wr!==un.base&&(wr=un.base,_r=wr.replace(/[^\/:]*$/,""),xr=wr.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),e[0]){case void 0:return wr;case"#":return wr+e;case"?":return wr.replace(/(?:\?.*)?$/,e);case"/":return xr+e;default:return _r+e}}function Rr(e){if(e){var t=e[0];if("?"===t||"$"===t)return un.factory.variable(e.substr(1))}return e}function kr(e,t){return{type:"operation",operator:e,args:t||[]}}function jr(e,t){var r={expression:"*"===e?new cr:e};if(t)for(var n in t)r[n]=t[n];return r}function Ar(e,t){return{type:"path",pathType:e,items:t}}function Cr(e,t){for(var r,n=0,i=t.length;n<i&&(r=t[n]);n++)e=kr(r[0],[e,r[1]]);return e}function Dr(e,t){var r,n=[],i=[],a=e.length,o={};if(!a)return null;for(var s=0;s<a&&(r=e[s]);s++)(r.named?i:n).push(r.iri);return o[t||"from"]={default:n,named:i},o}function Pr(e){return parseInt(e,10)}function Lr(e){return"group"===e.type&&1===e.patterns.length?e.patterns[0]:e}function Fr(e,t){return t&&"NamedNode"!==t.termType&&(t=un.factory.namedNode(t)),un.factory.literal(e,t)}function Mr(e,t){return un.factory.literal(e,t)}function Ur(e,t,r){var n={};return null!=e&&(n.subject=e),null!=t&&(n.predicate=t),null!=r&&(n.object=r),n}function Br(e){return"string"===typeof e?e.startsWith("e_")?un.factory.blankNode(e):un.factory.blankNode("e_"+e):un.factory.blankNode("g_"+qr++)}var qr=0;un._resetBlanks=function(){qr=0};var Vr=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,$r={"\\":"\\","'":"'",'"':'"',t:"\t",b:"\b",n:"\n",r:"\r",f:"\f"},Gr=/[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/,Hr=String.fromCharCode;function zr(e,t){e=e.substring(t,e.length-t);try{e=e.replace(Vr,(function(e,t,r,n){var i;if(t){if(i=parseInt(t,16),isNaN(i))throw new Error;return Hr(i)}if(r){if(i=parseInt(r,16),isNaN(i))throw new Error;return i<65535?Hr(i):Hr(55296+((i-=65536)>>10),56320+(1023&i))}var a=$r[n];if(!a)throw new Error;return a}))}catch(r){return""}if(Gr.exec(e))throw new Error("Invalid unicode codepoint of surrogate pair without corresponding codepoint in "+e);return e}function Qr(e){var t=Br(),r=t,n=[],i=[];e.forEach((function(e){n.push(e.entity),Or(i,e.triples)}));for(var a=0,o=0,s=n.length,u=Array(2*s);a<s;)u[o++]=Ur(r,un.factory.namedNode(fr),n[a]),u[o++]=Ur(r,un.factory.namedNode(hr),r=++a<s?Br():un.factory.namedNode(pr));return{entity:t,triples:Or(u,i)}}function Jr(e){var t=Br();return{entity:t,triples:e.map((function(e){return Sr(Ur(t),e)}))}}function Wr(e,t,r){var n=[],i=[];return t.forEach((function(t){n.push(Ur(null,e,t.entity)),Or(i,t.triples)})),Nr(n,r||[],i)}function Xr(e){return e.variable?e.variable.value:e.value||e.expression.value}function Kr(e){if(!e)return[];if("aggregate"===e.type)return[e];if("operation"===e.type){const t=[];for(const r of e.args)t.push(...Kr(r));return t}return[]}function Yr(e){const t=new Set,r=function(e){e&&("Variable"===e.termType?t.add(e):"operation"===e.type&&e.args.forEach(r))};return r(e),t}function Zr(e,t=1,r=[]){for(const n of e)t>0&&n instanceof Array?Zr(n,t-1,r):r.push(n);return r}function en(e){return"Variable"===e.termType}function tn(e){if(e.triples){const t=[];for(const r of e.triples)en(r.subject)&&t.push(r.subject.value),en(r.predicate)&&t.push(r.predicate.value),en(r.object)&&t.push(r.object.value);return t}if(e.patterns){const t=[];for(const r of e.patterns)t.push(...tn(r));return t}return[]}function rn(e){const t=e.slice().sort(),r=[];for(let n=0;n<t.length-1;n++)t[n+1]==t[n]&&r.push(t[n]);return r}function nn(e){if(!un.sparqlStar)throw new Error("SPARQL* support is not enabled");return e}function an(e){for(const t of e){if("graph"===t.type&&"Variable"===t.name.termType)throw new Error("Detected illegal variable in GRAPH");if("bgp"===t.type||"graph"===t.type)for(const e of t.triples)if("Variable"===e.subject.termType||"Variable"===e.predicate.termType||"Variable"===e.object.termType)throw new Error("Detected illegal variable in BGP")}return e}function on(e){for(const t of e)if("bgp"===t.type)for(const e of t.triples)if("BlankNode"===e.subject.termType||"BlankNode"===e.predicate.termType||"BlankNode"===e.object.termType)throw new Error("Detected illegal blank node in BGP");return e}var sn=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),n=e[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var a in i)this[a]=i[a];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length;a++)if(r=this._input.match(this.rules[i[a]]),r&&(!t||r[0].length>t[0].length)){if(t=r,n=a,this.options.backtrack_lexer){if(e=this.test_match(r,i[a]),!1!==e)return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?(e=this.test_match(t,i[n]),!1!==e&&e):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){var e=this.conditionStack.length-1;return e>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions["INITIAL"].rules},topState:function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(e,t,r,n){switch(r){case 0:break;case 1:return 12;case 2:return 15;case 3:return 28;case 4:return 314;case 5:return 315;case 6:return 35;case 7:return 37;case 8:return 38;case 9:return 26;case 10:return 41;case 11:return 45;case 12:return 46;case 13:return 48;case 14:return 50;case 15:return 55;case 16:return 58;case 17:return 318;case 18:return 68;case 19:return 69;case 20:return 75;case 21:return 78;case 22:return 81;case 23:return 83;case 24:return 86;case 25:return 88;case 26:return 90;case 27:return 191;case 28:return 107;case 29:return 319;case 30:return 140;case 31:return 320;case 32:return 321;case 33:return 117;case 34:return 322;case 35:return 116;case 36:return 323;case 37:return 324;case 38:return 120;case 39:return 122;case 40:return 123;case 41:return 138;case 42:return 132;case 43:return 133;case 44:return 135;case 45:return 141;case 46:return 119;case 47:return 325;case 48:return 326;case 49:return 167;case 50:return 170;case 51:return 174;case 52:return 100;case 53:return 168;case 54:return 327;case 55:return 173;case 56:return 229;case 57:return 233;case 58:return 276;case 59:return 195;case 60:return 328;case 61:return 329;case 62:return 222;case 63:return 331;case 64:return 332;case 65:return 217;case 66:return 224;case 67:return 225;case 68:return 248;case 69:return 252;case 70:return 293;case 71:return 333;case 72:return 334;case 73:return 335;case 74:return 336;case 75:return 337;case 76:return 256;case 77:return 338;case 78:return 271;case 79:return 279;case 80:return 280;case 81:return 273;case 82:return 274;case 83:return 275;case 84:return 339;case 85:return 340;case 86:return 277;case 87:return 342;case 88:return 341;case 89:return 343;case 90:return 282;case 91:return 283;case 92:return 286;case 93:return 288;case 94:return 292;case 95:return 296;case 96:return 299;case 97:return 13;case 98:return 16;case 99:return 310;case 100:return 243;case 101:return 34;case 102:return 295;case 103:return 87;case 104:return 297;case 105:return 298;case 106:return 304;case 107:return 305;case 108:return 306;case 109:return 307;case 110:return 308;case 111:return 309;case 112:return"EXPONENT";case 113:return 300;case 114:return 301;case 115:return 302;case 116:return 303;case 117:return 93;case 118:return 244;case 119:return 6;case 120:return"INVALID";case 121:console.log(t.yytext);break}},rules:[/^(?:\s+|(#[^\n\r]*))/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true|false)/i,/^(?:(<(?:[^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:)((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?))/i,/^(?:([\?\$]((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121],inclusive:!0}}};return e}();function un(){this.yy={}}return ur.lexer=sn,un.prototype=ur,ur.Parser=un,new un}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(n){n[1]||(console.log("Usage: "+n[0]+" FILE"),e.exit(1));var i=r(18).readFileSync(r(19).normalize(n[1]),"utf8");return t.parser.parse(i)},r.c[r.s]===n&&t.main(e.argv.slice(1))}).call(this,r("4362"),r("62e4")(e))},f183:function(e,t,r){var n=r("d012"),i=r("861d"),a=r("5135"),o=r("9bf2").f,s=r("90e3"),u=r("bb2f"),c=s("meta"),l=0,d=Object.isExtensible||function(){return!0},f=function(e){o(e,c,{value:{objectID:"O"+ ++l,weakData:{}}})},h=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,c)){if(!d(e))return"F";if(!t)return"E";f(e)}return e[c].objectID},p=function(e,t){if(!a(e,c)){if(!d(e))return!0;if(!t)return!1;f(e)}return e[c].weakData},y=function(e){return u&&g.REQUIRED&&d(e)&&!a(e,c)&&f(e),e},g=e.exports={REQUIRED:!1,fastKey:h,getWeakData:p,onFreeze:y};n[c]=!0},f3bd:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return f}));var n=r("ff5e"),i=r("8712"),a=r.n(i);const{xsd:o}=n["a"],s=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,u={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},c=/[\x00-\x20<>\\"\{\}\|\^\`]/,l={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},d=/$0^/;class f{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const e in this)!(e in l)&&this[e]instanceof RegExp&&(this[e]=d)}else this._n3Mode=!1!==e.n3;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,t){let r=this._input;const n=this._comments;while(1){let a,s;while(a=this._newline.exec(r))n&&(s=this._comment.exec(a[0]))&&e(null,{line:this._line,type:"comment",value:s[1],prefix:""}),r=r.substr(a[0].length,r.length),this._line++;if(!a&&(a=this._whitespace.exec(r))&&(r=r.substr(a[0].length,r.length)),this._endOfFile.test(r))return t&&(n&&(s=this._comment.exec(r))&&e(null,{line:this._line,type:"comment",value:s[1],prefix:""}),e(r=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=r;const u=this._line,l=r[0];let d="",f="",h="",p=null,y=0,g=!1;switch(l){case"^":if(r.length<3)break;if("^"!==r[1]){this._n3Mode&&(y=1,d="^");break}if(this._previousMarker="^^",r=r.substr(2),"<"!==r[0]){g=!0;break}case"<":if(p=this._unescapedIri.exec(r))d="IRI",f=p[1];else if(p=this._iri.exec(r)){if(f=this._unescape(p[1]),null===f||c.test(f))return i(this);d="IRI"}else r.length>1&&"<"===r[1]?(d="<<",y=2):this._n3Mode&&r.length>1&&"="===r[1]&&(d="inverse",y=2,f=">");break;case">":r.length>1&&">"===r[1]&&(d=">>",y=2);break;case"_":((p=this._blank.exec(r))||t&&(p=this._blank.exec(r+" ")))&&(d="blank",h="_",f=p[1]);break;case'"':if(p=this._simpleQuotedString.exec(r))f=p[1];else if(({value:f,matchLength:y}=this._parseLiteral(r)),null===f)return i(this);null===p&&0===y||(d="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(p=this._simpleApostropheString.exec(r))f=p[1];else if(({value:f,matchLength:y}=this._parseLiteral(r)),null===f)return i(this);null===p&&0===y||(d="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(p=this._variable.exec(r))&&(d="var",f=p[0]);break;case"@":"literal"===this._previousMarker&&(p=this._langcode.exec(r))?(d="langcode",f=p[1]):(p=this._keyword.exec(r))&&(d=p[0]);break;case".":if(1===r.length?t:r[1]<"0"||r[1]>"9"){d=".",y=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(p=this._number.exec(r)||t&&(p=this._number.exec(r+" ")))&&(d="literal",f=p[0],h="string"===typeof p[1]?o.double:"string"===typeof p[2]?o.decimal:o.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(p=this._sparqlKeyword.exec(r))?d=p[0].toUpperCase():g=!0;break;case"f":case"t":(p=this._boolean.exec(r))?(d="literal",f=p[0],h=o.boolean):g=!0;break;case"a":(p=this._shortPredicates.exec(r))?(d="abbreviation",f="a"):g=!0;break;case"=":this._n3Mode&&r.length>1&&(d="abbreviation",">"!==r[1]?(y=1,f="="):(y=2,f=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(y=1,d=l);break;default:g=!0}if(g&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(p=this._prefix.exec(r))?((p=this._prefixed.exec(r))||t&&(p=this._prefixed.exec(r+" ")))&&(d="prefixed",h=p[1]||"",f=this._unescape(p[2])):(d="prefix",f=p[1]||"")),"^^"===this._previousMarker)switch(d){case"prefixed":d="type";break;case"IRI":d="typeIRI";break;default:d=""}if(!d)return t||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?i(this):this._input=r;const v={line:u,type:d,value:f,prefix:h};e(null,v),this.previousToken=v,this._previousMarker=d,r=r.substr(y||p[0].length,r.length)}function i(t){e(t._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){let t=!1;const r=e.replace(s,(e,r,n,i)=>{if("string"===typeof r)return String.fromCharCode(Number.parseInt(r,16));if("string"===typeof n){let e=Number.parseInt(n,16);return e<=65535?String.fromCharCode(Number.parseInt(n,16)):String.fromCharCode(55296+((e-=65536)>>10),56320+(1023&e))}return i in u?u[i]:(t=!0,"")});return t?null:r}_parseLiteral(e){if(e.length>=3){const t=e.match(/^(?:"""|"|'''|'|)/)[0],r=t.length;let n=Math.max(this._literalClosingPos,r);while((n=e.indexOf(t,n))>0){let t=0;while("\\"===e[n-t-1])t++;if(t%2===0){const t=e.substring(r,n),i=t.split(/\r\n|\r|\n/).length-1,a=n+r;if(1===r&&0!==i||3===r&&this._lineMode)break;return this._line+=i,{value:this._unescape(t),matchLength:a}}n++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const t=new Error(`Unexpected "${e}" on line ${this._line}.`);return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}tokenize(t,r){if(this._line=1,"string"===typeof t){if(this._input=t,"function"!==typeof r){const e=[];let t;if(this._tokenizeToEnd((r,n)=>r?t=r:e.push(n),!0),t)throw t;return e}a()(()=>this._tokenizeToEnd(r,!0))}else this._input="",this._pendingBuffer=null,"function"===typeof t.setEncoding&&t.setEncoding("utf8"),t.on("data",t=>{null!==this._input&&0!==t.length&&(this._pendingBuffer&&(t=e.concat([this._pendingBuffer,t]),this._pendingBuffer=null),128&t[t.length-1]?this._pendingBuffer=t:(this._input+=t,this._tokenizeToEnd(r,!1)))}),t.on("end",()=>{null!==this._input&&this._tokenizeToEnd(r,!0)}),t.on("error",r)}}}).call(this,r("b639").Buffer)},f4a4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("2c03"),i=r("9659"),a=r("ef12"),o=r("694b"),s=r("5189"),u=r("b4c9").Parser,c=n.types;let l,d=new Set,f=0,h=!1;function p(e,t){if(t=t||{},l=new i.default(t.dataFactory),g(e)){let r=new u(t);r._resetBlanks(),e=r.parse(e)}return y(e,t.quads,t.blankToVariable)}function y(e,t,r){if(d=new Set,f=0,h=t,!e.type)return l.createProject(l.createBgp([]),[]);if("query"!==e.type&&"update"!==e.type)throw new Error("Translate only works on complete query or update objects.");let n,i=new Set(Object.keys(b(e)).map(l.createTerm.bind(l)));if("query"===e.type){let t={type:"group",patterns:e.where||[]};n=w(t),n=D(e,n,i)}else"update"===e.type&&(n=F(e));return r&&(n=G(n,i)),n}function g(e){return"string"===typeof e}function v(e){return null!==e&&"object"===typeof e}function m(e){return e&&"Variable"===e.termType}function b(e){let t={};if(m(e))t[s.termToString(e)]=!0,d.add(e);else if(v(e))if("bind"===e.type)b(e.expression),Object.assign(t,b(e.variable));else if("SELECT"===e.queryType){let r=b(e.where);for(let n of e.variables)a.default.isWildcard(n)?Object.assign(t,r):n.variable?Object.assign(t,b(n.variable)):Object.assign(t,b(n));if(e.group)for(let n of e.group)Object.assign(t,b(n))}else for(let r of Object.keys(e))Object.assign(t,b(e[r]));return t}function w(e){let t,r=[],n=[];if(e.patterns)for(let i of e.patterns)("filter"===i.type?r:n).push(i);if("bgp"===e.type)return x(e);if("union"===e.type)t=n.map(e=>("group"!==e.type&&(e={type:"group",patterns:[e]}),w(e))).reduce((e,t)=>l.createUnion(e,t));else{if("graph"===e.type)return I(e);if("group"===e.type)t=n.reduce(j,l.createBgp([]));else if("values"===e.type)t=C(e);else{if("query"!==e.type)throw new Error("Unexpected type: "+e.type);t=y(e,h,!1)}}if(r.length>0){let e=r.map(e=>_(e.expression));e.length>0&&(t=l.createFilter(t,e.reduce((e,t)=>l.createOperatorExpression("&&",[e,t]))))}return t}function _(e){if(a.default.isTerm(e)||"Quad"===e.termType)return l.createTermExpression(e);if(a.default.isWildcard(e))return l.createWildcardExpression();if(e.aggregation)return l.createAggregateExpression(e.aggregation,_(e.expression),e.distinct,e.separator);if(e.function)return l.createNamedExpression(e.function,e.args.map(_));if(e.operator)return"exists"===e.operator||"notexists"===e.operator?l.createExistenceExpression("notexists"===e.operator,w(e.args[0])):("in"!==e.operator&&"notin"!==e.operator||(e.args=[e.args[0]].concat(e.args[1])),l.createOperatorExpression(e.operator,e.args.map(_)));throw new Error("Unknown expression: "+JSON.stringify(e))}function x(e){let t=[],r=[];for(let n of e.triples)if("path"===n.predicate.type){let e=E(n);for(let n of e)n.type===c.PATH?(t.length>0&&r.push(l.createBgp(t)),t=[],r.push(n)):t.push(n)}else t.push(N(n));return t.length>0&&r.push(l.createBgp(t)),1===r.length?r[0]:r.reduce((e,t)=>l.createJoin(e,t))}function E(e){let t=e.subject,r=T(e.predicate),n=e.object;return O(t,r,n)}function T(e){if(a.default.isTerm(e)&&"NamedNode"===e.termType)return l.createLink(e);if("^"===e.pathType)return l.createInv(T(e.items[0]));if("!"===e.pathType){let t,r=[],n=[];t="path"===e.items[0].type&&"|"===e.items[0].pathType?e.items[0].items:e.items;for(let e of t)if(a.default.isTerm(e))r.push(e);else{if("^"!==e.pathType)throw new Error("Unexpected item: "+JSON.stringify(e));n.push(e.items[0])}let i=l.createNps(r),o=l.createInv(l.createNps(n));return 0===n.length?i:0===r.length?o:l.createAlt(i,o)}if("/"===e.pathType)return e.items.map(T).reduce((e,t)=>l.createSeq(e,t));if("|"===e.pathType)return e.items.map(T).reduce((e,t)=>l.createAlt(e,t));if("*"===e.pathType)return l.createZeroOrMorePath(T(e.items[0]));if("+"===e.pathType)return l.createOneOrMorePath(T(e.items[0]));if("?"===e.pathType)return l.createZeroOrOnePath(T(e.items[0]));throw new Error("Unable to translate path expression "+JSON.stringify(e))}function O(e,t,r){if(t.type===c.LINK)return[l.createPattern(e,t.iri,r)];if(t.type===c.INV)return O(r,t.path,e);if(t.type===c.SEQ){let n=S(),i=O(e,t.left,n),a=O(n,t.right,r);return i.concat(a)}return[l.createPath(e,t,r)]}function S(){let e="?var"+f++;return d.has(e)?S():(d.add(e),l.createTerm(e))}function N(e){return l.createPattern(e.subject,e.predicate,e.object,e.graph)}function I(e){e.type="group";let t=w(e);return t=h?k(t,e.name):l.createGraph(t,e.name),t}t.default=p;let R=Object.keys(c).map(e=>c[e]);function k(e,t,r){if(e.type===c.GRAPH){if(r)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");const t=e;e=k(t.input,t.name)}else if(e.type===c.BGP)e.patterns=e.patterns.map(e=>(r&&(e.subject.equals(t)&&(e.subject=r),e.predicate.equals(t)&&(e.predicate=r),e.object.equals(t)&&(e.object=r)),"DefaultGraph"===e.graph.termType&&(e.graph=t),e));else if(e.type===c.PATH){const n=e;r&&(n.subject.equals(t)&&(n.subject=r),n.object.equals(t)&&(n.object=r)),"DefaultGraph"===e.graph.termType&&(e.graph=t)}else if(e.type!==c.PROJECT||r)if(e.type!==c.EXTEND||r)for(let n of Object.keys(e))Array.isArray(e[n])?e[n]=e[n].map(e=>k(e,t,r)):R.indexOf(e[n].type)>=0?e[n]=k(e[n],t,r):r&&m(e[n])&&e[n].equals(t)&&(e[n]=r);else{const n=e;n.variable.equals(t)&&(r=S()),n.input=k(n.input,t,r)}else{const n=e;n.variables.some(e=>e.equals(t))||(r=S()),n.input=k(n.input,t,r)}return e}function j(e,t){if("optional"===t.type){let r=w({type:"group",patterns:t.patterns});if(r.type===c.FILTER){let t=r;e=l.createLeftJoin(e,t.input,t.expression)}else e=l.createLeftJoin(e,r)}else if("minus"===t.type){let r=w({type:"group",patterns:t.patterns});e=l.createMinus(e,r)}else if("bind"===t.type)e=l.createExtend(e,t.variable,_(t.expression));else if("service"===t.type){t.type="group";let r=l.createService(w(t),t.name,t.silent);e=A(e,r)}else{let r=w(t);e=A(e,r)}return e}function A(e,t){return e.type===c.BGP&&t.type===c.BGP?e=l.createBgp([].concat(e.patterns,t.patterns)):e.type===c.BGP&&0===e.patterns.length?e=t:t.type===c.BGP&&0===t.patterns.length||(e=l.createJoin(e,t)),e}function C(e){let t=(0===e.values.length?[]:Object.keys(e.values[0])).map(l.createTerm.bind(l)),r=e.values.map(e=>{let t=Object.keys(e);t=t.filter(t=>void 0!==e[t]);let r={};for(let n of t)r[n]=e[n];return r});return l.createValues(t,r)}function D(e,t,r){let n=[],i={};if(e.variables=P(e.variables,i),e.having=P(e.having,i),e.order=P(e.order,i),e.group||Object.keys(i).length>0){let r=Object.keys(i).map(e=>L(i[e],l.createTerm(e))),n=[];if(e.group)for(let i of e.group)if(i.expression.type){const e=i.variable?i.variable:S();t=l.createExtend(t,e,_(i.expression)),n.push(e)}else n.push(i.expression);t=l.createGroup(t,n,r)}if(e.having)for(let a of e.having)t=l.createFilter(t,_(a));e.values&&(t=l.createJoin(t,C(e)));let o=new Set;if("SELECT"===e.queryType||"DESCRIBE"===e.queryType)if(e.variables.some(e=>e&&a.default.isWildcard(e)))o=r;else for(let a of e.variables)m(a)||!a.variable?o.add(a):a.variable&&(o.add(a.variable),n.push(a));for(let a of n)t=l.createExtend(t,a.variable,_(a.expression));return e.order&&(t=l.createOrderBy(t,e.order.map(e=>{let t=_(e.expression);return e.descending&&(t=l.createOperatorExpression(c.DESC,[t])),t}))),"SELECT"===e.queryType&&(t=l.createProject(t,Array.from(o))),e.distinct&&(t=l.createDistinct(t)),e.reduced&&(t=l.createReduced(t)),"CONSTRUCT"===e.queryType?t=l.createConstruct(t,e.template.map(N)):"ASK"===e.queryType?t=l.createAsk(t):"DESCRIBE"===e.queryType&&(t=l.createDescribe(t,Array.from(o))),(e.offset||e.limit)&&(t=l.createSlice(t,e.offset,e.limit)),e.from&&(t=l.createFrom(t,e.from.default,e.from.named)),t}function P(e,t){if(!e)return e;if("aggregate"===e.type){let r,n=!1;for(let i of Object.keys(t))if(o(t[i],e)){r=l.createTerm(i),n=!0;break}return n||(r=S(),t[s.termToString(r)]=e),r}return e.expression?e.expression=P(e.expression,t):e.args?P(e.args,t):Array.isArray(e)&&e.forEach((r,n)=>e[n]=P(r,t)),e}function L(e,t){if("aggregate"!==e.type||!e.aggregation)throw new Error("Unexpected input: "+JSON.stringify(e));let r=_(e);return r.variable=t,r}function F(e){return 1===e.updates.length?M(e.updates[0]):l.createCompositeUpdate(e.updates.map(M))}function M(e){if("insertdelete"===e.updateType||"deletewhere"===e.updateType||"delete"===e.updateType||"insert"===e.updateType)return U(e);if("load"===e.type)return V(e);if("clear"===e.type||"create"===e.type||"drop"===e.type)return q(e);if("add"===e.type||"copy"===e.type||"move"===e.type)return $(e);throw new Error("Unknown update type "+e.updateType)}function U(e){if(!h)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let t,r=[],n=[];return e.delete&&(r=a.default.flatten(e.delete.map(t=>B(t,e.graph)))),e.insert&&(n=a.default.flatten(e.insert.map(t=>B(t,e.graph)))),e.where&&e.where.length>0?(t=w({type:"group",patterns:e.where}),e.using?t=l.createFrom(t,e.using.default,e.using.named):e.graph&&(t=k(t,e.graph))):"deletewhere"===e.updateType&&r.length>0&&(t=l.createBgp(r)),l.createDeleteInsert(r.length>0?r:void 0,n.length>0?n:void 0,t)}function B(e,t){let r=t;"graph"===e.type&&(r=e.name);let n=e.triples;return r&&(n=n.map(e=>Object.assign(e,{graph:r}))),n.map(N)}function q(e){let t;switch(t=e.graph.all?"ALL":e.graph.default?"DEFAULT":e.graph.named?"NAMED":e.graph.name,e.type){case"clear":return l.createClear(t,e.silent);case"create":return l.createCreate(t,e.silent);case"drop":return l.createDrop(t,e.silent)}}function V(e){return l.createLoad(e.source,e.destination,e.silent)}function $(e){const t=e.source.default?"DEFAULT":e.source.name,r=e.destination.default?"DEFAULT":e.destination.name;switch(e.type){case"copy":return l.createCopy(t,r,e.silent);case"move":return l.createMove(t,r,e.silent);case"add":return l.createAdd(t,r,e.silent)}}function G(e,t){const r={},n=Array.from(t).reduce((e,t)=>(e[t.value]=!0,e),{});return a.default.mapOperation(e,{deleteinsert:e=>({result:e,recurse:!1}),path:(e,t)=>({result:t.createPath(i(e.subject),e.predicate,i(e.object),i(e.graph)),recurse:!1}),pattern:(e,t)=>({result:t.createPattern(i(e.subject),i(e.predicate),i(e.object),i(e.graph)),recurse:!1}),construct:e=>({result:l.createConstruct(G(e.input,t),e.template),recurse:!1})});function i(e){if("BlankNode"===e.termType){let t=r[e.value];return t||(t=a.default.createUniqueVariable(e.value,n,l.dataFactory),n[t.value]=!0,r[e.value]=t),t}return e}}},f51a:function(e,t,r){"use strict";var n=r("dbce"),i=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.parseRDFaDOM=t.default=void 0;var a=i(r("970b")),o=i(r("5bc3")),s=i(r("43f6")),u=i(r("085a")),c=i(r("606c")),l=n(r("3897")),d=n(r("4b68")),f=i(r("8fd3"));if("undefined"===typeof h)var h={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};var p=function(){function e(t,r){(0,a.default)(this,e),this.options=r||{},this.kb=t,this.target=r.target||{graph:{subjects:{},prefixes:{},terms:{}}},this.blankNodes=[],this.htmlOptions={selfClosing:"br img input area base basefont col colgroup source wbr isindex link meta param hr"},this.theOne="_:"+(new Date).getTime(),this.language=null,this.vocabulary=null,this.blankCounter=0,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}],this.inXHTMLMode=!1,this.absURIRE=/[\w\_\-]+:\S+/,this.finishedHandlers=[],this.init()}return(0,o.default)(e,[{key:"addTriple",value:function(e,t,r,n){var i,a,o,s;i="undefined"===typeof t?f.default.namedNode(this.options.base):this.toRDFNodeObject(t),o=this.toRDFNodeObject(r),a=this.toRDFNodeObject(n),s=f.default.namedNode(this.options.base),this.kb.add(i,o,a,s)}},{key:"ancestorPath",value:function(e){var t="";while(e&&e.nodeType!==h.DOCUMENT_NODE)t="/"+e.localName+t,e=e.parentNode;return t}},{key:"copyMappings",value:function(e){var t={};for(var r in e)t[r]=e[r];return t}},{key:"copyProperties",value:function(){}},{key:"deriveDateTimeType",value:function(t){for(var r=0;r<e.dateTimeTypes.length;r++){var n=e.dateTimeTypes[r].pattern.exec(t);if(n&&n[0].length===t.length)return e.dateTimeTypes[r].type}return null}},{key:"init",value:function(){}},{key:"newBlankNode",value:function(){return this.blankCounter++,"_:"+this.blankCounter}},{key:"newSubjectOrigin",value:function(e,t){}},{key:"parseCURIE",value:function(t,r,n){var i,a=t.indexOf(":");if(a>=0){var o=t.substring(0,a);if(""===o)return i=r[""],i?i+t.substring(a+1):null;if("_"===o)return"_:"+t.substring(a+1);if(e.NCNAME.test(o)&&(i=r[o],i))return i+t.substring(a+1)}return null}},{key:"parseCURIEOrURI",value:function(e,t,r){var n=this.parseCURIE(e,t,r);return n||this.resolveAndNormalize(r,e)}},{key:"parsePredicate",value:function(e,t,r,n,i,a){if(""===e)return null;var o=this.parseTermOrCURIEOrAbsURI(e,t,a?null:r,n,i);return o&&0===o.indexOf("_:")?null:o}},{key:"parsePrefixMappings",value:function(e,t){for(var r=this.tokenize(e),n=null,i=0;i<r.length;i++)":"===r[i][r[i].length-1]?n=r[i].substring(0,r[i].length-1):n&&(t[n]=this.options.base?l.join(r[i],this.options.base):r[i],n=null)}},{key:"parseSafeCURIEOrCURIEOrURI",value:function(e,t,r){return e=this.trim(e),"["===e.charAt(0)&&"]"===e.charAt(e.length-1)?(e=e.substring(1,e.length-1),e=e.trim(e),0===e.length?null:"_:"===e?this.theOne:this.parseCURIE(e,t,r)):this.parseCURIEOrURI(e,t,r)}},{key:"parseTermOrCURIEOrAbsURI",value:function(e,t,r,n,i){e=this.trim(e);var a=this.parseCURIE(e,n,i);if(a)return a;if(r){if(t&&!this.absURIRE.exec(e))return t+e;var o=r[e];if(o)return o;var s=e.toLowerCase();if(o=r[s],o)return o}return this.absURIRE.exec(e)?this.resolveAndNormalize(i,e):null}},{key:"parseTermOrCURIEOrURI",value:function(e,t,r,n,i){e=this.trim(e);var a=this.parseCURIE(e,n,i);if(a)return a;var o=r[e];if(o)return o;var s=e.toLowerCase();return o=r[s],o||(t&&!this.absURIRE.exec(e)?t+e:this.resolveAndNormalize(i,e))}},{key:"parseURI",value:function(e){return e}},{key:"process",value:function(t,r){var n;r=r||{},t.nodeType===h.DOCUMENT_NODE?(t.baseURI&&!r.baseURI&&(r.baseURI=t.baseURI),n=t.baseURI,t=t.documentElement,t.baseURI||(t.baseURI=n),this.setContext(t)):t.parentNode.nodeType===h.DOCUMENT_NODE&&this.setContext(t);var i=[],a=function(e){if(!e&&r&&r.baseURI)return r.baseURI;var t=e.indexOf("#");return t>=0&&(e=e.substring(0,t)),r&&r.baseURIMap&&(e=r.baseURIMap(e)),e};i.push({current:t,context:this.push(null,a(t.baseURI))});while(i.length>0){var o=i.shift();if(o.parent){if(o.context.parent&&o.context.parent.listMapping===o.listMapping)continue;for(var s in o.listMapping){var u=o.listMapping[s];if(0!==u.length){for(var c=[],d=0;d<u.length;d++)c.push(this.newBlankNode());for(var f=0;f<c.length;f++)this.addTriple(o.parent,c[f],"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",u[f]),this.addTriple(o.parent,c[f],"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",{type:e.objectURI,value:f+1<c.length?c[f+1]:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"});this.addTriple(o.parent,o.subject,s,{type:e.objectURI,value:c[0]})}else this.addTriple(o.parent,o.subject,s,{type:e.objectURI,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"})}}else{var p=o.current,y=o.context,g=!1,v=null,m=null,b=null,w=y.prefixes,_=!1,x=[],E=y.listMapping,T=!y.parent,O=y.language,S=y.vocabulary;n=this.parseURI(a(p.baseURI)),p.item=null;var N=p.getAttributeNode("vocab");if(N){var I=this.trim(N.value);if(I.length>0){S=I;var R=n.spec;this.addTriple(p,R,"http://www.w3.org/ns/rdfa#usesVocabulary",{type:e.objectURI,value:S})}else S=this.vocabulary}for(var k=0;k<p.attributes.length;k++){var j=p.attributes[k];if("x"===j.nodeName.charAt(0)&&0===j.nodeName.indexOf("xmlns:")){_||(w=this.copyMappings(w),_=!0);var A=j.nodeName.substring(6),C=e.trim(j.value);w[A]=this.options.base?l.join(C,this.options.base):C}}var D=p.getAttributeNode("prefix");D&&(_||(w=this.copyMappings(w),_=!0),this.parsePrefixMappings(D.value,w));for(var P=null,L=0;!P&&L<this.langAttributes.length;L++)P=p.getAttributeNodeNS(this.langAttributes[L].namespaceURI,this.langAttributes[L].localName);if(P){var F=e.trim(P.value);O=F.length>0?F:null}var M,U,B=p.getAttributeNode("rel"),q=p.getAttributeNode("rev"),V=p.getAttributeNode("typeof"),$=p.getAttributeNode("property"),G=p.getAttributeNode("datatype"),H=this.inHTMLMode?p.getAttributeNode("datetime"):null,z=p.getAttributeNode("content"),Q=p.getAttributeNode("about"),J=p.getAttributeNode("src"),W=p.getAttributeNode("resource"),X=p.getAttributeNode("href"),K=p.getAttributeNode("inlist"),Y=[];if(B){U=this.tokenize(B.value);for(var Z=0;Z<U.length;Z++)M=this.parsePredicate(U[Z],S,y.terms,w,n,this.inHTMLMode&&null!==$),M&&Y.push(M)}var ee=[];if(q){U=this.tokenize(q.value);for(var te=0;te<U.length;te++)M=this.parsePredicate(U[te],S,y.terms,w,n,this.inHTMLMode&&$),M&&ee.push(M)}if(this.inHTMLMode&&(B||q)&&$&&(0===Y.length&&(B=null),0===ee.length&&(q=null)),B||q?(Q&&(v=this.parseSafeCURIEOrCURIEOrURI(Q.value,w,n)),V&&(b=v),v||(p.parentNode.nodeType===h.DOCUMENT_NODE?v=a(p.baseURI):y.parentObject&&(v=a(p.parentNode.baseURI)===y.parentObject?a(p.baseURI):y.parentObject)),W&&(m=this.parseSafeCURIEOrCURIEOrURI(W.value,w,n)),m||(X?m=this.resolveAndNormalize(n,encodeURI(X.value)):J?m=this.resolveAndNormalize(n,encodeURI(J.value)):!V||Q||this.inXHTMLMode&&("head"===p.localName||"body"===p.localName)||(m=this.newBlankNode())),!V||Q||!this.inXHTMLMode||"head"!==p.localName&&"body"!==p.localName?V&&!Q&&(b=m):b=v):!$||z||G?(Q&&(v=this.parseSafeCURIEOrCURIEOrURI(Q.value,w,n)),!v&&W&&(v=this.parseSafeCURIEOrCURIEOrURI(W.value,w,n)),!v&&X&&(v=this.resolveAndNormalize(n,encodeURI(X.value))),!v&&J&&(v=this.resolveAndNormalize(n,encodeURI(J.value))),v||(p.parentNode.nodeType===h.DOCUMENT_NODE?v=a(p.baseURI):!this.inXHTMLMode&&!this.inHTMLMode||"head"!==p.localName&&"body"!==p.localName?V?v=this.newBlankNode():y.parentObject&&(v=a(p.parentNode.baseURI)===y.parentObject?a(p.baseURI):y.parentObject,$||(g=!0)):v=a(p.parentNode.baseURI)===y.parentObject?a(p.baseURI):y.parentObject),V&&(b=v)):(Q&&(v=this.parseSafeCURIEOrCURIEOrURI(Q.value,w,n),V&&(b=v)),v||p.parentNode.nodeType!==h.DOCUMENT_NODE?!v&&y.parentObject&&(v=a(p.parentNode.baseURI)===y.parentObject?a(p.baseURI):y.parentObject):(v=a(p.baseURI),V&&(b=v)),V&&!b&&(W&&(b=this.parseSafeCURIEOrCURIEOrURI(W.value,w,n)),!b&&X&&(b=this.resolveAndNormalize(n,encodeURI(X.value))),!b&&J&&(b=this.resolveAndNormalize(n,encodeURI(J.value))),b||!this.inXHTMLMode&&!this.inHTMLMode||"head"!==p.localName&&"body"!==p.localName||(b=v),b||(b=this.newBlankNode()),m=b)),v&&(Q||W||b)){var re=v;V&&!Q&&!W&&m&&(re=m),this.newSubjectOrigin(p,re)}if(b){U=this.tokenize(V.value);for(var ne=0;ne<U.length;ne++){var ie=this.parseTermOrCURIEOrAbsURI(U[ne],S,y.terms,w,n);ie&&this.addTriple(p,b,e.typeURI,{type:e.objectURI,value:ie})}}if(v&&v!==y.parentObject&&(E={},T=!0),m){if(B&&K)for(var ae=0;ae<Y.length;ae++){var oe=E[Y[ae]];oe||(oe=[],E[Y[ae]]=oe),oe.push({type:e.objectURI,value:m})}else if(B)for(var se=0;se<Y.length;se++)this.addTriple(p,v,Y[se],{type:e.objectURI,value:m});if(q)for(var ue=0;ue<ee.length;ue++)this.addTriple(p,m,ee[ue],{type:e.objectURI,value:v})}else{if(v&&!m&&(B||q)&&(m=this.newBlankNode()),B&&K)for(var ce=0;ce<Y.length;ce++){var le=E[Y[ce]];le||(le=[],E[M]=le),x.push({predicate:Y[ce],list:le})}else if(B)for(var de=0;de<Y.length;de++)x.push({predicate:Y[de],forward:!0});if(q)for(var fe=0;fe<ee.length;fe++)x.push({predicate:ee[fe],forward:!1})}if($){var he=null,pe=null;G?(he=""===G.value?e.PlainLiteralURI:this.parseTermOrCURIEOrAbsURI(G.value,S,y.terms,w,n),pe=H&&!z?H.value:he===e.XMLLiteralURI||he===e.HTMLLiteralURI?null:z?z.value:p.textContent):z?(he=e.PlainLiteralURI,pe=z.value):H?(pe=H.value,he=e.deriveDateTimeType(pe),he||(he=e.PlainLiteralURI)):B||q||(W&&(pe=this.parseSafeCURIEOrCURIEOrURI(W.value,w,n)),!pe&&X?pe=this.resolveAndNormalize(n,encodeURI(X.value)):!pe&&J&&(pe=this.resolveAndNormalize(n,encodeURI(J.value))),pe&&(he=e.objectURI)),he||(V&&!Q?(he=e.objectURI,pe=b):(pe=p.textContent,this.inHTMLMode&&"time"===p.localName&&(he=e.deriveDateTimeType(pe)),he||(he=e.PlainLiteralURI))),U=this.tokenize($.value);for(var ye=0;ye<U.length;ye++){var ge=this.parsePredicate(U[ye],S,y.terms,w,n);if(ge)if(K){var ve=E[ge];ve||(ve=[],E[ge]=ve),ve.push(he===e.XMLLiteralURI||he===e.HTMLLiteralURI?{type:he,value:p.childNodes}:{type:he||e.PlainLiteralURI,value:pe,language:O})}else he===e.XMLLiteralURI||he===e.HTMLLiteralURI?this.addTriple(p,v,ge,{type:he,value:p.childNodes}):this.addTriple(p,v,ge,{type:he||e.PlainLiteralURI,value:pe,language:O})}}if(v&&!g)for(var me=0;me<y.incomplete.length;me++)y.incomplete[me].list?y.incomplete[me].list.push({type:e.objectURI,value:v}):y.incomplete[me].forward?this.addTriple(p,y.subject,y.incomplete[me].predicate,{type:e.objectURI,value:v}):this.addTriple(p,v,y.incomplete[me].predicate,{type:e.objectURI,value:y.subject});var be=null,we=v;g?(be=this.push(y,y.subject),be.parentObject=a(p.parentNode.baseURI)===y.parentObject?a(p.baseURI):y.parentObject,be.incomplete=y.incomplete,be.language=O,be.prefixes=w,be.vocabulary=S):(be=this.push(y,v),be.parentObject=m||v||y.subject,be.prefixes=w,be.incomplete=x,m&&(we=m,E={},T=!0),be.listMapping=E,be.language=O,be.vocabulary=S),T&&i.unshift({parent:p,context:y,subject:we,listMapping:E});for(var _e=p.lastChild;_e;_e=_e.previousSibling)_e.nodeType===h.ELEMENT_NODE&&i.unshift({current:_e,context:be})}}this.inHTMLMode&&this.copyProperties();for(var xe=0;xe<this.finishedHandlers.length;xe++)this.finishedHandlers[xe](t)}},{key:"push",value:function(e,t){return{parent:e,subject:t||(e?e.subject:null),parentObject:null,incomplete:[],listMapping:e?e.listMapping:{},language:e?e.language:this.language,prefixes:e?e.prefixes:this.target.graph.prefixes,terms:e?e.terms:this.target.graph.terms,vocabulary:e?e.vocabulary:this.vocabulary}}},{key:"resolveAndNormalize",value:function(e,t){return l.join(t,e)}},{key:"setContext",value:function(e){"html"===e.localName&&"XHTML+RDFa 1.1"===e.getAttribute("version")?this.setXHTMLContext():"html"===e.localName||"http://www.w3.org/1999/xhtml"===e.namespaceURI?"undefined"!==typeof document&&document.doctype?"-//W3C//DTD XHTML+RDFa 1.0//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd"===document.doctype.systemId?(console.log("WARNING: RDF 1.0 is not supported.  Defaulting to HTML5 mode."),this.setHTMLContext()):"-//W3C//DTD XHTML+RDFa 1.1//EN"===document.doctype.publicId&&"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-2.dtd"===document.doctype.systemId?this.setXHTMLContext():this.setHTMLContext():this.setHTMLContext():this.setXMLContext()}},{key:"setHTMLContext",value:function(){this.setInitialContext(),this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.inXHTMLMode=!1,this.inHTMLMode=!0}},{key:"setInitialContext",value:function(){this.vocabulary=null,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"}]}},{key:"setXHTMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!0,this.inHTMLMode=!1,this.langAttributes=[{namespaceURI:"http://www.w3.org/XML/1998/namespace",localName:"lang"},{namespaceURI:null,localName:"lang"}],this.target.graph.terms["alternate"]="http://www.w3.org/1999/xhtml/vocab#alternate",this.target.graph.terms["appendix"]="http://www.w3.org/1999/xhtml/vocab#appendix",this.target.graph.terms["bookmark"]="http://www.w3.org/1999/xhtml/vocab#bookmark",this.target.graph.terms["cite"]="http://www.w3.org/1999/xhtml/vocab#cite",this.target.graph.terms["chapter"]="http://www.w3.org/1999/xhtml/vocab#chapter",this.target.graph.terms["contents"]="http://www.w3.org/1999/xhtml/vocab#contents",this.target.graph.terms["copyright"]="http://www.w3.org/1999/xhtml/vocab#copyright",this.target.graph.terms["first"]="http://www.w3.org/1999/xhtml/vocab#first",this.target.graph.terms["glossary"]="http://www.w3.org/1999/xhtml/vocab#glossary",this.target.graph.terms["help"]="http://www.w3.org/1999/xhtml/vocab#help",this.target.graph.terms["icon"]="http://www.w3.org/1999/xhtml/vocab#icon",this.target.graph.terms["index"]="http://www.w3.org/1999/xhtml/vocab#index",this.target.graph.terms["last"]="http://www.w3.org/1999/xhtml/vocab#last",this.target.graph.terms["license"]="http://www.w3.org/1999/xhtml/vocab#license",this.target.graph.terms["meta"]="http://www.w3.org/1999/xhtml/vocab#meta",this.target.graph.terms["next"]="http://www.w3.org/1999/xhtml/vocab#next",this.target.graph.terms["prev"]="http://www.w3.org/1999/xhtml/vocab#prev",this.target.graph.terms["previous"]="http://www.w3.org/1999/xhtml/vocab#previous",this.target.graph.terms["section"]="http://www.w3.org/1999/xhtml/vocab#section",this.target.graph.terms["stylesheet"]="http://www.w3.org/1999/xhtml/vocab#stylesheet",this.target.graph.terms["subsection"]="http://www.w3.org/1999/xhtml/vocab#subsection",this.target.graph.terms["start"]="http://www.w3.org/1999/xhtml/vocab#start",this.target.graph.terms["top"]="http://www.w3.org/1999/xhtml/vocab#top",this.target.graph.terms["up"]="http://www.w3.org/1999/xhtml/vocab#up",this.target.graph.terms["p3pv1"]="http://www.w3.org/1999/xhtml/vocab#p3pv1",this.target.graph.terms["related"]="http://www.w3.org/1999/xhtml/vocab#related",this.target.graph.terms["role"]="http://www.w3.org/1999/xhtml/vocab#role",this.target.graph.terms["transformation"]="http://www.w3.org/1999/xhtml/vocab#transformation"}},{key:"setXMLContext",value:function(){this.setInitialContext(),this.inXHTMLMode=!1,this.inHTMLMode=!1}},{key:"tokenize",value:function(e){return this.trim(e).split(/\s+/)}},{key:"toRDFNodeObject",value:function(t){if("undefined"!==typeof t){if("string"===typeof t)return"_:"===t.substring(0,2)?("undefined"===typeof this.blankNodes[t.substring(2)]&&(this.blankNodes[t.substring(2)]=new s.default(t.substring(2))),this.blankNodes[t.substring(2)]):f.default.namedNode(t);switch(t.type){case e.objectURI:return"_:"===t.value.substring(0,2)?("undefined"===typeof this.blankNodes[t.value.substring(2)]&&(this.blankNodes[t.value.substring(2)]=new s.default(t.value.substring(2))),this.blankNodes[t.value.substring(2)]):f.default.namedNode(t.value);case e.PlainLiteralURI:return new u.default(t.value,t.language||"");case e.XMLLiteralURI:case e.HTMLLiteralURI:var r="";return Object.keys(t.value).forEach((function(e){r+=d.domToString(t.value[e],this.htmlOptions)})),new u.default(r,"",new c.default(t.type));default:return new u.default(t.value,"",new c.default(t.type))}}}},{key:"trim",value:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}],[{key:"parseRDFaDOM",value:function(t,r,n){var i=new e(r,{base:n});t.baseURI||(t.baseURI=n),i.process(t,{baseURI:n})}},{key:"tokenize",value:function(e){return this.trim(e).split(/\s+/)}},{key:"trim",value:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}]),e}();t.default=p,p.XMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",p.HTMLLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",p.PlainLiteralURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",p.objectURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",p.typeURI="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",p.nameChar="[-A-Z_a-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�က0-F.0-9·̀-ͯ‿-⁀]",p.nameStartChar="[A-Za-zÀ-ÖØ-öø-ÿĀ-ıĴ-ľŁ-ňŊ-žƀ-ǃǍ-ǰǴ-ǵǺ-ȗɐ-ʨʻ-ˁΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϖϚϜϞϠϢ-ϳЁ-ЌЎ-яё-ќў-ҁҐ-ӄӇ-ӈӋ-ӌӐ-ӫӮ-ӵӸ-ӹԱ-Ֆՙա-ֆא-תװ-ײء-غف-يٱ-ڷں-ھۀ-ێې-ۓەۥ-ۦअ-हऽक़-ॡঅ-ঌএ-ঐও-নপ-রলশ-হড়-ঢ়য়-ৡৰ-ৱਅ-ਊਏ-ਐਓ-ਨਪ-ਰਲ-ਲ਼ਵ-ਸ਼ਸ-ਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલ-ળવ-હઽૠଅ-ଌଏ-ଐଓ-ନପ-ରଲ-ଳଶ-ହଽଡ଼-ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கங-சஜஞ-டண-தந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠ-ౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠ-ೡഅ-ഌഎ-ഐഒ-നപ-ഹൠ-ൡก-ฮะา-ำเ-ๅກ-ຂຄງ-ຈຊຍດ-ທນ-ຟມ-ຣລວສ-ຫອ-ຮະາ-ຳຽເ-ໄཀ-ཇཉ-ཀྵႠ-Ⴥა-ჶᄀᄂ-ᄃᄅ-ᄇᄉᄋ-ᄌᄎ-ᄒᄼᄾᅀᅌᅎᅐᅔ-ᅕᅙᅟ-ᅡᅣᅥᅧᅩᅭ-ᅮᅲ-ᅳᅵᆞᆨᆫᆮ-ᆯᆷ-ᆸᆺᆼ-ᇂᇫᇰᇹḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼΩK-Å℮ↀ-ↂぁ-ゔァ-ヺㄅ-ㄬ가-힣一-龥〇〡-〩_]",p.NCNAME=new RegExp("^"+p.nameStartChar+p.nameChar+"*$"),p.dateTimeTypes=[{pattern:/-?P(?:[0-9]+Y)?(?:[0-9]+M)?(?:[0-9]+D)?(?:T(?:[0-9]+H)?(?:[0-9]+M)?(?:[0-9]+(?:\.[0-9]+)?S)?)?/,type:"http://www.w3.org/2001/XMLSchema#duration"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9]T(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#dateTime"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]-[0-9][0-9](?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#date"},{pattern:/(?:[0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9](?:\.[0-9]+)?(?:Z|[+\-][0-9][0-9]:[0-9][0-9])?/,type:"http://www.w3.org/2001/XMLSchema#time"},{pattern:/-?(?:[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9])-[0-9][0-9]/,type:"http://www.w3.org/2001/XMLSchema#gYearMonth"},{pattern:/-?[1-9][0-9][0-9][0-9]|0[1-9][0-9][0-9]|00[1-9][0-9]|000[1-9]/,type:"http://www.w3.org/2001/XMLSchema#gYear"}];var y=p.parseRDFaDOM;t.parseRDFaDOM=y},f62b:function(e,t,r){"use strict";r.r(t);var n=r("851f");class i{constructor(e){this._defaultStore=this.readSources(e),this._defaultStore.catch(()=>null)}async*execute(e,t){/^\s*(?:INSERT|DELETE)/i.test(e)&&(yield*this.executeUpdate(e,t));const r=Object(n["SPARQLToQuery"])(e,!0,Object(n["graph"])()),i=await(t?this.readSources(t):this._defaultStore);i.fetcher=null;const a=[];await new Promise((e,t)=>{i.query(r,e=>a.push(e),null,r=>r?t(r):e(a))});const o=new Set(r.vars.map(e=>"?"+e.value));for(const n of a){const e=Object.entries(n).filter(([e])=>o.has(e));yield new Map(e)}}async*executeUpdate(e,t){throw new Error("SPARQL UPDATE queries are unsupported, received: "+e)}async readSources(e,t=Object(n["graph"])()){let r=await e;if(r)if(r instanceof URL?r=r.href:"NamedNode"===r.termType&&(r=r.value),"string"===typeof r){const e=r.replace(/#.*/,""),i=new n["Fetcher"](t);await i.load(e)}else if(Array.isArray(r))await Promise.all(r.map(e=>this.readSources(e,t)));else{if("function"!==typeof r.match)throw new Error("Unsupported source: "+r);{const e=r.match(null,null,null,null);await new Promise((r,n)=>{function i(e){try{t.add(e.subject,e.predicate,e.object,e.graph)}catch(r){a(r)}}function a(t){return e.removeListener("data",i),e.removeListener("end",a),e.removeListener("error",a),t?n(t):r(null)}e.on("data",i),e.on("end",a),e.on("error",a)})}}return t}async clearCache(e){}}t["default"]=i},f6d5:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a=n(r("9523")),o=n(r("b1e9")),s=n(r("8fd3")),u=r("43f5"),c=r("037b"),l=r("ab32"),d=n(r("089a"));function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=h(h({},s.default),{},{supports:(i={},(0,a.default)(i,c.Feature.collections,!0),(0,a.default)(i,c.Feature.defaultGraphType,!1),(0,a.default)(i,c.Feature.equalsMethod,!0),(0,a.default)(i,c.Feature.identity,!1),(0,a.default)(i,c.Feature.id,!0),(0,a.default)(i,c.Feature.reversibleId,!1),(0,a.default)(i,c.Feature.variableType,!0),i),collection:function(e){return new o.default(e)},id:function(e){var t=this;return(0,l.isCollection)(e)?"( ".concat(e.elements.map((function(e){return t.id(e)})).join(", ")," )"):(0,l.isVariable)(e)?d.default.toString(e):s.default.id(e)},termToNQ:function(e){return e.termType===u.CollectionTermType?o.default.toNT(e):s.default.termToNQ(e)}}),y=p;t.default=y},f703:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r("00e8")),i=r("f947");function a(e){return e&&e.__esModule?e:{default:e}}class o{constructor(e,t){this._source=this.getUpdateSource(e),this._source.catch(()=>null),this._engine=t}async*execute(e,t){yield*/^\s*(?:INSERT|DELETE)/i.test(e)?this.executeUpdate(e,t):this._engine.execute(e,t)}executeUpdate(e,t){let r=!1;const a=async()=>{if(r)return{done:r};r=!0;const a=await(t?this.getUpdateSource(t):this._source),{ok:o,status:s,statusText:u}=await n.default.fetch(a,{method:"PATCH",headers:{"Content-Type":"application/sparql-update"},body:e});if(!o)throw new Error("Update query failed (".concat(s,"): ").concat(u));return await this.clearCache(a),{value:(0,i.asList)({ok:o})}};return{next:a,return:s,throw:s,[Symbol.asyncIterator](){return this}}}async getUpdateSource(e){let t=await e;if(t instanceof URL?t=t.href:t&&"string"===typeof t.value&&(t=t.value),"string"===typeof t){if(!/^https?:\/\//.test(t))throw new Error("Can only update an HTTP(S) document.");return t.replace(/#.*/,"")}if(Array.isArray(t)){if(t=await Promise.all(t.map(e=>this.getUpdateSource(e))),t=[].concat(...t).filter(e=>!!e),1!==t.length)throw new Error("Can only update a single source.");return t[0]}throw new Error("Unsupported source: ".concat(t))}clearCache(e){return this._engine.clearCache(e)}}function s(){}t.default=o},f7ae:function(e,t,r){"use strict";var n=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("970b")),a=n(r("5bc3")),o=n(r("3c96")),s=n(r("ed6d")),u=n(r("6b58")),c=n(r("36c6")),l=n(r("9523")),d=n(r("21b4")),f=n(r("b1e9")),h=n(r("8fd3")),p=n(r("3c962")),y=n(r("491a")),g=n(r("33e3")),v=n(r("b80f")),m=r("43f5"),b=r("ab32"),w=n(r("089a")),_=r("1079"),x=n(r("606c"));function E(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=T(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function T(e,t){if(e){if("string"===typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S(e){var t=N();return function(){var r,n=(0,c.default)(e);if(t){var i=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function N(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var I=function(e){(0,s.default)(r,e);var t=S(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,i.default)(this,r),e=t.call(this,""),e.statements=n,e.constraints=a,e.initBindings=s,e.optional=u,(0,l.default)((0,o.default)(e),"termType",m.GraphTermType),(0,l.default)((0,o.default)(e),"classOrder",d.default.Graph),(0,l.default)((0,o.default)(e),"fetcher",void 0),(0,l.default)((0,o.default)(e),"isVar",0),(0,l.default)((0,o.default)(e),"ns",y.default),(0,l.default)((0,o.default)(e),"rdfFactory",void 0),e.rdfFactory=c&&c.rdfFactory||h.default;var f,p=E(_.appliedFactoryMethods);try{var g=function(){var t=f.value;e[t]=function(){var r;return(r=e.rdfFactory)[t].apply(r,arguments)}};for(p.s();!(f=p.n()).done;)g()}catch(v){p.e(v)}finally{p.f()}return e}return(0,a.default)(r,[{key:"add",value:function(e,t,r,n){var i=this;return 1===arguments.length&&e.forEach((function(e){return i.add(e.subject,e.predicate,e.object,e.graph)})),this.statements.push(this.rdfFactory.quad(e,t,r,n))}},{key:"addStatement",value:function(e){return this.add(e)}},{key:"bnode",value:function(e){return this.rdfFactory.blankNode(e)}},{key:"addAll",value:function(e){var t=this;e.forEach((function(e){t.add(e.subject,e.predicate,e.object,e.graph)}))}},{key:"any",value:function(e,t,r,n){var i=this.anyStatementMatching(e,t,r,n);return null==i?null:null==e?i.subject:null==t?i.predicate:null==r?i.object:null}},{key:"anyValue",value:function(e,t,r,n){var i=this.any(e,t,r,n);return i?i.value:void 0}},{key:"anyJS",value:function(e,t,r,n){var i=this.any(e,t,r,n);return i?g.default.toJS(i):void 0}},{key:"anyStatementMatching",value:function(e,t,r,n){var i=this.statementsMatching(e,t,r,n,!0);if(i&&0!==i.length)return i[0]}},{key:"id",value:function(e){return this.rdfFactory.id(e)}},{key:"statementsMatching",value:function(e,t,r,n,i){var a=this.statements.filter((function(i){return(!e||e.equals(i.subject))&&(!t||t.equals(i.predicate))&&(!r||r.equals(i.object))&&(!n||n.equals(i.subject))}));return i?0===a.length?[]:[a[0]]:a}},{key:"bottomTypeURIs",value:function(e){var t,r,n,i,a,o,s,u;for(var c in t=[],e)if(e.hasOwnProperty(c)){for(u=e[c],s=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),this.rdfFactory.namedNode(c)),r=!0,i=0,a=s.length;i<a;i++)if(n=s[i],o=n.uri,o in e){r=!1;break}r&&(t[c]=u)}return t}},{key:"collection",value:function(){return new f.default}},{key:"each",value:function(e,t,r,n){var i=[],a=this.statementsMatching(e,t,r,n,!1);if(null==e)for(var o=0,s=a.length;o<s;o++)i.push(a[o].subject);else if(null==t)for(var u=0,c=a.length;u<c;u++)i.push(a[u].predicate);else if(null==r)for(var l=0,d=a.length;l<d;l++)i.push(a[l].object);else if(null==n)for(var f=0,h=a.length;f<h;f++)i.push(new x.default(a[f].graph.value));return i}},{key:"equals",value:function(e){return!!e&&this.hashString()===e.hashString()}},{key:"findMembersNT",value:function(e){var t,r,n,i,a,o,s,u,c,l,d,f,h,p;for(var y in f={},f[e.toNT()]=!0,i={},o=this.transitiveClosure(f,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0),o)if(o.hasOwnProperty(y)){s=this.statementsMatching(void 0,this.rdfFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.fromNT(y));for(var g=0,v=s.length;g<v;g++)h=s[g],i[h.subject.toNT()]=h;u=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"),this.fromNT(y));for(var m=0,b=u.length;m<b;m++)for(a=u[m],c=this.statementsMatching(void 0,a),n=0,t=c.length;n<t;n++)h=c[n],i[h.subject.toNT()]=h;l=this.each(void 0,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"),this.fromNT(y));for(var w=0,_=l.length;w<_;w++)for(a=l[w],d=this.statementsMatching(void 0,a),p=0,r=d.length;p<r;p++)h=d[p],i[h.object.toNT()]=h}return i}},{key:"findMemberURIs",value:function(e){return this.NTtoURI(this.findMembersNT(e))}},{key:"findSubClassesNT",value:function(e){var t={};return t[e.toNT()]=!0,this.transitiveClosure(t,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!0)}},{key:"findSuperClassesNT",value:function(e){var t={};return t[e.toNT()]=!0,this.transitiveClosure(t,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypesNT",value:function(e){var t,r,n,i,a,o,s,u,c;n="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",c=[],i=this.statementsMatching(e,void 0,void 0);for(var l=0,d=i.length;l<d;l++)if(u=i[l],u.predicate.uri===n)c[u.object.toNT()]=u;else{a=this.each(u.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#domain"));for(var f=0,h=a.length;f<h;f++)r=a[f],c[r.toNT()]=u}o=this.statementsMatching(void 0,void 0,e);for(var p=0,y=o.length;p<y;p++){u=o[p],s=this.each(u.predicate,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#range"));for(var g=0,v=s.length;g<v;g++)t=s[g],c[t.toNT()]=u}return this.transitiveClosure(c,this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf"),!1)}},{key:"findTypeURIs",value:function(e){return this.NTtoURI(this.findTypesNT(e))}},{key:"connectedStatements",value:function(e,t,r){r=r||[];var n=[e],i={},a={},o=[],s=this,u=function(e){var u=function(e){"BlankNode"!==e.termType||i[e.value]||(i[e.value]=!0,n.push(e))},c=s.statementsMatching(null,null,e,t).concat(s.statementsMatching(e,null,null,t));c=c.filter((function(e){if(r[e.predicate.value])return!1;var t=e.toNT();return!a[t]&&(a[t]=!0,!0)})),c.forEach((function(e){u(e.subject),u(e.object)})),o=o.concat(c)};while(n.length)u(n.shift());return o}},{key:"formula",value:function(e){return new r}},{key:"fromNT",value:function(e){var t,r,n;switch(e[0]){case"<":return this.sym(e.slice(1,-1));case'"':if(n=void 0,t=void 0,r=e.lastIndexOf('"'),r<e.length-1)if("@"===e[r+1])n=e.slice(r+2);else{if("^^"!==e.slice(r+1,r+3))throw new Error("Can't convert string from NT: "+e);t=this.fromNT(e.slice(r+3))}return e=e.slice(1,r),e=e.replace(/\\"/g,'"'),e=e.replace(/\\n/g,"\n"),e=e.replace(/\\\\/g,"\\"),this.rdfFactory.literal(e,n||t);case"_":return this.rdfFactory.blankNode(e.slice(2));case"?":return new w.default(e.slice(1))}throw new Error("Can't convert from NT: "+e)}},{key:"holds",value:function(e,t,r,n){var i;if(1===arguments.length){if(!e)return!0;if(e instanceof Array){for(i=0;i<e.length;i++)if(!this.holds(e[i]))return!1;return!0}if((0,b.isStatement)(e))return this.holds(e.subject,e.predicate,e.object,e.graph);if(e.statements)return this.holds(e.statements)}var a=this.anyStatementMatching(e,t,r,n);return null!=a}},{key:"holdsStatement",value:function(e){return this.holds(e.subject,e.predicate,e.object,e.graph)}},{key:"list",value:function(e,t){if(t.rdfFactory.supports["COLLECTIONS"]){var r=t.rdfFactory.collection();return e.forEach((function(e){r.append(e)})),r}var n=t.rdfFactory.blankNode(),i=(0,_.arrayToStatements)(t.rdfFactory,n,e);return t.addAll(i),n}},{key:"NTtoURI",value:function(e){var t,r,n={};for(t in e)e.hasOwnProperty(t)&&(r=e[t],"<"===t[0]&&(n[t.slice(1,-1)]=r));return n}},{key:"serialize",value:function(e,t,r){var n,i,a;switch(a=(0,v.default)(this),a.suggestNamespaces(this.ns),a.setBase(e),i=r?this.statementsMatching(void 0,void 0,void 0,r):this.statements,null!=t?t:"text/n3"){case"application/rdf+xml":n=a.statementsToXML(i);break;case"text/n3":case"text/turtle":n=a.statementsToN3(i);break;default:throw new Error("serialize: Content-type "+t+" not supported.")}return n}},{key:"substitute",value:function(e){var t=this.statements.map((function(t){return t.substitute(e)}));console.log("Formula subs statmnts:"+t);var n=new r;return n.addAll(t),console.log("indexed-form subs formula:"+n),n}},{key:"sym",value:function(e,t){if(t)throw new Error("This feature (kb.sym with 2 args) is removed. Do not assume prefix mappings.");return this.rdfFactory.namedNode(e)}},{key:"the",value:function(e,t,r,n){var i=this.any(e,t,r,n);return null==i&&p.default.error("No value found for the() {"+e+" "+t+" "+r+"}."),i}},{key:"transitiveClosure",value:function(e,t,r){var n,i,a,o,s,u,c={};Object.assign(c,e);var l={};while(1){if(u=function(){for(var e in c)if(c.hasOwnProperty(e))return e}(),null==u)return l;for(s=r?this.each(void 0,t,this.fromNT(u)):this.each(this.fromNT(u),t),i=0,a=s.length;i<a;i++)n=s[i],o=n.toNT(),o in l||o in c||(c[o]=c[u]);l[u]=c[u],delete c[u]}}},{key:"topTypeURIs",value:function(e){var t,r,n,i,a,o,s,u;for(n in s=[],e)if(e.hasOwnProperty(n)){for(u=e[n],a=0,o=this.each(this.rdfFactory.namedNode(n),this.rdfFactory.namedNode("http://www.w3.org/2000/01/rdf-schema#subClassOf")),t=0,i=o.length;t<i;t++)if(r=o[t],"http://www.w3.org/2000/01/rdf-schema#Resource"!==r.uri){a++;break}a||(s[n]=u)}return s["http://www.w3.org/2000/01/rdf-schema#Resource"]&&delete s["http://www.w3.org/2000/01/rdf-schema#Resource"],s["http://www.w3.org/2002/07/owl#Thing"]&&delete s["http://www.w3.org/2002/07/owl#Thing"],s}},{key:"toString",value:function(){return"{"+this.statements.join("\n")+"}"}},{key:"variable",value:function(e){return new w.default(e)}},{key:"whether",value:function(e,t,r,n){return this.statementsMatching(e,t,r,n,!1).length}}]),r}(g.default);t.default=I},f947:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceVariables=a,t.asList=o,t.termToString=void 0;var n=r("600b");const{termToString:i}=n.SparqlHandler.prototype;function a(e,t){for(const r in t)e=e.replace(new RegExp("_:".concat(r),"g"),i(t[r]));return e}function o(...e){return{size:e.length,values:()=>({next:()=>({value:e.shift()})})}}t.termToString=i},f9a0:function(e,t,r){"use strict";const{RDF_LANGSTRING:n,RDF_PLAIN_LITERAL:i,RDF_OBJECT:a,RDF_XML_LITERAL:o,XSD_STRING:s}=r("feb1");let u;function c(){return"undefined"===typeof XMLSerializer?r(21).XMLSerializer:XMLSerializer}u="undefined"!==typeof Node?Node:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},e.exports=class{parse(e){const t={"@default":[]},r=e.getSubjects();for(let l=0;l<r.length;++l){const d=r[l];if(null===d)continue;const f=e.getSubjectTriples(d);if(null===f)continue;const h=f.predicates;for(const e in h){const r=h[e].objects;for(let l=0;l<r.length;++l){const f=r[l],h={};0===d.indexOf("_:")?h.subject={type:"blank node",value:d}:h.subject={type:"IRI",value:d},0===e.indexOf("_:")?h.predicate={type:"blank node",value:e}:h.predicate={type:"IRI",value:e};let p=f.value;if(f.type===o){const e=c(),t=new e;p="";for(let r=0;r<f.value.length;r++)f.value[r].nodeType===u.ELEMENT_NODE?p+=t.serializeToString(f.value[r]):f.value[r].nodeType===u.TEXT_NODE&&(p+=f.value[r].nodeValue)}h.object={},f.type===a?0===f.value.indexOf("_:")?h.object.type="blank node":h.object.type="IRI":(h.object.type="literal",f.type===i?f.language?(h.object.datatype=n,h.object.language=f.language):h.object.datatype=s:h.object.datatype=f.type),h.object.value=p,t["@default"].push(h)}}}return t}}},fb42:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,a){function o(e){try{u(n.next(e))}catch(t){a(t)}}function s(e){try{u(n["throw"](e))}catch(t){a(t)}}function u(e){e.done?r(e.value):i(e.value).then(o,s)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FetchDocumentLoader=void 0,r("7274");const i=r("56af"),a=r("c7e2"),o=r("e43f");class s{constructor(e){this.fetcher=e}load(e){return n(this,void 0,void 0,(function*(){const t=yield(this.fetcher||fetch)(e,{headers:new Headers({accept:"application/ld+json"})});if(t.ok&&t.headers){let r=t.headers.get("Content-Type");if(r){const e=r.indexOf(";");e>0&&(r=r.substr(0,e))}if("application/ld+json"===r)return yield t.json();if(t.headers.has("Link")){let r;if(t.headers.forEach((t,n)=>{if("link"===n){const n=a.parse(t);for(const t of n.get("type","application/ld+json"))if("alternate"===t.rel){if(r)throw new Error("Multiple JSON-LD alternate links were found on "+e);r=o.resolve(t.uri,e)}}}),r)return this.load(r)}throw new i.ErrorCoded("Unsupported JSON-LD media type "+r,i.ERROR_CODES.LOADING_DOCUMENT_FAILED)}throw new Error(t.statusText||"Status code: "+t.status)}))}}t.FetchDocumentLoader=s},fd4e:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){return{parseJSON:function(e,t,r){var n,i,a,o={},s=r.sym(t);for(var u in e){0===u.indexOf("_:")?o[u]?n=o[u]:(n=r.bnode(u),o[u]=n):n=r.sym(u);var c=e[u];for(var l in c){var d=c[l];for(var f in i=r.sym(l),d){var h=d[f];if("uri"===h.type)a=r.sym(h.value),r.add(n,i,a,s);else if("BlankNode"===h.type)o[h.value]?a=o[h.value]:(a=r.bnode(h.value),o[h.value]=a),r.add(n,i,a,s);else{if("Literal"!==h.type)throw new Error("error: unexpected termtype: "+f.type);a=h.datatype?r.literal(h.value,void 0,r.sym(h.datatype)):h.lang?r.literal(h.value,h.lang):r.literal(h.value),r.add(n,i,a,s)}}}}}}}();t.default=n},fdb5:function(e,t,r){"use strict";const{parseLinkHeader:n,buildHeaders:i}=r("89ae"),{LINK_HEADER_CONTEXT:a}=r("feb1"),o=r("5950"),s=r("40ce"),{prependBase:u}=r("ddd7");function c(e,t){return new Promise((r,n)=>{e(t,(e,t,i)=>{e?n(e):r({res:t,body:i})})})}e.exports=({secure:e,strictSSL:t=!0,maxRedirects:l=-1,request:d,headers:f={}}={strictSSL:!0,maxRedirects:-1,headers:{}})=>{f=i(f),d=d||r(22);const h=r(23),p=new s;return p.wrapLoader((function(e){return y(e,[])}));async function y(r,i){if(0!==r.indexOf("http:")&&0!==r.indexOf("https:"))throw new o('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:r});if(e&&0!==r.indexOf("https"))throw new o('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:r});let s,p=null;if(null!==p)return p;let g=null;try{s=await c(d,{url:r,headers:f,strictSSL:t,followRedirect:!1})}catch(w){throw new o("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:r,cause:w})}const{res:v,body:m}=s;p={contextUrl:null,documentUrl:r,document:m||null};const b=h.STATUS_CODES[v.statusCode];if(v.statusCode>=400)throw new o(`URL "${r}" could not be dereferenced: ${b}`,"jsonld.InvalidUrl",{code:"loading document failed",url:r,httpStatusCode:v.statusCode});if(v.headers.link&&"application/ld+json"!==v.headers["content-type"]){const e=n(v.headers.link),t=e[a];if(Array.isArray(t))throw new o("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:r});t&&(p.contextUrl=t.target),g=e["alternate"],g&&"application/ld+json"==g.type&&!(v.headers["content-type"]||"").match(/^application\/(\w*\+)?json$/)&&(v.headers.location=u(r,g.target))}if((g||v.statusCode>=300&&v.statusCode<400)&&v.headers.location){if(i.length===l)throw new o("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:r,httpStatusCode:v.statusCode,redirects:i});if(-1!==i.indexOf(r))throw new o("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:r,httpStatusCode:v.statusCode,redirects:i});return i.push(r),y(v.headers.location,i)}return i.push(r),p}}},feb1:function(e,t,r){"use strict";const n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#";e.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:n,RDF_LIST:n+"List",RDF_FIRST:n+"first",RDF_REST:n+"rest",RDF_NIL:n+"nil",RDF_TYPE:n+"type",RDF_PLAIN_LITERAL:n+"PlainLiteral",RDF_XML_LITERAL:n+"XMLLiteral",RDF_JSON_LITERAL:n+"JSON",RDF_OBJECT:n+"object",RDF_LANGSTRING:n+"langString",XSD:i,XSD_BOOLEAN:i+"boolean",XSD_DOUBLE:i+"double",XSD_INTEGER:i+"integer",XSD_STRING:i+"string"}},ff5e:function(e,t,r){"use strict";const n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#",a="http://www.w3.org/2000/10/swap/";t["a"]={xsd:{decimal:i+"decimal",boolean:i+"boolean",double:i+"double",integer:i+"integer",string:i+"string"},rdf:{type:n+"type",nil:n+"nil",first:n+"first",rest:n+"rest",langString:n+"langString"},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:a+"reify#forSome",forAll:a+"reify#forAll"},log:{implies:a+"log#implies"}}}}]);
//# sourceMappingURL=chunk-19b30634.5c1eb1cc.js.map